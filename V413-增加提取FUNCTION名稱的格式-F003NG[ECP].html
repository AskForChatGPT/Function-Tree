<!DOCTYPE html><html lang="zh-Hant"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>暗黑節點編輯器</title><style>body{background:#1e1e1e;color:#ffffff;font-family:'Arial',sans-serif;margin:0;overflow:hidden;user-select:none;}#canvas-container{position:fixed;width:100vw;height:100vh;overflow:hidden;cursor:grab;}#canvas-container.panning{cursor:grabbing;}#canvas-container.connecting,#canvas-container.selecting{cursor:crosshair;}#transform-container{position:absolute;top:0;left:0;transform-origin:0 0;will-change:transform;}#nodes-container{position:absolute;top:0;left:0;width:100%;height:100%;transform-origin:0 0;}#toolbar{position:fixed;top:10px;left:10px;z-index:1000;background:rgba(45,45,45,0.3);padding:10px;border-radius:5px;box-shadow:0 2px 5px rgba(0,0,0,0.5);backdrop-filter:blur(5px);}#left-panel{position:fixed;left:0;top:261px;width:300px;height:calc(100vh - 70px);background:rgba(30,30,30,0.9);border-right:1px solid #444;padding:10px;overflow-y:auto;z-index:100;}#node-list-container h3{color:#fff;margin-bottom:15px;padding-bottom:5px;border-bottom:1px solid #555;}canvas{position:absolute;top:0;left:0;z-index:1;pointer-events:none;}.node{position:absolute;background:rgba(45,45,45,0.85);border:1px solid rgba(68,68,68,0.5);border-radius:8px;width:200px;padding:10px;box-shadow:0 4px 8px rgba(0,0,0,0.5);z-index:10;transform-origin:0 0;transform:none !important;backdrop-filter:blur(2px);}.node.transparent{background:rgba(30,30,30,0.5);backdrop-filter:blur(4px);}.node.selected{border:2px solid #4a90e2;box-shadow:0 0 10px rgba(74,144,226,0.5);}.node.highlight{box-shadow:0 0 15px 5px rgba(255,255,0,0.7);transition:box-shadow 0.3s;}.node.highlight-same-name{box-shadow:0 0 15px 5px rgba(255,204,0,0.7);transition:box-shadow 0.3s;}.node.highlight-found{box-shadow:0 0 15px 5px rgba(0,255,255,0.7) !important;transition:box-shadow 0.3s;}.node-header{display:flex;align-items:center;margin-bottom:10px;gap:5px;z-index:15;}.node-title,.item-text,.paragraph-input,.N-input{background:rgba(58,58,58,0.8) !important;color:#ffffff !important;border:1px solid rgba(85,85,85,0.5) !important;}.node-title{order:4;flex-grow:1;padding:5px;font-size:14px;border-radius:4px;margin:0 5px;width:calc(100% - 50px);}.node-title:focus,.item-text:focus,.paragraph-input:focus{outline:none;border-color:#777 !important;}.input-port,.output-port{width:6px;height:6px;border-radius:50%;cursor:pointer;position:relative;z-index:30;border:2px solid #333;}.input-port{background:#4CAF50;margin-right:5px;order:1;}.output-port{background:#FF5722;margin-left:5px;}.input-port:hover,.output-port:hover{background:#ffffff;transform:scale(1.2);box-shadow:0 0 5px rgba(255,255,255,0.8);}.item{display:flex;align-items:center;margin:5px 0;background:#333;padding:5px;border-radius:4px;}.item-text{flex-grow:1;padding:5px;font-size:12px;border-radius:4px;width:calc(100% - 50px);}.paragraph-input,.N-input{width:95%;min-height:60px;padding:5px;margin-bottom:10px;border-radius:4px;resize:vertical;}.node-list-item{margin-bottom:15px;padding:10px;background:rgba(45,45,45,0.7);border-radius:4px;opacity:0.6;}.node-list-name{color:#fff;font-weight:bold;margin-bottom:5px;}.node-list-description{width:100%;min-height:60px;background:#3a3a3a;border:1px solid #555;color:#fff;padding:5px;border-radius:4px;resize:vertical;opacity:0.8;transition:opacity 0.8s ease;}.node-list-description:focus{opacity:1;}.add-node-btn,.toolbar-btn,.add-item-btn,.generate-btn,.update-btn,.hide-children-btn{background:#555;border:none;color:#fff;cursor:pointer;border-radius:4px;}.add-node-btn{margin-right:5px;padding:2px 8px;}.add-node-btn:hover,.toolbar-btn:hover,.add-item-btn:hover,.generate-btn:hover,.update-btn:hover{background:#777;}.toolbar-btn,#node-search-btn{background:rgba(85,85,85,0.3) !important;border:none;color:#fff;cursor:pointer;border-radius:4px;padding:8px 12px;margin:0 5px;transition:background 0.2s;}.toolbar-btn:hover,#node-search-btn:hover{background:rgba(119,119,119,0.3) !important;}.add-item-btn{padding:5px 10px;width:80px;margin-right:5px;text-align:center;}.generate-btn{padding:5px 10px;width:80px;margin-left:5px;display:inline-block;text-align:center;}.update-btn{margin-left:5px;padding:5px 10px;font-size:12px;}.delete-node-btn{background:#ff4444;border:none;color:#fff;cursor:pointer;margin-left:5px;padding:2px 6px;border-radius:4px;font-size:12px;order:5;}.delete-node-btn:hover{background:#ff6666;}.copy-btn{position:absolute;top:5px;right:5px;background:rgba(255,165,0,0.7);border:none;color:white;padding:3px 8px;border-radius:4px;cursor:pointer;font-size:12px;z-index:1;}.copy-btn:hover{background:rgba(255,165,0,0.9);}.jump-to-btn{position:relative;width:15px;height:15px;margin-right:5px;background:#ffcc00;border-radius:50%;border:none;cursor:pointer;opacity:0.7;transition:opacity 0.2s;flex-shrink:0;order:3;}.jump-to-btn::after{content:attr(data-count);position:absolute;top:-8px;right:-8px;background:#ff4444;color:white;border-radius:50%;width:16px;height:16px;font-size:10px;display:flex;align-items:center;justify-content:center;}.jump-to-btn:hover{opacity:1;transform:scale(1.2);}.jump-to-btn.hidden{display:none;}.paragraph-btn{width:100%;background:#4a4a4a;border:1px solid #555;color:#aaa;padding:8px;margin-bottom:10px;border-radius:4px;cursor:pointer;text-align:left;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;}.paragraph-popup-container{position:fixed;top:0;left:0;width:100vw;height:100vh;z-index:2147483647;pointer-events:none;display:flex;justify-content:center;align-items:center;}.paragraph-popup-container>div:first-child{position:absolute;top:0;left:0;width:100%;height:100%;background-color:rgba(0,0,0,0.5);pointer-events:auto;}.paragraph-popup{position:relative;background:rgba(45,45,45,0.7);border:1px solid #555;border-radius:4px;padding:10px;max-width:80vw;max-height:80vh;overflow:auto;z-index:2147483647;box-shadow:0 4px 8px rgba(0,0,0,0.5);white-space:pre-wrap;font-family:monospace;pointer-events:auto;display:none;backdrop-filter:blur(2px);}.paragraph-popup::after{content:"按 X 清空內容";position:absolute;bottom:5px;right:5px;font-size:10px;color:#888;}.selection-box{position:absolute;background:rgba(100,100,255,0.1);border:1px solid rgba(100,100,255,0.8);pointer-events:none;z-index:5;}.update-dialog{position:fixed;top:0;left:0;width:100%;height:100%;background-color:rgba(0,0,0,0.7);display:flex;justify-content:center;align-items:center;z-index:1000;}.update-dialog-content{background-color:#333;padding:20px;border-radius:8px;width:80%;max-width:600px;box-shadow:0 0 20px rgba(0,0,0,0.5);}.update-dialog textarea{width:100%;height:200px;background-color:#444;color:#fff;border:1px solid #555;padding:10px;margin-bottom:15px;font-family:inherit;resize:vertical;}.update-dialog-buttons{display:flex;justify-content:flex-end;gap:10px;}.update-dialog-buttons button{padding:8px 15px;border:none;border-radius:4px;cursor:pointer;}.update-dialog-confirm{background-color:#4CAF50;color:white;}.update-dialog-cancel{background-color:#f44336;color:white;}.buttons-container{display:flex;justify-content:space-between;margin-top:10px;width:100%;}#file-input,#import-selected-input{display:none;opacity:0.3;}.node.color-0{background:rgba(45,45,45,0.85) !important;}.node.color-1{background:rgba(100,181,246,0.38) !important;}.node.color-2{background:rgba(129,199,132,0.38) !important;}.node.color-3{background:rgba(255,138,101,0.38) !important;}.node.color-4{background:rgba(186,104,200,0.38) !important;}.node.color-5{background:rgba(255,213,79,0.38) !important;}.node.color-6{background:rgba(77,208,225,0.38) !important;}.node.color-7{background:rgba(240,98,146,0.38) !important;}.node.color-8{background:rgba(79,195,247,0.38) !important;}.node.color-9{background:rgba(174,213,129,0.38) !important;}.node.color-10{background:rgba(255,112,67,0.38) !important;}.node.color-11{background:rgba(229,115,115,0.38) !important;}.node.color-12{background:rgba(149,117,205,0.38) !important;}.node.color-13{background:rgba(255,152,0,0.38) !important;}.node.color-14{background:rgba(126,87,194,0.38) !important;}.node.color-15{background:rgba(38,166,154,0.38) !important;}.node.transparent.color-0{background:rgba(240,240,240,0.4) !important;}.node.transparent.color-1{background:rgba(220,235,255,0.4) !important;}.node.transparent.color-2{background:rgba(230,250,230,0.4) !important;}.node.transparent.color-3{background:rgba(255,230,220,0.4) !important;}.node.transparent.color-4{background:rgba(245,230,250,0.4) !important;}.node.transparent.color-5{background:rgba(255,245,210,0.4) !important;}.node.transparent.color-6{background:rgba(220,245,250,0.4) !important;}.node.transparent.color-7{background:rgba(255,220,235,0.4) !important;}.node.transparent.color-8{background:rgba(230,240,255,0.4) !important;}.node.transparent.color-9{background:rgba(240,245,220,0.4) !important;}.node.transparent.color-10{background:rgba(255,235,230,0.4) !important;}.node.transparent.color-11{background:rgba(255,230,230,0.4) !important;}.node.transparent.color-12{background:rgba(245,240,250,0.4) !important;}.node.transparent.color-13{background:rgba(255,240,220,0.4) !important;}.node.transparent.color-14{background:rgba(235,230,255,0.4) !important;}.node.transparent.color-15{background:rgba(220,245,240,0.4) !important;}.paragraph-popup.color-0{background:rgba(216,216,216,0.4) !important;}.paragraph-popup.color-1{background:rgba(112,177,255,0.4) !important;}.paragraph-popup.color-2{background:rgba(164,229,164,0.4) !important;}.paragraph-popup.color-3{background:rgba(255,190,138,0.4) !important;}.paragraph-popup.color-4{background:rgba(190,138,216,0.4) !important;}.paragraph-popup.color-5{background:rgba(255,229,138,0.4) !important;}.paragraph-popup.color-6{background:rgba(164,229,229,0.4) !important;}.paragraph-popup.color-7{background:rgba(229,138,164,0.4) !important;}.paragraph-popup.color-8{background:rgba(151,190,255,0.4) !important;}.paragraph-popup.color-9{background:rgba(164,216,164,0.4) !important;}.paragraph-popup.color-10{background:rgba(255,190,190,0.4) !important;}.paragraph-popup.color-11{background:rgba(255,164,190,0.4) !important;}.paragraph-popup.color-12{background:rgba(216,190,242,0.4) !important;}.paragraph-popup.color-13{background:rgba(255,216,164,0.4) !important;}.paragraph-popup.color-14{background:rgba(203,190,255,0.4) !important;}.node.collapsed{width:auto !important;min-width:150px;padding:5px !important;overflow:visible !important;}.node.collapsed .node-header{margin-bottom:0 !important;}.node.collapsed .collapsible{display:none !important;}.node.collapsed .output-port{margin-left:5px !important;order:5 !important;}#connection-canvas{z-index:0 !important;}.node.collapsed .header-port{position:absolute;right:25px;top:50%;transform:translateY(-50%);width:12px;height:12px;background:#FF5722;border-radius:50%;border:2px solid #333;z-index:30;}.collapse-btn{order:2;background:#555;border:none;color:#fff;cursor:pointer;border-radius:4px;padding:2px 6px;font-size:20px;margin-right:5px;}#node-search-input{background:rgba(58,58,58,0.3) !important;color:#ffffff !important;border:1px solid rgba(85,85,85,0.3) !important;border-radius:4px;padding:5px;font-family:inherit;margin-left:10px;}#node-search-input:focus{outline:none;border-color:rgba(119,119,119,0.3) !important;}.drag-handle{cursor:move;padding:0 5px;user-select:none;opacity:0.5;transition:opacity 0.2s;font-family:Arial,sans-serif;display:inline-block;}.drag-handle:hover{opacity:1;}.item.dragging{box-shadow:0 4px 8px rgba(0,0,0,0.2);background:rgba(255,255,255,0.1);}.item-placeholder{background:rgba(255,255,255,0.1);border:1px dashed #888;margin:5px 0;border-radius:4px;transition:all 0.2s;}#minimap-container{position:fixed;left:0;top:60px;width:300px;height:200px;background:rgba(30,30,30,0.7);border-bottom:1px solid #444;z-index:100;overflow:hidden;}#minimap{position:absolute;width:100%;height:100%;}#viewport-indicator{position:absolute;border:2px solid rgba(255,255,255,0.8);background:rgba(255,255,255,0.1);pointer-events:none;z-index:101;transform-origin:center center;box-sizing:border-box;}.node.group-node{border:2px dashed #666;background-color:rgba(200,200,200,0.2);}.node.group-node .group-node-info{padding:5px;text-align:center;color:#666;font-size:0.9em;}.node.group-node .ungroup-btn{background-color:#ffcccc;border:1px solid #ff9999;margin-left:5px;font-size:12px;padding:2px 5px;}.node.group-node .ungroup-btn:hover{background-color:#ff9999;}.variable-analysis-container{margin-top:10px;border:1px solid #444;border-radius:4px;overflow:hidden;background-color:#2d2d2d;}.variable-analysis-header{display:flex;justify-content:space-between;align-items:center;padding:6px 10px;background-color:#1e1e1e;cursor:pointer;border-bottom:1px solid #444;color:#e0e0e0;user-select:none;}.variable-analysis-title{flex-grow:1;}.variable-analysis-content{padding:8px;display:none;max-height:150px;overflow-y:auto;background-color:#2d2d2d;}.variable-analysis-container.expanded .variable-analysis-content{display:block;}.variable-btn{display:block;width:calc(100% - 12px);padding:6px 8px;margin:4px 0;text-align:left;border:1px solid #444;border-radius:3px;background-color:#3d3d3d;color:#e0e0e0;cursor:pointer;transition:all 0.2s;font-size:0.85em;}.variable-btn:hover{background-color:#4a4a4a;}.variable-btn[data-active="true"]{background-color:#1a5276;color:white;border-color:#154360;}.no-variables-message{color:#999;font-style:italic;text-align:center;padding:8px 0;font-size:0.85em;}.toggle-variable-analysis-btn{border:none;background:none;color:#e0e0e0;cursor:pointer;font-size:1.2em;padding:0 5px;min-width:20px;text-align:center;}.dark-mode .variable-analysis-container{border-color:#555;background-color:#333;}.dark-mode .variable-analysis-header{background-color:#252525;border-bottom-color:#555;}.dark-mode .variable-btn{background-color:#3a3a3a;border-color:#555;}.dark-mode .variable-btn:hover{background-color:#4a4a4a;}.variable-highlight{color:#4a90e2;font-weight:bold;background-color:rgba(74,144,226,0.1);padding:0 2px;border-radius:3px;}#load-html-btn{margin-left:10px;}@keyframes pulse{0%{background-color:rgba(0,255,255,0.3);}50%{background-color:rgba(0,255,255,0.8);}100%{background-color:transparent;}}.title-highlight{animation:pulse 1s ease-in-out;}.toolbar-select{margin-left:5px;padding:5px 25px 5px 10px;border-radius:4px;border:1px solid #4a5568;background-color:#2d3748;color:#e2e8f0;cursor:pointer;transition:all 0.2s ease;}.toolbar-checkbox{margin-left:10px;vertical-align:middle;}.frame-node{border:2px dashed #4a90e2 !important;background:rgba(74,144,226,0.1) !important;min-width:300px;min-height:200px;z-index:1 !important;position:relative;display:flex;flex-direction:column;pointer-events:none;}.frame-node .frame-header,.frame-node .frame-content,.frame-node .frame-footer{pointer-events:auto;}.frame-header{padding:10px;flex-shrink:0;position:relative;}.frame-content{flex:1;padding:10px;border-top:1px solid #444;overflow-y:auto;}.frame-footer{padding:10px;border-top:1px solid #444;flex-shrink:0;position:relative;}.add-note-btn{background:#555;border:none;color:#fff;padding:8px;width:100%;border-radius:4px;cursor:pointer;}.add-note-btn:hover{background:#777;}.frame-note{background:rgba(255,255,255,0.05);padding:8px;margin:5px 0;border-radius:4px;border:1px solid #444;}.delete-node-btn{position:absolute;right:10px;top:10px;background:rgba(255,68,68,0.6);border:none;color:#fff;cursor:pointer;border-radius:4px;font-size:12px;width:20px;height:20px;display:flex;align-items:center;justify-content:center;z-index:10;}.resize-handle{position:absolute;width:10px;height:10px;background:#4a90e2;right:-5px;bottom:-5px;cursor:nwse-resize;z-index:1;border-radius:2px;}.frame-content{flex:1;padding:10px;border-top:1px solid #444;overflow-y:auto;}.node.highlight-missing{box-shadow:0 0 15px 5px rgba(255,0,0,0.7) !important;transition:box-shadow 0.3s;}.item.highlight-missing{background:rgba(255,0,0,0.3) !important;border:1px solid rgba(255,0,0,0.5) !important;}</style></head><body><div id="toolbar"><button class="toolbar-btn" id="save-btn">保存</button><button class="toolbar-btn" id="load-btn">載入</button><button class="toolbar-btn" id="select-jump-nodes-btn">選取所有jump-to-btn</button><button class="toolbar-btn" id="rearrange-all-btn">重新排列所有NODE</button><button class="toolbar-btn" id="export-selected-btn">滙出框選NODE</button><button class="toolbar-btn" id="import-selected-btn">滙入框選NODE</button><input type="file" id="file-input" accept=".json"><button class="toolbar-btn" id="load-html-btn">載入檔案更新NODE</button><button class="toolbar-btn" id="check-missing-nodes-btn">檢查未加入的NODE名稱</button><input type="file" id="html-file-input" accept=".html,.htm" style="display:none"><input type="file" id="import-selected-input" accept=".json," style="display:none"><button class="toolbar-btn" id="add-frame-btn">區域描述框</button><div id="minimap-container"><canvas id="minimap"></canvas><div id="viewport-indicator"></div></div><!-- 新增搜尋框和按鈕 --><input type="text" id="node-search-input" placeholder="搜尋節點名稱" style="margin-left: 10px; padding: 5px;"><button class="toolbar-btn" id="node-search-btn">搜尋</button><select id="code-language-selector" class="toolbar-select"><option value="html">HTML</option><option value="python">Python</option></select><input type="checkbox" id="exclude-duplicates-checkbox" class="toolbar-checkbox"><label for="exclude-duplicates-checkbox">按A不選取重覆</label></select></div><div id="left-panel"><div id="node-list-container"><h3>可見節點</h3><div id="node-list"></div></div></div><div id="canvas-container"><canvas id="connection-canvas"></canvas><div id="canvas-container"><div id="transform-container"><canvas id="connection-canvas"></canvas><div id="nodes-container"></div></div></div></div><script>
    const _0x267d97=_0x357f;(function(_0x3239c7,_0xa6986a){const _0x3baa58=_0x357f,_0x148258=_0x3239c7();while(!![]){try{const _0x759caa=parseInt(_0x3baa58(0x4fb))/0x1+parseInt(_0x3baa58(0x21d))/0x2*(parseInt(_0x3baa58(0x4a9))/0x3)+parseInt(_0x3baa58(0x676))/0x4*(parseInt(_0x3baa58(0x52b))/0x5)+parseInt(_0x3baa58(0x22d))/0x6*(-parseInt(_0x3baa58(0x3cb))/0x7)+parseInt(_0x3baa58(0x48c))/0x8+parseInt(_0x3baa58(0x5c6))/0x9*(parseInt(_0x3baa58(0x393))/0xa)+-parseInt(_0x3baa58(0x693))/0xb;if(_0x759caa===_0xa6986a)break;else _0x148258['push'](_0x148258['shift']());}catch(_0x29c182){_0x148258['push'](_0x148258['shift']());}}}(_0x89bb,0x8defa));let generatedNodeCount=0x0,autoProcessingInterval=null,autoProcessingStartTime=null,processingQueue=[],processedNodes=new Set(),currentPhase=_0x267d97(0x414),loadedHtmlFunctions={};const container=document[_0x267d97(0x2e4)](_0x267d97(0x69f)),nodesContainer=document[_0x267d97(0x2e4)](_0x267d97(0x6c7)),canvas=document[_0x267d97(0x2e4)](_0x267d97(0x42f)),ctx=canvas[_0x267d97(0x2e6)]('2d'),minimapCanvas=document[_0x267d97(0x2e4)](_0x267d97(0x217)),minimapCtx=minimapCanvas[_0x267d97(0x2e6)]('2d'),viewportIndicator=document[_0x267d97(0x2e4)](_0x267d97(0x4ac)),ALL_ACTIVE_POPUPS=new Set(),COLOR_CLASSES=[_0x267d97(0x379),'color-1',_0x267d97(0x55e),_0x267d97(0x42d),'color-4','color-5',_0x267d97(0x38e),_0x267d97(0x2d3),_0x267d97(0x59a),_0x267d97(0x1e8),'color-10',_0x267d97(0x196),_0x267d97(0x17c),_0x267d97(0x168),_0x267d97(0x224)];document[_0x267d97(0x2e4)](_0x267d97(0x3ad))[_0x267d97(0x42e)](_0x267d97(0x221),exportSelectedNodes),document[_0x267d97(0x2e4)]('import-selected-btn')[_0x267d97(0x42e)](_0x267d97(0x221),()=>{const _0x87678d=_0x267d97;document[_0x87678d(0x2e4)](_0x87678d(0x242))[_0x87678d(0x221)]();}),document['getElementById']('import-selected-input')[_0x267d97(0x42e)]('change',importSelectedNodes),document[_0x267d97(0x2e4)](_0x267d97(0x236))[_0x267d97(0x42e)](_0x267d97(0x221),searchNodesByName),document['getElementById']('add-frame-btn')[_0x267d97(0x42e)](_0x267d97(0x221),addNewFrame),document['getElementById'](_0x267d97(0x526))[_0x267d97(0x42e)](_0x267d97(0x221),rearrangeAllNodesEnhanced),document[_0x267d97(0x2e4)](_0x267d97(0x29f))[_0x267d97(0x42e)](_0x267d97(0x221),selectAllJumpNodes);const FUNCTION_BLACKLIST=[_0x267d97(0x662),_0x267d97(0x4ba),_0x267d97(0x559),_0x267d97(0x180),_0x267d97(0x5fb),_0x267d97(0x3c0),_0x267d97(0x4c8),_0x267d97(0x322),'value',_0x267d97(0x305),_0x267d97(0x506),_0x267d97(0x195),'isPowerModeEnabled','powerMode','pointToRoadMap',_0x267d97(0x43e),'restaurantLocationInput',_0x267d97(0x45d),_0x267d97(0x243),_0x267d97(0x5f5),_0x267d97(0x210),_0x267d97(0x30b),_0x267d97(0x411),_0x267d97(0x645),_0x267d97(0x483),_0x267d97(0x203),_0x267d97(0x650),_0x267d97(0x39f),'todayEquipmentStatus',_0x267d97(0x508),'weatherData','id',_0x267d97(0x41f),_0x267d97(0x5d0),_0x267d97(0x2d2),_0x267d97(0x4f0),_0x267d97(0x24a),_0x267d97(0x594),'nextY','selectedMonth',_0x267d97(0x5a5),_0x267d97(0x4cf),_0x267d97(0x5cc),_0x267d97(0x50d),_0x267d97(0x501),'colors','isMobileAllAutoSave',_0x267d97(0x5a1),_0x267d97(0x5eb),_0x267d97(0x521),'FloorPlanCorridorPoints',_0x267d97(0x46a),_0x267d97(0x463),_0x267d97(0x363),'newPosition',_0x267d97(0x63f),'arrivalTime',_0x267d97(0x3e8),_0x267d97(0x22b),_0x267d97(0x16b),'displayName','p3',_0x267d97(0x201),_0x267d97(0x173),'originalRestaurantLocation',_0x267d97(0x4cd),_0x267d97(0x2c8),_0x267d97(0x360),_0x267d97(0x366),_0x267d97(0x625),_0x267d97(0x1be),_0x267d97(0x28f),_0x267d97(0x1ed),'imageId',_0x267d97(0x6c4),_0x267d97(0x391),'category','amount',_0x267d97(0x1f7),_0x267d97(0x1f4),'expenseCategories',_0x267d97(0x631),_0x267d97(0x382),_0x267d97(0x3e9),_0x267d97(0x52a),_0x267d97(0x31c),'FloorPlanIsDeletingNumbers','FloorPlanActiveMode',_0x267d97(0x628),'missingButtons','endChecked',_0x267d97(0x407),_0x267d97(0x279),_0x267d97(0x1f6),'waitTime','roadIndex',_0x267d97(0x21c),'markerIndex',_0x267d97(0x5b5),_0x267d97(0x1bd),'prevKey',_0x267d97(0x591),_0x267d97(0x1c8),_0x267d97(0x480),_0x267d97(0x27b),_0x267d97(0x4d7),_0x267d97(0x25f),'dx',_0x267d97(0x563),_0x267d97(0x2b0),_0x267d97(0x2a7),_0x267d97(0x666),_0x267d97(0x32c),_0x267d97(0x643),'detectionThreshold','canvasY',_0x267d97(0x4f1),'seconds',_0x267d97(0x181),_0x267d97(0x656),_0x267d97(0x334),'to','pointIndex','viewHistory',_0x267d97(0x4bb),'price',_0x267d97(0x18f),_0x267d97(0x39e),_0x267d97(0x1d6),_0x267d97(0x19e),_0x267d97(0x434),_0x267d97(0x3c6),'statusMessage',_0x267d97(0x584),_0x267d97(0x3ef),_0x267d97(0x697),_0x267d97(0x3a8),'y2',_0x267d97(0x213),_0x267d97(0x617),_0x267d97(0x5ed),_0x267d97(0x1db),_0x267d97(0x43f),_0x267d97(0x370),_0x267d97(0x400),_0x267d97(0x578),_0x267d97(0x290),'line',_0x267d97(0x255),_0x267d97(0x4c7),_0x267d97(0x525),_0x267d97(0x328),'gridCols',_0x267d97(0x39c),'currentFloorPlanPointId','FloorPlanElevators',_0x267d97(0x369),_0x267d97(0x2d8),'blob',_0x267d97(0x200),_0x267d97(0x1a8),_0x267d97(0x602),_0x267d97(0x596),_0x267d97(0x53e),_0x267d97(0x478),'actualEndKey','x2',_0x267d97(0x177),_0x267d97(0x6c3),'maxX',_0x267d97(0x3f3),_0x267d97(0x592),_0x267d97(0x2cf),_0x267d97(0x4f8),'effectiveMinFloor','type',_0x267d97(0x174),_0x267d97(0x5db),_0x267d97(0x3d4),_0x267d97(0x69c),_0x267d97(0x445),_0x267d97(0x3e0),'updateAttentionAreasButton','updatePowerModeButton',_0x267d97(0x530),_0x267d97(0x1b6),_0x267d97(0x5ba),_0x267d97(0x570),_0x267d97(0x41a),'x',_0x267d97(0x2a3),'startSession',_0x267d97(0x4cb),_0x267d97(0x542),_0x267d97(0x326),_0x267d97(0x258),_0x267d97(0x3e3),'createTreeWalker',_0x267d97(0x29b),_0x267d97(0x176),'Float32Array','setPeriodicWave',_0x267d97(0x58e),_0x267d97(0x3a2),'prompt',_0x267d97(0x579),_0x267d97(0x59d),_0x267d97(0x3aa),_0x267d97(0x4b7),'Event',_0x267d97(0x4d0),'File','ClipboardItem','showIOSInstructions','showDataForManualCopy',_0x267d97(0x2e6),_0x267d97(0x56b),_0x267d97(0x37c),_0x267d97(0x17b),_0x267d97(0x461),_0x267d97(0x4e9),_0x267d97(0x2e9),_0x267d97(0x429),_0x267d97(0x3bb),_0x267d97(0x62f),_0x267d97(0x327),_0x267d97(0x259),_0x267d97(0x1d8),_0x267d97(0x37a),_0x267d97(0x472),_0x267d97(0x2da),'entries',_0x267d97(0x59c),_0x267d97(0x573),'filter',_0x267d97(0x6a3),_0x267d97(0x4fe),'findLast',_0x267d97(0x607),'flat','flatMap','forEach',_0x267d97(0x447),'includes',_0x267d97(0x24c),_0x267d97(0x4ea),_0x267d97(0x2ff),_0x267d97(0x2a0),_0x267d97(0x664),_0x267d97(0x634),_0x267d97(0x3d3),'reverse',_0x267d97(0x574),'slice',_0x267d97(0x202),_0x267d97(0x332),_0x267d97(0x259),'toLocaleString','toString',_0x267d97(0x252),'values',_0x267d97(0x425),_0x267d97(0x3a0),_0x267d97(0x516),_0x267d97(0x538),'acos','acosh',_0x267d97(0x437),_0x267d97(0x16f),_0x267d97(0x441),'atan2','atanh',_0x267d97(0x2c4),'ceil',_0x267d97(0x49e),_0x267d97(0x23e),_0x267d97(0x509),_0x267d97(0x580),_0x267d97(0x36e),'floor',_0x267d97(0x1b5),_0x267d97(0x6b2),_0x267d97(0x4a3),_0x267d97(0x51d),_0x267d97(0x46b),_0x267d97(0x566),_0x267d97(0x4ce),_0x267d97(0x684),_0x267d97(0x646),_0x267d97(0x69b),'random',_0x267d97(0x1ce),'sign',_0x267d97(0x598),'sinh',_0x267d97(0x6a8),_0x267d97(0x60c),_0x267d97(0x630),'trunc','setTimeout',_0x267d97(0x54b),'setInterval','clearInterval',_0x267d97(0x5d6),_0x267d97(0x6aa),_0x267d97(0x324),_0x267d97(0x528),_0x267d97(0x2f0),_0x267d97(0x2fe),_0x267d97(0x3bf),'bezierCurveTo','clearRect',_0x267d97(0x675),_0x267d97(0x1de),'createImageData',_0x267d97(0x281),_0x267d97(0x56e),_0x267d97(0x4f9),_0x267d97(0x5c0),_0x267d97(0x398),_0x267d97(0x601),'ellipse','fill','fillRect',_0x267d97(0x2c9),'getImageData',_0x267d97(0x4e6),_0x267d97(0x680),'isPointInStroke','lineTo',_0x267d97(0x64a),_0x267d97(0x67f),'putImageData','quadraticCurveTo',_0x267d97(0x6b0),_0x267d97(0x3b9),_0x267d97(0x2a9),'save',_0x267d97(0x1f8),_0x267d97(0x205),_0x267d97(0x577),_0x267d97(0x2ee),_0x267d97(0x6af),_0x267d97(0x4a5),_0x267d97(0x209),_0x267d97(0x522),_0x267d97(0x42e),'append','appendChild',_0x267d97(0x582),_0x267d97(0x40d),_0x267d97(0x221),'cloneNode','closest','contains','createAttribute',_0x267d97(0x61b),'createDocumentFragment',_0x267d97(0x333),_0x267d97(0x489),_0x267d97(0x34e),'createTextNode',_0x267d97(0x23f),_0x267d97(0x44c),_0x267d97(0x2b2),_0x267d97(0x33e),_0x267d97(0x262),_0x267d97(0x309),_0x267d97(0x34f),_0x267d97(0x674),'getElementById',_0x267d97(0x5d2),_0x267d97(0x690),'hasAttributeNS',_0x267d97(0x449),_0x267d97(0x539),'insertAdjacentText',_0x267d97(0x667),_0x267d97(0x5c5),_0x267d97(0x3c4),'prepend',_0x267d97(0x303),_0x267d97(0x2fd),_0x267d97(0x2b4),_0x267d97(0x223),_0x267d97(0x2a1),'removeChild',_0x267d97(0x402),_0x267d97(0x301),_0x267d97(0x4f6),_0x267d97(0x31e),_0x267d97(0x66c),_0x267d97(0x5f3),'scrollTo',_0x267d97(0x2d1),'setAttributeNS',_0x267d97(0x438),_0x267d97(0x2d7),'toggleAttribute','charAt','charCodeAt',_0x267d97(0x6b7),_0x267d97(0x472),_0x267d97(0x245),_0x267d97(0x27d),_0x267d97(0x561),'includes','indexOf',_0x267d97(0x4ea),_0x267d97(0x648),_0x267d97(0x1e6),_0x267d97(0x69d),_0x267d97(0x3c4),_0x267d97(0x1e5),_0x267d97(0x325),_0x267d97(0x358),_0x267d97(0x610),_0x267d97(0x3c9),_0x267d97(0x4e5),_0x267d97(0x548),_0x267d97(0x268),_0x267d97(0x694),_0x267d97(0x5b4),_0x267d97(0x296),_0x267d97(0x3e2),'toLowerCase',_0x267d97(0x32f),_0x267d97(0x4fd),_0x267d97(0x486),_0x267d97(0x58f),'trimLeft',_0x267d97(0x37b),'trimStart',_0x267d97(0x4b9),_0x267d97(0x399),'create',_0x267d97(0x1d7),_0x267d97(0x18b),_0x267d97(0x345),_0x267d97(0x19c),'fromEntries','getOwnPropertyDescriptor',_0x267d97(0x288),_0x267d97(0x25c),'getOwnPropertySymbols',_0x267d97(0x5cf),_0x267d97(0x4ef),_0x267d97(0x237),'is',_0x267d97(0x29e),'isFrozen',_0x267d97(0x1ab),_0x267d97(0x409),'keys',_0x267d97(0x56d),_0x267d97(0x647),'seal',_0x267d97(0x5d8),_0x267d97(0x22a),_0x267d97(0x32f),_0x267d97(0x5c1),_0x267d97(0x26c),_0x267d97(0x606),_0x267d97(0x4de),_0x267d97(0x655),_0x267d97(0x5ea),_0x267d97(0x3fe),_0x267d97(0x63b),_0x267d97(0x30a),_0x267d97(0x64e),'readAsDataURL',_0x267d97(0x2c3),_0x267d97(0x35d),_0x267d97(0x57d),_0x267d97(0x5cd),'URL.createObjectURL',_0x267d97(0x510),_0x267d97(0x336),'createObjectURL','revokeObjectURL',_0x267d97(0x576),_0x267d97(0x297),_0x267d97(0x1c7),'Headers',_0x267d97(0x554),_0x267d97(0x52e),'WebSocket',_0x267d97(0x182),_0x267d97(0x622),_0x267d97(0x627),_0x267d97(0x5b3),_0x267d97(0x27e),'all','allSettled',_0x267d97(0x277),'catch',_0x267d97(0x471),'race',_0x267d97(0x2fc),_0x267d97(0x35f),_0x267d97(0x238),'(','$','b','on',_0x267d97(0x1f5),'stringify',_0x267d97(0x696),_0x267d97(0x1dd),_0x267d97(0x37d),_0x267d97(0x387),'createChannelMerger','createChannelSplitter',_0x267d97(0x302),_0x267d97(0x518),_0x267d97(0x3a3),_0x267d97(0x6bb),_0x267d97(0x6b4),_0x267d97(0x187),'createOscillator','createPanner',_0x267d97(0x378),'createScriptProcessor',_0x267d97(0x60e),_0x267d97(0x263),_0x267d97(0x50b),_0x267d97(0x1cd),_0x267d97(0x25b),_0x267d97(0x323),_0x267d97(0x307),_0x267d97(0x2c2),_0x267d97(0x51c),_0x267d97(0x28e),_0x267d97(0x444),_0x267d97(0x63a),_0x267d97(0x517),_0x267d97(0x452),_0x267d97(0x597),_0x267d97(0x20d),_0x267d97(0x30f),'getUserMedia',_0x267d97(0x16e),_0x267d97(0x572),_0x267d97(0x48d),_0x267d97(0x50a),_0x267d97(0x4a1),_0x267d97(0x23b),'bindBuffer',_0x267d97(0x2eb),'bindRenderbuffer',_0x267d97(0x4d4),_0x267d97(0x373),_0x267d97(0x3af),_0x267d97(0x1a4),'blendFunc',_0x267d97(0x3b8),_0x267d97(0x5d4),_0x267d97(0x5a2),_0x267d97(0x4b3),_0x267d97(0x612),_0x267d97(0x60d),'clearDepth','clearStencil',_0x267d97(0x658),_0x267d97(0x2c6),'compressedTexSubImage2D',_0x267d97(0x3dc),_0x267d97(0x53f),_0x267d97(0x37d),_0x267d97(0x3b6),_0x267d97(0x6bf),_0x267d97(0x699),_0x267d97(0x63e),_0x267d97(0x22f),_0x267d97(0x5a9),_0x267d97(0x2ad),'deleteFramebuffer',_0x267d97(0x416),_0x267d97(0x40e),_0x267d97(0x275),_0x267d97(0x502),_0x267d97(0x5c7),_0x267d97(0x193),_0x267d97(0x482),'detachShader',_0x267d97(0x46c),'disableVertexAttribArray',_0x267d97(0x4a6),_0x267d97(0x32a),'enable','enableVertexAttribArray',_0x267d97(0x6ae),_0x267d97(0x339),_0x267d97(0x19b),'framebufferTexture2D','frontFace','generateMipmap',_0x267d97(0x673),_0x267d97(0x5c2),_0x267d97(0x5c9),'getAttribLocation',_0x267d97(0x295),_0x267d97(0x3e1),'getError',_0x267d97(0x6ab),_0x267d97(0x184),_0x267d97(0x6b9),'getProgramInfoLog',_0x267d97(0x299),_0x267d97(0x3a6),'getShaderInfoLog','getShaderParameter',_0x267d97(0x428),_0x267d97(0x4d5),_0x267d97(0x212),_0x267d97(0x40a),_0x267d97(0x350),'getUniformLocation',_0x267d97(0x20f),'getVertexAttribOffset',_0x267d97(0x215),_0x267d97(0x1e7),_0x267d97(0x47e),_0x267d97(0x3ce),_0x267d97(0x1a3),_0x267d97(0x3ff),_0x267d97(0x6ba),_0x267d97(0x5a3),_0x267d97(0x34a),_0x267d97(0x2ab),_0x267d97(0x283),_0x267d97(0x2f4),'polygonOffset',_0x267d97(0x599),'renderbufferStorage',_0x267d97(0x537),_0x267d97(0x37f),_0x267d97(0x41e),_0x267d97(0x5f2),'stencilFuncSeparate',_0x267d97(0x5a0),_0x267d97(0x56a),_0x267d97(0x3c5),_0x267d97(0x6a9),_0x267d97(0x266),_0x267d97(0x5ac),_0x267d97(0x365),'texSubImage2D',_0x267d97(0x3bd),_0x267d97(0x454),_0x267d97(0x5fa),'uniform1iv',_0x267d97(0x337),'uniform2fv',_0x267d97(0x287),_0x267d97(0x1a6),_0x267d97(0x442),_0x267d97(0x681),_0x267d97(0x5d3),_0x267d97(0x3c2),_0x267d97(0x677),_0x267d97(0x1d2),_0x267d97(0x42a),_0x267d97(0x356),_0x267d97(0x396),_0x267d97(0x547),_0x267d97(0x220),_0x267d97(0x5d1),'validateProgram',_0x267d97(0x5c4),_0x267d97(0x53c),_0x267d97(0x1ac),_0x267d97(0x169),_0x267d97(0x5c8),_0x267d97(0x5a7),_0x267d97(0x346),_0x267d97(0x2b9),'vertexAttribPointer',_0x267d97(0x3d8),_0x267d97(0x496),'pause','load','canPlayType','addTextTrack',_0x267d97(0x569),'fastSeek','seekToNextFrame',_0x267d97(0x52d),_0x267d97(0x3d6),_0x267d97(0x5b2),'customElements.upgrade',_0x267d97(0x43b),_0x267d97(0x408),'disconnectedCallback',_0x267d97(0x4c3),_0x267d97(0x6a5),_0x267d97(0x415),_0x267d97(0x5a6),_0x267d97(0x62a),_0x267d97(0x687),_0x267d97(0x3f6),'add',_0x267d97(0x4d3),_0x267d97(0x4d6),_0x267d97(0x448),_0x267d97(0x66a),'clear','createIndex',_0x267d97(0x267),_0x267d97(0x57a),'localStorage',_0x267d97(0x171),'getItem','setItem',_0x267d97(0x695),'clear',_0x267d97(0x214),_0x267d97(0x45e),_0x267d97(0x48b),_0x267d97(0x455),_0x267d97(0x376),_0x267d97(0x2c5),'update',_0x267d97(0x5b6),_0x267d97(0x609),'addEventListener','removeEventListener',_0x267d97(0x23f),_0x267d97(0x691),_0x267d97(0x390),_0x267d97(0x61e),_0x267d97(0x652),_0x267d97(0x474),_0x267d97(0x492),_0x267d97(0x61d),'verify',_0x267d97(0x491),_0x267d97(0x512),_0x267d97(0x37e),'wrapKey',_0x267d97(0x270),'animate',_0x267d97(0x175),'finish',_0x267d97(0x68e),_0x267d97(0x496),_0x267d97(0x3df),_0x267d97(0x39b),_0x267d97(0x49d),_0x267d97(0x5b1),_0x267d97(0x2a4),_0x267d97(0x172),_0x267d97(0x2f9),_0x267d97(0x197),_0x267d97(0x67d),_0x267d97(0x5aa),_0x267d97(0x46d),_0x267d97(0x614),_0x267d97(0x1e3),'gatt.connect',_0x267d97(0x3b1),_0x267d97(0x34b),'readValue',_0x267d97(0x29c),_0x267d97(0x2cb),_0x267d97(0x1e3),'open',_0x267d97(0x67b),_0x267d97(0x2b7),_0x267d97(0x300),'releaseInterface',_0x267d97(0x1c3),_0x267d97(0x3ac),_0x267d97(0x3ab),_0x267d97(0x4e4),_0x267d97(0x4f3),_0x267d97(0x698),_0x267d97(0x2bd),_0x267d97(0x34c),_0x267d97(0x651),'requestSession',_0x267d97(0x3b4),_0x267d97(0x403),_0x267d97(0x1b3),'getPose',_0x267d97(0x39a),'getInputPose',_0x267d97(0x29a),_0x267d97(0x3f2),_0x267d97(0x612),_0x267d97(0x470),_0x267d97(0x1b2),'vibrationActuator.reset',_0x267d97(0x5b0),_0x267d97(0x660),_0x267d97(0x25e),_0x267d97(0x42e),_0x267d97(0x402),_0x267d97(0x51e),_0x267d97(0x624),_0x267d97(0x48b),_0x267d97(0x26b),_0x267d97(0x19d),_0x267d97(0x4d3),_0x267d97(0x551),_0x267d97(0x371),'create','get',_0x267d97(0x313),_0x267d97(0x68b),_0x267d97(0x33c),_0x267d97(0x415),_0x267d97(0x67b),_0x267d97(0x21f),_0x267d97(0x46d),_0x267d97(0x1e3),_0x267d97(0x415),_0x267d97(0x67b),_0x267d97(0x289),_0x267d97(0x685),'sendFeatureReport',_0x267d97(0x1a5),_0x267d97(0x207),'VideoDecoder',_0x267d97(0x3d9),_0x267d97(0x48a),'ImageDecoder','encode',_0x267d97(0x68c),_0x267d97(0x339),_0x267d97(0x651),'close',_0x267d97(0x282),_0x267d97(0x4cc),_0x267d97(0x310),_0x267d97(0x67b),_0x267d97(0x36d),'requestDevice',_0x267d97(0x37d),_0x267d97(0x22f),_0x267d97(0x532),'createBindGroupLayout',_0x267d97(0x190),_0x267d97(0x218),_0x267d97(0x465),_0x267d97(0x3f9),_0x267d97(0x4c4),_0x267d97(0x4dc),_0x267d97(0x44d),'createQuerySet','submit',_0x267d97(0x178),_0x267d97(0x5ef),_0x267d97(0x194),_0x267d97(0x6b8),_0x267d97(0x439),_0x267d97(0x5cb),_0x267d97(0x4c6),_0x267d97(0x1b0),_0x267d97(0x3f1),_0x267d97(0x623),'instantiateStreaming',_0x267d97(0x4bc),'compileStreaming',_0x267d97(0x2b6),_0x267d97(0x57c),_0x267d97(0x58b),_0x267d97(0x426),'Module','Instance',_0x267d97(0x230),_0x267d97(0x377),_0x267d97(0x5d9),_0x267d97(0x4b5),'EvalError',_0x267d97(0x5e7),'ReferenceError',_0x267d97(0x4b2),_0x267d97(0x50e),_0x267d97(0x3c7),'AggregateError',_0x267d97(0x16d),_0x267d97(0x3c3),_0x267d97(0x665),'match',_0x267d97(0x69d),'search',_0x267d97(0x610),'replaceAll','split',_0x267d97(0x6c8),'now','parse',_0x267d97(0x17d),'getDate','getDay','getFullYear',_0x267d97(0x2f2),_0x267d97(0x657),_0x267d97(0x5e1),_0x267d97(0x2d5),_0x267d97(0x32b),_0x267d97(0x1eb),_0x267d97(0x38f),_0x267d97(0x395),_0x267d97(0x351),'getUTCFullYear',_0x267d97(0x1bf),'getUTCMilliseconds',_0x267d97(0x5f4),'getUTCMonth',_0x267d97(0x318),_0x267d97(0x493),_0x267d97(0x459),_0x267d97(0x5ca),_0x267d97(0x349),_0x267d97(0x421),_0x267d97(0x3eb),'setSeconds','setTime','setUTCDate',_0x267d97(0x45f),_0x267d97(0x4f4),'setUTCMilliseconds',_0x267d97(0x42c),'setUTCMonth',_0x267d97(0x5e4),_0x267d97(0x362),_0x267d97(0x3bc),'toJSON',_0x267d97(0x1c0),_0x267d97(0x22a),'toLocaleTimeString',_0x267d97(0x32f),_0x267d97(0x16a),_0x267d97(0x19a),_0x267d97(0x4b9),_0x267d97(0x192),_0x267d97(0x327),_0x267d97(0x23a),_0x267d97(0x33d),_0x267d97(0x62f),'clear','delete',_0x267d97(0x345),_0x267d97(0x54e),_0x267d97(0x4d3),'has',_0x267d97(0x1ec),_0x267d97(0x436),_0x267d97(0x64d),_0x267d97(0x5c1),_0x267d97(0x420),'byteLength',_0x267d97(0x3d5),_0x267d97(0x2da),_0x267d97(0x345),_0x267d97(0x59c),_0x267d97(0x573),_0x267d97(0x2fb),_0x267d97(0x6a3),_0x267d97(0x4fe),'forEach','includes',_0x267d97(0x24c),_0x267d97(0x37a),_0x267d97(0x1ec),_0x267d97(0x4ea),_0x267d97(0x585),_0x267d97(0x2ff),_0x267d97(0x634),_0x267d97(0x3d3),_0x267d97(0x3df),'set',_0x267d97(0x548),_0x267d97(0x202),_0x267d97(0x332),_0x267d97(0x44b),_0x267d97(0x22a),'toString','values',_0x267d97(0x420),_0x267d97(0x1e2),_0x267d97(0x3d5),_0x267d97(0x2c0),'getFloat64',_0x267d97(0x3b7),_0x267d97(0x317),'getInt32',_0x267d97(0x3e7),_0x267d97(0x453),_0x267d97(0x603),'setFloat32','setFloat64',_0x267d97(0x246),_0x267d97(0x511),_0x267d97(0x3a5),_0x267d97(0x3a1),'setUint16',_0x267d97(0x689),'Symbol',_0x267d97(0x368),'keyFor',_0x267d97(0x32f),_0x267d97(0x4b9),_0x267d97(0x58c),'Reflect',_0x267d97(0x3c1),_0x267d97(0x47b),_0x267d97(0x18b),_0x267d97(0x568),_0x267d97(0x4d3),_0x267d97(0x31b),_0x267d97(0x5cf),_0x267d97(0x620),_0x267d97(0x29e),_0x267d97(0x17f),'preventExtensions',_0x267d97(0x436),_0x267d97(0x5d8),_0x267d97(0x5b9),_0x267d97(0x3ed),_0x267d97(0x185),'DisplayNames',_0x267d97(0x1b1),_0x267d97(0x49f),_0x267d97(0x2b5),_0x267d97(0x249),_0x267d97(0x46f),_0x267d97(0x39d),'console.log','console.debug',_0x267d97(0x21a),'console.warn',_0x267d97(0x5c3),'console.assert',_0x267d97(0x2f1),_0x267d97(0x571),_0x267d97(0x3b0),_0x267d97(0x5e0),'console.dirxml',_0x267d97(0x4e0),_0x267d97(0x515),_0x267d97(0x5ff),_0x267d97(0x260),'console.time',_0x267d97(0x541),_0x267d97(0x51b),_0x267d97(0x3be),_0x267d97(0x51d),'error',_0x267d97(0x2ba),_0x267d97(0x3da),_0x267d97(0x4e3),'decodeURI',_0x267d97(0x35b),_0x267d97(0x545),_0x267d97(0x544),'escape','unescape',_0x267d97(0x68a),_0x267d97(0x385),_0x267d97(0x247),_0x267d97(0x41b),_0x267d97(0x47d),_0x267d97(0x262),_0x267d97(0x235),'lightenColor',_0x267d97(0x52f),_0x267d97(0x4b4),'toFixed',_0x267d97(0x6c9),'function','if','else',_0x267d97(0x368),_0x267d97(0x227),'do',_0x267d97(0x206),_0x267d97(0x451),_0x267d97(0x348),'break',_0x267d97(0x6c2),'return','try','catch',_0x267d97(0x471),_0x267d97(0x397),_0x267d97(0x2bb),_0x267d97(0x20b),'super',_0x267d97(0x38b),_0x267d97(0x3b5),'static',_0x267d97(0x1e9),_0x267d97(0x5f1),_0x267d97(0x6a4),_0x267d97(0x6b6),_0x267d97(0x62e),_0x267d97(0x1c5),_0x267d97(0x1e1),'instanceof','in',_0x267d97(0x66a),_0x267d97(0x536),'debugger',_0x267d97(0x374),'let',_0x267d97(0x233),_0x267d97(0x61c),_0x267d97(0x22e),'interface',_0x267d97(0x40f),'private','protected',_0x267d97(0x3a9),_0x267d97(0x61a),_0x267d97(0x2f5),_0x267d97(0x6a2),_0x267d97(0x43a),_0x267d97(0x392),_0x267d97(0x1f3),_0x267d97(0x49a),'globalThis',_0x267d97(0x17e),_0x267d97(0x5e9)];let nodes=[],connections=[],draggingNode=null,dragOffsetX=0x0,dragOffsetY=0x0,connecting=null,isPanning=![],panStartX=0x0,panStartY=0x0,scale=0x1,translateX=0x0,translateY=0x0,spacePressed=![],activePopup=null,popupScrollPosition=0x0,dragStartWorldX=0x0,dragStartWorldY=0x0,selectionBox=null,isSelecting=![],selectionStartX=0x0,selectionStartY=0x0,selectedNodes=new Set(),shiftPressed=![],nodeDescriptions={},missingNodeNames=new Set();const FILTERED_NAMES=[_0x267d97(0x3ca)];try{const saved=localStorage['getItem'](_0x267d97(0x5f9));let nodeDescriptions=JSON['parse'](localStorage[_0x267d97(0x405)](_0x267d97(0x5f9)))||{};saved&&(nodeDescriptions=JSON[_0x267d97(0x1f5)](saved));}catch(_0x77ab67){}let lastVisibleNodes=[],animationFrameId=null,currentLanguage=_0x267d97(0x388),currentColorIndex=0x0,currentConnectionColorIndex=0x0;const originalCreateNode=createNode;createNode=function(_0x4880d0,_0x45a285,_0x3a6832='節點',_0x18edad=_0x267d97(0x440)){const _0x8804d7=originalCreateNode(_0x4880d0,_0x45a285,_0x3a6832,_0x18edad);return missingNodeNames['size']>0x0&&missingNodeNames['has'](_0x3a6832)&&setTimeout(checkMissingNodes,0x64),_0x8804d7;};const CONNECTION_COLORS=[_0x267d97(0x50c),_0x267d97(0x672),_0x267d97(0x32e),_0x267d97(0x18c),'#98D8C8','#F06292',_0x267d97(0x6b1),_0x267d97(0x54f),_0x267d97(0x66f),_0x267d97(0x3d2),_0x267d97(0x6a6),_0x267d97(0x64f),_0x267d97(0x1dc),_0x267d97(0x60f),_0x267d97(0x1fd),_0x267d97(0x31a)],transformContainer=document['getElementById'](_0x267d97(0x63d));let lastScale=0x1;document[_0x267d97(0x2e4)]('save-btn')['addEventListener'](_0x267d97(0x221),saveProject),document[_0x267d97(0x2e4)](_0x267d97(0x4ec))[_0x267d97(0x42e)](_0x267d97(0x221),()=>{const _0x10f70a=_0x267d97;document[_0x10f70a(0x2e4)](_0x10f70a(0x170))[_0x10f70a(0x221)]();}),document[_0x267d97(0x2e4)](_0x267d97(0x170))[_0x267d97(0x42e)](_0x267d97(0x430),loadProject),document[_0x267d97(0x2e4)]('load-html-btn')[_0x267d97(0x42e)](_0x267d97(0x221),()=>{const _0x3d6c1f=_0x267d97,_0x107cf2=document['getElementById'](_0x3d6c1f(0x641)),_0x305e5a=_0x107cf2?_0x107cf2['value']:_0x3d6c1f(0x388),_0x34ecb7=document[_0x3d6c1f(0x2e4)](_0x3d6c1f(0x248));_0x34ecb7[_0x3d6c1f(0x6c5)]=_0x305e5a===_0x3d6c1f(0x291)?_0x3d6c1f(0x41c):_0x3d6c1f(0x30d),_0x34ecb7['click']();}),document[_0x267d97(0x2e4)](_0x267d97(0x248))['addEventListener'](_0x267d97(0x430),handleFileUpload),document['getElementById']('code-language-selector')[_0x267d97(0x42e)]('change',_0x47034f=>{currentLanguage=_0x47034f['target']['value'],nodes['forEach'](_0x335fbc=>{const _0x17e99c=_0x357f;(_0x335fbc['element'][_0x17e99c(0x303)](_0x17e99c(0x40b))?.[_0x17e99c(0x355)]||_0x335fbc[_0x17e99c(0x636)][_0x17e99c(0x303)](_0x17e99c(0x278))?.[_0x17e99c(0x367)])&&analyzeVariables(_0x335fbc);});}),document[_0x267d97(0x2e4)]('check-missing-nodes-btn')[_0x267d97(0x42e)](_0x267d97(0x221),checkMissingNodes),document['addEventListener']('DOMContentLoaded',function(){const _0x4e6aaf=_0x267d97,_0x115c6f=document[_0x4e6aaf(0x2e4)](_0x4e6aaf(0x211));if(_0x115c6f){const _0x182563=document['createElement'](_0x4e6aaf(0x201));_0x182563['className']=_0x4e6aaf(0x36c),_0x182563['id']=_0x4e6aaf(0x427),_0x182563[_0x4e6aaf(0x367)]=_0x4e6aaf(0x3f7),_0x115c6f[_0x4e6aaf(0x1a7)][_0x4e6aaf(0x667)](_0x182563,_0x115c6f['nextSibling']),_0x182563[_0x4e6aaf(0x42e)]('click',extractEmptyNodesAndDelete);}});function formatNodeTitlesAsCSV(_0x179902){const _0xf1a3f2=_0x267d97;if(!_0x179902||_0x179902[_0xf1a3f2(0x585)]===0x0)return'';const _0x9b98b5=_0x179902[_0xf1a3f2(0x2ff)](_0x341baf=>_0x341baf['title']?_0x341baf['title'][_0xf1a3f2(0x486)]():'')[_0xf1a3f2(0x2fb)](_0x598e9b=>_0x598e9b!==''),_0x3576fe=_0x9b98b5[_0xf1a3f2(0x2ff)](_0x98644a=>'\x27'+_0x98644a+'\x27');return _0x3576fe[_0xf1a3f2(0x37a)](',');}function extractEmptyNodesAndDelete(){const _0x49c953=_0x267d97,_0x25bc33=[];nodes[_0x49c953(0x54e)](_0x15302d=>{const _0x4f96c2=_0x49c953;if(_0x15302d&&_0x15302d['element']){const _0xe3f51d=_0x15302d['element'][_0x4f96c2(0x303)](_0x4f96c2(0x40b));if(_0xe3f51d&&_0xe3f51d['value']['trim']()===''){const _0x222b1e=_0x15302d[_0x4f96c2(0x636)]['querySelector']('.node-title'),_0x5babbc=_0x222b1e?_0x222b1e[_0x4f96c2(0x355)]:'未命名節點';_0x25bc33['push']({'nodeId':_0x15302d['id'],'title':_0x5babbc,'element':_0x15302d[_0x4f96c2(0x636)]});}}});if(_0x25bc33[_0x49c953(0x585)]===0x0){showStatusMessage(_0x49c953(0x1d5),'warning');return;}const _0x28fe13=formatNodeTitlesAsCSV(_0x25bc33);copyToClipboard(_0x28fe13),selectEmptyNodes(_0x25bc33),showDeleteConfirmation(_0x25bc33,_0x28fe13);}function copyToClipboard(_0x2bb266){const _0x246b18=_0x267d97;navigator[_0x246b18(0x336)][_0x246b18(0x57d)](_0x2bb266)[_0x246b18(0x238)](()=>{})[_0x246b18(0x513)](_0x5e22b4=>{const _0x416836=_0x246b18,_0x18eb1f=document[_0x416836(0x333)]('textarea');_0x18eb1f[_0x416836(0x355)]=_0x2bb266,document[_0x416836(0x529)][_0x416836(0x443)](_0x18eb1f),_0x18eb1f[_0x416836(0x4e9)](),document['execCommand']('copy'),document['body']['removeChild'](_0x18eb1f);});}function selectEmptyNodes(_0x447dd7){const _0x29de57=_0x267d97;selectedNodes[_0x29de57(0x612)](),_0x447dd7['forEach'](_0x2f953c=>{const _0x2a7a55=_0x29de57;selectedNodes[_0x2a7a55(0x62f)](_0x2f953c[_0x2a7a55(0x2fa)]);const _0x4035a4=_0x2f953c[_0x2a7a55(0x636)];_0x4035a4['classList'][_0x2a7a55(0x62f)](_0x2a7a55(0x22c));});}function showDeleteConfirmation(_0x26f235,_0x20b11a){const _0x4edc62=_0x267d97,_0xe7c400=_0x4edc62(0x47a)+_0x26f235[_0x4edc62(0x585)]+'\x20個空白節點:\x0a\x0a'+_0x26f235[_0x4edc62(0x2ff)](_0x4be97f=>'•\x20'+_0x4be97f['title'])[_0x4edc62(0x37a)]('\x0a')+'\x0a\x0a節點名稱已複製到剪貼板:\x20'+_0x20b11a+_0x4edc62(0x380);confirm(_0xe7c400)?(deleteSelectedNodes(),showStatusMessage(_0x4edc62(0x2f6)+_0x26f235[_0x4edc62(0x585)]+_0x4edc62(0x42b)+_0x20b11a,'success')):(selectedNodes[_0x4edc62(0x612)](),document[_0x4edc62(0x2fd)]('.node.selected')[_0x4edc62(0x54e)](_0x7b4f74=>{const _0x1374a5=_0x4edc62;_0x7b4f74['classList'][_0x1374a5(0x2b4)](_0x1374a5(0x22c));}),showStatusMessage('已取消刪除操作','info'));}function arrangeSelectedNodesVertically(){const _0x2c27a6=_0x267d97;if(selectedNodes[_0x2c27a6(0x64d)]===0x0){showStatusMessage(_0x2c27a6(0x5dc),_0x2c27a6(0x616));return;}const _0x38f658=Array[_0x2c27a6(0x447)](selectedNodes),_0x363e83=_0x38f658[_0x2c27a6(0x2ff)](_0x487759=>nodes[_0x487759]),_0xc5ddf3=sortNodesByChildCount(_0x363e83),_0x3931cf=findTopmostYPosition(_0x363e83),_0x1c0775=findLeftmostXPosition(_0x363e83),_0x24d46a=0x32;_0xc5ddf3['forEach']((_0xdad60f,_0x57664d)=>{_0xdad60f['x']=_0x1c0775,_0xdad60f['y']=_0x3931cf+_0x57664d*_0x24d46a,updateNodePosition(_0xdad60f);}),drawConnections(),showStatusMessage(_0x2c27a6(0x304)+selectedNodes[_0x2c27a6(0x64d)]+_0x2c27a6(0x43c),_0x2c27a6(0x613));}function selectAllJumpNodes(){const _0x2b0d35=_0x267d97;clearSelection();let _0x20f78c=0x0;nodes[_0x2b0d35(0x54e)](_0x5e78b4=>{const _0x11566b=_0x2b0d35,_0x16f7a8=_0x5e78b4[_0x11566b(0x636)][_0x11566b(0x303)]('.jump-to-btn');_0x16f7a8&&!_0x16f7a8['classList']['contains'](_0x11566b(0x208))&&_0x16f7a8[_0x11566b(0x66e)]['display']!==_0x11566b(0x352)&&(selectedNodes[_0x11566b(0x62f)](_0x5e78b4['id']),_0x5e78b4['element']['classList'][_0x11566b(0x62f)]('selected'),_0x20f78c++);}),drawConnections(),_0x20f78c>0x0?showStatusMessage('已選取\x20'+_0x20f78c+_0x2b0d35(0x5ad),'success'):showStatusMessage(_0x2b0d35(0x604),_0x2b0d35(0x616));}function sortNodesByChildCount(_0x3bfd42){return _0x3bfd42['sort']((_0x20bc9c,_0x31bc8b)=>{const _0x3ad613=getChildNodeCount(_0x20bc9c['id']),_0x30ed65=getChildNodeCount(_0x31bc8b['id']);if(_0x3ad613===0x0&&_0x30ed65>0x0)return-0x1;if(_0x3ad613>0x0&&_0x30ed65===0x0)return 0x1;if(_0x3ad613>0x0&&_0x30ed65>0x0)return _0x3ad613-_0x30ed65;return 0x0;});}function findTopmostYPosition(_0x190916){const _0x23add2=_0x267d97;if(_0x190916[_0x23add2(0x585)]===0x0)return 0x0;let _0x22c416=Infinity;return _0x190916[_0x23add2(0x54e)](_0x1be017=>{_0x1be017['y']<_0x22c416&&(_0x22c416=_0x1be017['y']);}),_0x22c416;}function findLeftmostXPosition(_0x30deb7){const _0x1880af=_0x267d97;if(_0x30deb7[_0x1880af(0x585)]===0x0)return 0x0;let _0x32fd11=Infinity;return _0x30deb7['forEach'](_0xb51a2=>{_0xb51a2['x']<_0x32fd11&&(_0x32fd11=_0xb51a2['x']);}),_0x32fd11;}async function rearrangeAllNodesEnhanced(){const _0x3726da=_0x267d97;try{collapseAllNodes(),arrangeNodesByLevelEnhanced();}catch(_0x11b675){}try{await drawConnections();try{selectAllJumpNodes();}catch(_0x4c714f){}try{deleteSelectedNodes();}catch(_0x4b5ac5){}showStatusMessage(_0x3726da(0x649),_0x3726da(0x613));}catch(_0x36db7e){showStatusMessage('重新排列節點時發生錯誤','error');}return Promise[_0x3726da(0x35f)]();}function arrangeNodesByLevelEnhanced(){const _0x2509ed=_0x267d97,_0x48b911=findRootNodes();if(_0x48b911[_0x2509ed(0x585)]===0x0)return;const _0x175b2a=0x32,_0x31240f=0x32,_0x3f8bb0=sortFirstLevelNodes(_0x48b911),_0x363562=arrangeFirstLevelNodes(_0x3f8bb0,_0x175b2a,_0x31240f);arrangeSubsequentLevelsEnhanced(_0x363562);}function sortFirstLevelNodes(_0x4bd687){const _0x1c4246=_0x267d97;return _0x4bd687[_0x1c4246(0x332)]((_0x1c76e1,_0x3bea6f)=>{const _0xf95ecd=getChildNodeCount(_0x1c76e1['id']),_0x3a9bb6=getChildNodeCount(_0x3bea6f['id']),_0x322aef=hasChildren(_0x1c76e1['id']),_0x15685a=hasChildren(_0x3bea6f['id']);if(!_0x322aef&&_0x15685a)return-0x1;if(_0x322aef&&!_0x15685a)return 0x1;if(_0x322aef&&_0x15685a)return _0xf95ecd-_0x3a9bb6;return 0x0;});}function getChildNodeCount(_0x5037bb){const _0x3eb9f3=_0x267d97;return connections[_0x3eb9f3(0x2fb)](_0x955ac4=>_0x955ac4['fromNode']===_0x5037bb)[_0x3eb9f3(0x585)];}function hasChildren(_0x30798d){const _0x12b925=_0x267d97;return connections[_0x12b925(0x202)](_0x4bf426=>_0x4bf426[_0x12b925(0x659)]===_0x30798d);}function arrangeFirstLevelNodes(_0x27908e,_0x11e974,_0x16564c){const _0x24f65f=_0x267d97,_0x58d367=[];let _0x3d375e=_0x11e974,_0x5d665c=_0x16564c;const _0x18415c=findTopLeftNodeFromArray(_0x27908e),_0x1d3a84=_0x27908e['filter'](_0x2da6ca=>_0x2da6ca!==_0x18415c);return _0x18415c&&(_0x18415c['x']=_0x3d375e,_0x18415c['y']=_0x5d665c,updateNodePosition(_0x18415c),_0x58d367[_0x24f65f(0x664)]({'node':_0x18415c,'childCount':getChildNodeCount(_0x18415c['id']),'children':getChildNodes(_0x18415c['id'])}),_0x1d3a84[_0x24f65f(0x585)]>0x0&&(alignNodeGroup(_0x1d3a84,_0x18415c,_0x3d375e,_0x5d665c),_0x1d3a84[_0x24f65f(0x54e)](_0x5aab7b=>{const _0xcda8b8=_0x24f65f;_0x58d367[_0xcda8b8(0x664)]({'node':_0x5aab7b,'childCount':getChildNodeCount(_0x5aab7b['id']),'children':getChildNodes(_0x5aab7b['id'])});})),_0x58d367[_0x24f65f(0x332)]((_0x4a1734,_0x27b137)=>{const _0x986f36=_0x24f65f,_0x1e590b=_0x4a1734[_0x986f36(0x540)]['x'],_0x4cc502=_0x27b137[_0x986f36(0x540)]['x'],_0x103159=_0x4a1734[_0x986f36(0x540)]['y'],_0x2b3188=_0x27b137[_0x986f36(0x540)]['y'];if(_0x103159!==_0x2b3188)return _0x103159-_0x2b3188;return _0x1e590b-_0x4cc502;})),_0x58d367;}function getChildNodes(_0xdabe16){const _0x420c16=_0x267d97,_0x181576=connections[_0x420c16(0x2fb)](_0x378f4d=>_0x378f4d[_0x420c16(0x659)]===_0xdabe16);return _0x181576['map'](_0x407695=>nodes[_0x407695['toNode']]);}function collectNextLevelNodesByParent(_0x224521){const _0x389693=_0x267d97,_0x25ae2f=[];return _0x224521[_0x389693(0x54e)](_0x4e0715=>{const _0x4e12ba=_0x389693;if(!_0x4e0715||!_0x4e0715[_0x4e12ba(0x540)])return;const _0x10608e=getChildNodes(_0x4e0715[_0x4e12ba(0x540)]['id']);if(_0x10608e[_0x4e12ba(0x585)]>0x0){const _0x42b7d3=sortChildNodes(_0x10608e);_0x25ae2f[_0x4e12ba(0x664)]({'parent':_0x4e0715[_0x4e12ba(0x540)],'parentIndex':_0x224521['indexOf'](_0x4e0715),'nodes':_0x42b7d3,'childCount':_0x10608e['length']});}}),_0x25ae2f;}function collectNextLevelNodesByParent(_0x38af8c){const _0x445a37=[];return _0x38af8c['forEach'](_0x2caff7=>{const _0x361ab4=_0x357f,_0x2ee045=getChildNodes(_0x2caff7[_0x361ab4(0x540)]['id']);if(_0x2ee045[_0x361ab4(0x585)]>0x0){const _0x5ccae3=sortChildNodes(_0x2ee045);_0x445a37['push']({'parent':_0x2caff7['node'],'parentIndex':_0x38af8c[_0x361ab4(0x24c)](_0x2caff7),'nodes':_0x5ccae3,'childCount':_0x2ee045['length']});}}),_0x445a37;}function sortChildNodes(_0x1995f0){return _0x1995f0;}function rearrangeAllNodes(){const _0x1ba845=_0x267d97;collapseAllNodes(),arrangeNodesByLevel(),drawConnections(),showStatusMessage('已完成所有節點的重新排列',_0x1ba845(0x613));}function collapseAllNodes(){nodes['forEach'](_0x27baf3=>{const _0x26d477=_0x357f,_0x11d7c7=_0x27baf3[_0x26d477(0x636)][_0x26d477(0x303)](_0x26d477(0x2df));_0x11d7c7&&_0x11d7c7[_0x26d477(0x367)]==='-'&&_0x11d7c7[_0x26d477(0x221)]();});}function arrangeNodesByLevel(){const _0x1d5434=_0x267d97,_0x41b9c7=findRootNodes();if(_0x41b9c7['length']===0x0)return;const _0x4d5df9=0x32,_0x32bc96=0x32;let _0x1d2187=_0x4d5df9,_0x1b6ea9=_0x32bc96;const _0xec7a10=_0x41b9c7,_0x5bf617=findTopLeftNodeFromArray(_0xec7a10);if(_0x5bf617){_0x5bf617['x']=_0x1d2187,_0x5bf617['y']=_0x1b6ea9,updateNodePosition(_0x5bf617);const _0x302527=_0xec7a10[_0x1d5434(0x2fb)](_0x3da569=>_0x3da569!==_0x5bf617);_0x302527[_0x1d5434(0x585)]>0x0&&alignNodeGroup(_0x302527,_0x5bf617,_0x1d2187,_0x1b6ea9),_0x1b6ea9=getBottomPosition(_0x5bf617)+0x64;}let _0x5d677e=0x2,_0x2882c7=_0xec7a10;while(_0x2882c7[_0x1d5434(0x585)]>0x0){const _0x4a442b=findNextLevelNodes(_0x2882c7);if(_0x4a442b[_0x1d5434(0x585)]===0x0)break;const _0x4a2506=getRightmostPosition(_0x2882c7)+0xc8,_0x2efe98=_0x32bc96;arrangeLevelNodes(_0x4a442b,_0x4a2506,_0x2efe98),_0x2882c7=_0x4a442b,_0x5d677e++;}}function findRootNodes(){const _0x5cbe14=_0x267d97,_0x3b9f66=new Set();return connections['forEach'](_0x32869d=>{const _0x3f084a=_0x357f;_0x3b9f66[_0x3f084a(0x62f)](_0x32869d[_0x3f084a(0x311)]);}),nodes[_0x5cbe14(0x2fb)](_0x10b8f6=>!_0x3b9f66[_0x5cbe14(0x620)](_0x10b8f6['id']));}function findTopLeftNodeFromArray(_0x3864a5){const _0x4cdc9c=_0x267d97;let _0x2c407b=null,_0x4f8226=Infinity,_0xbd2cd1=Infinity;return _0x3864a5[_0x4cdc9c(0x54e)](_0x1a1d47=>{(_0x1a1d47['x']<_0x4f8226||_0x1a1d47['x']===_0x4f8226&&_0x1a1d47['y']<_0xbd2cd1)&&(_0x4f8226=_0x1a1d47['x'],_0xbd2cd1=_0x1a1d47['y'],_0x2c407b=_0x1a1d47);}),_0x2c407b;}function alignNodeGroup(_0x209d9f,_0x5c8704,_0x50d744,_0x351ad0){const _0x2be344=_0x267d97;if(_0x209d9f[_0x2be344(0x585)]===0x0)return;const _0x81adcd=new Set(_0x209d9f[_0x2be344(0x2ff)](_0x1b0823=>_0x1b0823['id'])),_0x10e8be=selectedNodes;selectedNodes=_0x81adcd;const _0x555b43=0xa,_0x15c1ca=0x1e,_0x5decc9=groupNodesIntoColumns(_0x5c8704,_0x81adcd,nodes);arrangeColumns(_0x5decc9,_0x5c8704,_0x15c1ca,_0x555b43,nodes),selectedNodes=_0x10e8be;}function findNextLevelNodes(_0x5b0490){const _0x1f47d9=_0x267d97,_0x527f22=new Set();return _0x5b0490[_0x1f47d9(0x54e)](_0x2a1edf=>{const _0x5fb7b5=_0x1f47d9,_0x18ed57=connections[_0x5fb7b5(0x2fb)](_0x594141=>_0x594141['fromNode']===_0x2a1edf['id']);_0x18ed57['forEach'](_0x479f65=>{const _0xd18355=_0x5fb7b5;_0x527f22[_0xd18355(0x62f)](_0x479f65['toNode']);});}),nodes[_0x1f47d9(0x2fb)](_0x2e9f17=>_0x527f22[_0x1f47d9(0x620)](_0x2e9f17['id']));}function getRightmostPosition(_0x4a9d5e){let _0x1a6765=-Infinity;return _0x4a9d5e['forEach'](_0x42b5f2=>{const _0x4fe17c=_0x357f,_0x1a7fd4=_0x42b5f2['x']+_0x42b5f2[_0x4fe17c(0x636)][_0x4fe17c(0x5b7)];_0x1a7fd4>_0x1a6765&&(_0x1a6765=_0x1a7fd4);}),_0x1a6765;}function getBottomPosition(_0x3df6ac){const _0x16b03b=_0x267d97;return _0x3df6ac['y']+_0x3df6ac[_0x16b03b(0x636)][_0x16b03b(0x2f3)];}function arrangeLevelNodes(_0x562418,_0x38bddd,_0x2381e1){const _0x39c42d=_0x267d97;if(_0x562418['length']===0x0)return;const _0x3267b5=findTopLeftNodeFromArray(_0x562418),_0x5b4efa=_0x562418[_0x39c42d(0x2fb)](_0x46335c=>_0x46335c!==_0x3267b5);_0x3267b5&&(_0x3267b5['x']=_0x38bddd,_0x3267b5['y']=_0x2381e1,updateNodePosition(_0x3267b5),_0x5b4efa[_0x39c42d(0x585)]>0x0&&alignNodeGroup(_0x5b4efa,_0x3267b5,_0x38bddd,_0x2381e1));}function checkMissingNodes(){const _0x452927=_0x267d97;clearMissingHighlights();const _0x2165f8=new Set();nodes[_0x452927(0x54e)](_0x591a19=>{const _0x34f404=_0x452927,_0x2639c0=_0x591a19[_0x34f404(0x636)]['querySelector'](_0x34f404(0x558));if(_0x2639c0){const _0x5bc254=_0x2639c0[_0x34f404(0x355)][_0x34f404(0x486)]();_0x5bc254&&!isFilteredName(_0x5bc254)&&_0x2165f8[_0x34f404(0x62f)](_0x5bc254);}});const _0x3ee01b=new Set(),_0x428421=new Set();nodes[_0x452927(0x54e)](_0x4d7d31=>{const _0x122c66=_0x452927,_0x22bd06=_0x4d7d31['element']['querySelectorAll'](_0x122c66(0x3d7));_0x22bd06[_0x122c66(0x54e)](_0x450620=>{const _0x77804c=_0x122c66,_0x32c384=_0x450620['value'][_0x77804c(0x486)]();_0x32c384&&!isFilteredName(_0x32c384)&&!isInBlacklist(_0x32c384)&&(_0x3ee01b['add'](_0x32c384),!_0x2165f8[_0x77804c(0x620)](_0x32c384)&&(_0x428421[_0x77804c(0x62f)](_0x32c384),_0x450620['parentElement'][_0x77804c(0x2cc)][_0x77804c(0x62f)]('highlight-missing'),_0x4d7d31[_0x77804c(0x636)]['classList']['add'](_0x77804c(0x381))));}),extractFunctionNamesFromNodeContent(_0x4d7d31,_0x3ee01b,_0x428421,_0x2165f8);}),nodes[_0x452927(0x54e)](_0x328fb9=>{const _0x353d81=_0x452927,_0x341428=_0x328fb9[_0x353d81(0x636)][_0x353d81(0x303)](_0x353d81(0x558)),_0x5c4d04=_0x341428?_0x341428[_0x353d81(0x355)][_0x353d81(0x486)]():'';_0x5c4d04&&_0x428421[_0x353d81(0x620)](_0x5c4d04)&&_0x328fb9[_0x353d81(0x636)][_0x353d81(0x2cc)][_0x353d81(0x62f)](_0x353d81(0x381));}),missingNodeNames=_0x428421;if(_0x428421[_0x452927(0x64d)]>0x0){const _0x30fb1c=Array[_0x452927(0x447)](_0x428421)[_0x452927(0x37a)](',\x20');showStatusMessage(_0x452927(0x5e6)+_0x428421['size']+_0x452927(0x4c9)+_0x30fb1c,_0x452927(0x616));if(generatedNodeCount>=0x32){showStatusMessage('已達到節點數量限制\x20('+generatedNodeCount+_0x452927(0x1e4),'warning'),stopAutoProcessing();return;}!autoProcessingInterval&&startAutoProcessing();}else showStatusMessage(_0x452927(0x359),_0x452927(0x613));}function extractFunctionNamesFromNodeContent(_0x2f6b84,_0x4acd78,_0x310e08,_0x5a025a){const _0x1fe09a=_0x267d97;try{const _0x2caaf2=[_0x2f6b84[_0x1fe09a(0x636)]['querySelector'](_0x1fe09a(0x40b)),_0x2f6b84[_0x1fe09a(0x636)]['querySelector']('.node-content'),_0x2f6b84[_0x1fe09a(0x636)][_0x1fe09a(0x303)](_0x1fe09a(0x66d))][_0x1fe09a(0x2fb)](_0x522e0b=>_0x522e0b!==null);let _0x486ef5='';_0x2caaf2[_0x1fe09a(0x54e)](_0x22c117=>{const _0x455ba0=_0x1fe09a;(_0x22c117[_0x455ba0(0x355)]||_0x22c117['textContent'])&&(_0x486ef5+=(_0x22c117[_0x455ba0(0x355)]||_0x22c117[_0x455ba0(0x367)])+'\x0a');});if(!_0x486ef5[_0x1fe09a(0x486)]())return;const _0x2a7ea1=[/\b([a-zA-Z_$][a-zA-Z0-9_$]*)\s*\([^)]*\)\s*\{/g,/\.addEventListener\s*\(\s*['"][^'"]*['"]\s*,\s*([a-zA-Z_$][a-zA-Z0-9_$]*)/g,/\b(?:const|let|var)\s+([a-zA-Z_$][a-zA-Z0-9_$]*)\s*=\s*function/g,/\bfunction\s+([a-zA-Z_$][a-zA-Z0-9_$]*)\s*\(/g,/\b(?:const|let|var)\s+([a-zA-Z_$][a-zA-Z0-9_$]*)\s*=\s*\([^)]*\)\s*=>/g,/\b([a-zA-Z_$][a-zA-Z0-9_$]*)\s*\(\s*\)\s*\{/g,/,\s*([a-zA-Z_$][a-zA-Z0-9_$]*)\s*\)/g],_0x47a1a9=new Set();_0x2a7ea1[_0x1fe09a(0x54e)](_0x583211=>{const _0x141a0d=_0x1fe09a;let _0x10f6e8;while((_0x10f6e8=_0x583211[_0x141a0d(0x3c3)](_0x486ef5))!==null){const _0x573924=_0x10f6e8[0x1];_0x573924&&!isFilteredName(_0x573924)&&!isInBlacklist(_0x573924)&&_0x573924[_0x141a0d(0x585)]>0x1&&!_0x573924[_0x141a0d(0x1e6)](/^[0-9]/)&&!_0x47a1a9['has'](_0x573924)&&(_0x47a1a9[_0x141a0d(0x62f)](_0x573924),_0x4acd78['add'](_0x573924),!_0x5a025a[_0x141a0d(0x620)](_0x573924)&&(_0x310e08[_0x141a0d(0x62f)](_0x573924),_0x2f6b84[_0x141a0d(0x636)][_0x141a0d(0x2cc)][_0x141a0d(0x62f)]('highlight-missing')));}});const _0x246238=/\.addEventListener\s*\(\s*['"]([^'"]*)['"]\s*,\s*([a-zA-Z_$][a-zA-Z0-9_$]*)/g;let _0x3457c9;while((_0x3457c9=_0x246238['exec'](_0x486ef5))!==null){const _0x2ad729=_0x3457c9[0x1],_0x4a5eef=_0x3457c9[0x2];_0x4a5eef&&!isFilteredName(_0x4a5eef)&&!isInBlacklist(_0x4a5eef)&&!_0x47a1a9[_0x1fe09a(0x620)](_0x4a5eef)&&(_0x47a1a9[_0x1fe09a(0x62f)](_0x4a5eef),_0x4acd78['add'](_0x4a5eef),!_0x5a025a[_0x1fe09a(0x620)](_0x4a5eef)&&(_0x310e08[_0x1fe09a(0x62f)](_0x4a5eef),_0x2f6b84[_0x1fe09a(0x636)][_0x1fe09a(0x2cc)]['add']('highlight-missing')));}}catch(_0x4d89ac){}}function isFilteredName(_0x14b9a4){const _0x285fdf=_0x267d97;return FILTERED_NAMES[_0x285fdf(0x633)](_0x14b9a4)||_0x14b9a4['startsWith'](_0x285fdf(0x1b4))||_0x14b9a4[_0x285fdf(0x694)]('item\x20');}function isInBlacklist(_0x5b8726){const _0x12b575=_0x267d97;return currentLanguage===_0x12b575(0x291)?PYTHON_FUNCTION_BLACKLIST['includes'](_0x5b8726):FUNCTION_BLACKLIST[_0x12b575(0x633)](_0x5b8726);}function clearMissingHighlights(){const _0x3444a7=_0x267d97;document[_0x3444a7(0x2fd)]('.node.highlight-missing')[_0x3444a7(0x54e)](_0x55015c=>{const _0x277006=_0x3444a7;_0x55015c[_0x277006(0x2cc)][_0x277006(0x2b4)]('highlight-missing');}),document[_0x3444a7(0x2fd)](_0x3444a7(0x4eb))['forEach'](_0x52452f=>{const _0x2eac00=_0x3444a7;_0x52452f[_0x2eac00(0x2cc)][_0x2eac00(0x2b4)]('highlight-missing');}),missingNodeNames[_0x3444a7(0x612)]();}function recheckMissingNodes(){missingNodeNames['size']>0x0&&checkMissingNodes();}function setupMissingNodeCheckOnTitleChange(){const _0x84c576=_0x267d97;document[_0x84c576(0x42e)](_0x84c576(0x28b),_0x1453a5=>{const _0x19b493=_0x84c576;if(_0x1453a5[_0x19b493(0x671)][_0x19b493(0x2cc)][_0x19b493(0x191)](_0x19b493(0x1ad))){const _0x41100b=_0x1453a5[_0x19b493(0x671)][_0x19b493(0x355)]['trim']();missingNodeNames[_0x19b493(0x64d)]>0x0&&(clearTimeout(window[_0x19b493(0x53b)]),window[_0x19b493(0x53b)]=setTimeout(recheckMissingNodes,0x12c));}}),document[_0x84c576(0x42e)]('input',_0x464fce=>{const _0x2c7f03=_0x84c576;_0x464fce[_0x2c7f03(0x671)][_0x2c7f03(0x2cc)]['contains'](_0x2c7f03(0x58d))&&(missingNodeNames[_0x2c7f03(0x64d)]>0x0&&(clearTimeout(window[_0x2c7f03(0x53b)]),window[_0x2c7f03(0x53b)]=setTimeout(recheckMissingNodes,0x12c)));});}function setupMissingNodeMonitoring(){const _0x154509=window['createNode'];window['createNode']=function(_0x4bb3f8,_0x35feaf,_0x54066c='節點',_0x1ae526='normal'){const _0x2ba9f6=_0x154509(_0x4bb3f8,_0x35feaf,_0x54066c,_0x1ae526);return missingNodeNames['size']>0x0&&setTimeout(recheckMissingNodes,0x64),_0x2ba9f6;};}document[_0x267d97(0x42e)](_0x267d97(0x271),function(){const _0x3c2a8c=_0x267d97;setupMissingNodeCheckOnTitleChange(),setupMissingNodeMonitoring();const _0x1573bc=document[_0x3c2a8c(0x2e4)](_0x3c2a8c(0x526));_0x1573bc&&_0x1573bc[_0x3c2a8c(0x42e)](_0x3c2a8c(0x221),rearrangeAllNodes);});function setupMissingNodeDeleteMonitoring(){const _0x1c42ad=_0x267d97,_0x1f5da3=nodesContainer[_0x1c42ad(0x42e)];document[_0x1c42ad(0x42e)](_0x1c42ad(0x221),_0x43f55d=>{const _0x5ebb77=_0x1c42ad;_0x43f55d['target'][_0x5ebb77(0x2cc)][_0x5ebb77(0x191)](_0x5ebb77(0x31f))&&(missingNodeNames[_0x5ebb77(0x64d)]>0x0&&setTimeout(recheckMissingNodes,0x64));});}function initMissingNodeCheck(){setupMissingNodeCheckOnTitleChange(),setupMissingNodeMonitoring(),setupMissingNodeDeleteMonitoring();}document[_0x267d97(0x3ae)]===_0x267d97(0x67c)?document[_0x267d97(0x42e)](_0x267d97(0x271),initMissingNodeCheck):initMissingNodeCheck();setupMissingNodeCheckOnTitleChange();function saveProject(){const _0x18a191=_0x267d97;try{const _0x15dad4=JSON['parse'](localStorage[_0x18a191(0x405)](_0x18a191(0x60a))||'{}'),_0x1f99bd=nodes['map'](_0x5921a2=>{const _0x2c1b8a=_0x18a191,_0x4e283a=_0x5921a2[_0x2c1b8a(0x636)],_0x3efc94={'id':_0x5921a2['id'],'x':_0x5921a2['x'],'y':_0x5921a2['y'],'colorIndex':_0x5921a2[_0x2c1b8a(0x1a0)]||0x0,'title':_0x4e283a[_0x2c1b8a(0x303)](_0x2c1b8a(0x558))[_0x2c1b8a(0x355)]||_0x2c1b8a(0x1c9),'isFrame':_0x5921a2[_0x2c1b8a(0x1f1)]||![],'metadata':{'lastUpdated':new Date()['toISOString']()}};if(!_0x5921a2[_0x2c1b8a(0x1f1)]){let _0x1d0242='';const _0x432421=_0x4e283a[_0x2c1b8a(0x303)](_0x2c1b8a(0x40b)),_0x9ea9eb=_0x4e283a[_0x2c1b8a(0x303)](_0x2c1b8a(0x5bc)),_0x407e1c=_0x4e283a[_0x2c1b8a(0x303)](_0x2c1b8a(0x278));if(_0x9ea9eb&&_0x407e1c)_0x1d0242=_0x407e1c[_0x2c1b8a(0x367)]||_0x9ea9eb['dataset']['originalContent']||'';else _0x432421&&(_0x1d0242=_0x432421[_0x2c1b8a(0x355)]);const _0x244f41=Array[_0x2c1b8a(0x447)](_0x4e283a[_0x2c1b8a(0x2fd)](_0x2c1b8a(0x4b8))),_0x5b4103=_0x244f41[_0x2c1b8a(0x2ff)](_0x152774=>({'name':_0x152774[_0x2c1b8a(0x2be)][_0x2c1b8a(0x3fb)],'active':_0x152774[_0x2c1b8a(0x2be)][_0x2c1b8a(0x567)]===_0x2c1b8a(0x2f5)}));Object[_0x2c1b8a(0x399)](_0x3efc94,{'content':_0x1d0242,'description':nodeDescriptions[_0x5921a2['id']]||'','isConvertedToButton':!!_0x9ea9eb,'isChildrenHidden':_0x4e283a[_0x2c1b8a(0x2cc)][_0x2c1b8a(0x191)]('children-hidden'),'isCollapsed':_0x4e283a[_0x2c1b8a(0x2cc)][_0x2c1b8a(0x191)](_0x2c1b8a(0x24f)),'items':Array[_0x2c1b8a(0x447)](_0x4e283a[_0x2c1b8a(0x2fd)](_0x2c1b8a(0x3d7)))[_0x2c1b8a(0x2ff)](_0x5333a0=>_0x5333a0[_0x2c1b8a(0x355)]),'variableStates':_0x5b4103,'variableAnalysisExpanded':_0x4e283a[_0x2c1b8a(0x303)]('.variable-analysis-container')?.[_0x2c1b8a(0x2cc)][_0x2c1b8a(0x191)](_0x2c1b8a(0x460))||![],'metadata':{'contentLength':_0x1d0242[_0x2c1b8a(0x585)],'lastUpdated':new Date()['toISOString']()}}),_0x5921a2[_0x2c1b8a(0x4d1)]&&(_0x3efc94['isGroupNode']=!![],_0x3efc94[_0x2c1b8a(0x406)]=_0x5921a2[_0x2c1b8a(0x406)]||[],_0x3efc94[_0x2c1b8a(0x456)]=_0x5921a2[_0x2c1b8a(0x456)]||[],_0x3efc94[_0x2c1b8a(0x590)]=_0x5921a2['incomingConnections']||[],_0x3efc94[_0x2c1b8a(0x3a7)]=_0x5921a2[_0x2c1b8a(0x3a7)]||[],_0x3efc94[_0x2c1b8a(0x456)]=_0x5921a2[_0x2c1b8a(0x456)]||[],_0x3efc94[_0x2c1b8a(0x590)]=connections['filter'](_0x2407a3=>_0x2407a3[_0x2c1b8a(0x311)]===_0x5921a2['id'])[_0x2c1b8a(0x2ff)](_0x3fbb37=>({'fromNode':_0x3fbb37[_0x2c1b8a(0x659)],'fromOutput':_0x3fbb37[_0x2c1b8a(0x31d)],'toNode':_0x3fbb37[_0x2c1b8a(0x311)]})),_0x3efc94[_0x2c1b8a(0x3a7)]=connections[_0x2c1b8a(0x2fb)](_0x4b3c1c=>_0x4b3c1c['fromNode']===_0x5921a2['id'])['map'](_0x15d0fd=>({'fromNode':_0x15d0fd['fromNode'],'fromOutput':_0x15d0fd['fromOutput'],'toNode':_0x15d0fd[_0x2c1b8a(0x311)]})));}else{_0x3efc94[_0x2c1b8a(0x3f8)]=parseFloat(_0x4e283a[_0x2c1b8a(0x66e)][_0x2c1b8a(0x3f8)])||_0x4e283a['offsetWidth'],_0x3efc94[_0x2c1b8a(0x65a)]=parseFloat(_0x4e283a[_0x2c1b8a(0x66e)][_0x2c1b8a(0x65a)])||_0x4e283a[_0x2c1b8a(0x2f3)];const _0x3db0d0=_0x4e283a[_0x2c1b8a(0x303)](_0x2c1b8a(0x6bc));_0x3db0d0&&(_0x3efc94[_0x2c1b8a(0x198)]=Array[_0x2c1b8a(0x447)](_0x3db0d0[_0x2c1b8a(0x2fd)](_0x2c1b8a(0x4a2)))[_0x2c1b8a(0x2ff)](_0x398de9=>({'text':_0x398de9[_0x2c1b8a(0x367)],'style':_0x398de9[_0x2c1b8a(0x66e)][_0x2c1b8a(0x35a)]})));}return _0x3efc94;}),_0x127913=connections[_0x18a191(0x2ff)](_0x335d62=>({'fromNode':_0x335d62[_0x18a191(0x659)],'fromOutput':_0x335d62[_0x18a191(0x31d)]||0x0,'toNode':_0x335d62[_0x18a191(0x311)],'highlighted':_0x335d62[_0x18a191(0x23d)]||![]})),_0x5451ad={'version':'2.8','nodes':_0x1f99bd,'connections':_0x127913,'nodeDescriptions':nodeDescriptions,'loadedHtmlFunctions':loadedHtmlFunctions,'viewState':{'scale':scale,'translateX':translateX,'translateY':translateY},'savedAt':new Date()['toISOString']()},_0x3e7272=JSON['stringify'](_0x5451ad,null,0x2),_0x48ea10=new Blob([_0x3e7272],{'type':_0x18a191(0x2e2)}),_0x480824=URL['createObjectURL'](_0x48ea10),_0x1973b8=_0x18a191(0x257)+new Date()[_0x18a191(0x3bc)]()['replace'](/[:.]/g,'-')+_0x18a191(0x57b),_0x49b60e=document[_0x18a191(0x333)]('a');_0x49b60e[_0x18a191(0x3c8)]=_0x480824,_0x49b60e[_0x18a191(0x629)]=_0x1973b8,_0x49b60e['style'][_0x18a191(0x6b5)]=_0x18a191(0x352),document[_0x18a191(0x529)][_0x18a191(0x443)](_0x49b60e),_0x49b60e[_0x18a191(0x221)](),setTimeout(()=>{const _0x321872=_0x18a191;document[_0x321872(0x529)][_0x321872(0x4a4)](_0x49b60e),URL['revokeObjectURL'](_0x480824);},0x64);}catch(_0x3bcf06){alert(_0x18a191(0x5ae)+_0x3bcf06['message']);}}function loadProject(_0x24ba00){const _0x6f8835=_0x267d97,_0x587d2b=_0x24ba00['target'][_0x6f8835(0x2bf)][0x0];if(!_0x587d2b)return;const _0x4d976c=new FileReader();_0x4d976c[_0x6f8835(0x1cc)]=_0x26f0e2=>{const _0x540bff=_0x6f8835;try{const _0x35a949=JSON['parse'](_0x26f0e2[_0x540bff(0x671)][_0x540bff(0x626)]);nodesContainer[_0x540bff(0x1ee)]='',nodes=[],connections=[],ALL_ACTIVE_POPUPS[_0x540bff(0x612)](),activePopup=null;_0x35a949[_0x540bff(0x60a)]&&(loadedHtmlFunctions=_0x35a949[_0x540bff(0x60a)]);_0x35a949[_0x540bff(0x5f9)]?nodeDescriptions=_0x35a949['nodeDescriptions']:nodeDescriptions={};_0x35a949[_0x540bff(0x560)]&&(scale=_0x35a949[_0x540bff(0x560)]['scale']||0x1,translateX=_0x35a949[_0x540bff(0x560)][_0x540bff(0x1b6)]||window[_0x540bff(0x5af)]/0x2-0x64,translateY=_0x35a949[_0x540bff(0x560)][_0x540bff(0x1cf)]||window[_0x540bff(0x314)]/0x2-0x32,applyTransform());const _0x1ac168={},_0x141557=[];_0x35a949[_0x540bff(0x219)]?.[_0x540bff(0x54e)](_0x25f401=>{const _0x19b8a0=_0x540bff;if(_0x25f401['isGroupNode']){_0x141557['push'](_0x25f401);return;}if(_0x25f401['isFrame']){const _0x1a5a23=createNode(_0x25f401['x'],_0x25f401['y'],_0x25f401[_0x19b8a0(0x45c)]||_0x19b8a0(0x2a2));_0x1a5a23[_0x19b8a0(0x1f1)]=!![];if(_0x25f401['colorIndex']!==undefined){const _0x2bc990=COLOR_CLASSES[_0x25f401[_0x19b8a0(0x1a0)]%COLOR_CLASSES[_0x19b8a0(0x585)]];_0x1a5a23['element'][_0x19b8a0(0x2cc)][_0x19b8a0(0x62f)](_0x2bc990),_0x1a5a23[_0x19b8a0(0x1a0)]=_0x25f401[_0x19b8a0(0x1a0)];}const _0x558dbd=_0x1a5a23[_0x19b8a0(0x636)];_0x558dbd[_0x19b8a0(0x2cc)][_0x19b8a0(0x62f)]('frame-node'),_0x558dbd[_0x19b8a0(0x66e)][_0x19b8a0(0x55a)]='1';const _0x407f41=_0x558dbd[_0x19b8a0(0x303)](_0x19b8a0(0x40b)),_0x3decc8=_0x558dbd[_0x19b8a0(0x303)](_0x19b8a0(0x38c)),_0x2053a9=_0x558dbd[_0x19b8a0(0x303)](_0x19b8a0(0x2af)),_0x57d9b4=_0x558dbd['querySelector'](_0x19b8a0(0x5b8));if(_0x407f41)_0x407f41[_0x19b8a0(0x2b4)]();if(_0x3decc8)_0x3decc8[_0x19b8a0(0x2b4)]();if(_0x2053a9)_0x2053a9[_0x19b8a0(0x2b4)]();if(_0x57d9b4)_0x57d9b4[_0x19b8a0(0x2b4)]();_0x558dbd[_0x19b8a0(0x1ee)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22frame-header\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22text\x22\x20class=\x22node-title\x22\x20value=\x22'+(_0x25f401[_0x19b8a0(0x45c)]||_0x19b8a0(0x2a2))+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22delete-node-btn\x22>×</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22frame-content\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22frame-footer\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22add-note-btn\x22>添加註釋</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22resize-handle\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';_0x25f401[_0x19b8a0(0x3f8)]&&_0x25f401[_0x19b8a0(0x65a)]&&(_0x558dbd['style']['width']=_0x25f401[_0x19b8a0(0x3f8)]+'px',_0x558dbd[_0x19b8a0(0x66e)][_0x19b8a0(0x65a)]=_0x25f401[_0x19b8a0(0x65a)]+'px');const _0x2bcfa2=_0x558dbd[_0x19b8a0(0x303)](_0x19b8a0(0x6bc));_0x25f401['content']&&_0x2bcfa2&&_0x25f401['content'][_0x19b8a0(0x54e)](_0x5b9103=>{const _0x2ab3d3=_0x19b8a0,_0x2c2eae=document[_0x2ab3d3(0x333)](_0x2ab3d3(0x1c1));_0x2c2eae[_0x2ab3d3(0x65b)]=_0x2ab3d3(0x481),_0x2c2eae[_0x2ab3d3(0x1d3)]=_0x2ab3d3(0x2f5),_0x2c2eae[_0x2ab3d3(0x367)]=_0x5b9103[_0x2ab3d3(0x508)],_0x2c2eae['style']['cssText']=_0x5b9103[_0x2ab3d3(0x66e)]||'',_0x2bcfa2['appendChild'](_0x2c2eae);});setupFrameEvents(_0x1a5a23),nodesContainer[_0x19b8a0(0x443)](_0x558dbd),_0x1ac168[_0x25f401['id']]=_0x1a5a23;return;}const _0xef09d=createNode(_0x25f401['x'],_0x25f401['y'],_0x25f401[_0x19b8a0(0x45c)]||'節點');_0x1ac168[_0x25f401['id']]=_0xef09d;const _0x4f7435=COLOR_CLASSES[_0x25f401[_0x19b8a0(0x1a0)]%COLOR_CLASSES['length']];_0xef09d[_0x19b8a0(0x636)][_0x19b8a0(0x2cc)][_0x19b8a0(0x62f)](_0x4f7435),_0xef09d['colorIndex']=_0x25f401['colorIndex'];if(_0x25f401[_0x19b8a0(0x552)]){_0xef09d[_0x19b8a0(0x636)]['classList'][_0x19b8a0(0x62f)](_0x19b8a0(0x24f));const _0x23624c=_0xef09d[_0x19b8a0(0x636)][_0x19b8a0(0x303)](_0x19b8a0(0x2df));if(_0x23624c){_0x23624c['textContent']='+';const _0x52e74f=_0xef09d[_0x19b8a0(0x636)][_0x19b8a0(0x2fd)](_0x19b8a0(0x48e)),_0x1f7211=_0xef09d[_0x19b8a0(0x636)][_0x19b8a0(0x303)]('.header-port');_0x52e74f[_0x19b8a0(0x54e)](_0x4fb6fe=>_0x4fb6fe['style'][_0x19b8a0(0x6b5)]=_0x19b8a0(0x352));if(!_0x1f7211){const _0x2ccb80=document[_0x19b8a0(0x333)](_0x19b8a0(0x1c1));_0x2ccb80[_0x19b8a0(0x65b)]=_0x19b8a0(0x562),_0x2ccb80[_0x19b8a0(0x2be)][_0x19b8a0(0x464)]=_0x19b8a0(0x1c6),_0x2ccb80[_0x19b8a0(0x66e)]['display']=_0x19b8a0(0x550),_0xef09d[_0x19b8a0(0x636)][_0x19b8a0(0x303)]('.node-header')['appendChild'](_0x2ccb80);}else _0x1f7211[_0x19b8a0(0x66e)][_0x19b8a0(0x6b5)]='block';}}const _0x57b38e=_0xef09d[_0x19b8a0(0x636)]['querySelector'](_0x19b8a0(0x40b));if(_0x57b38e&&_0x25f401[_0x19b8a0(0x198)]!==undefined){_0x57b38e[_0x19b8a0(0x355)]=_0x25f401['content'];if(_0x25f401['isConvertedToButton']&&_0x25f401['content']['trim']()){const _0x24aa7e=document[_0x19b8a0(0x333)](_0x19b8a0(0x201));_0x24aa7e[_0x19b8a0(0x65b)]=_0x19b8a0(0x1f0),_0x24aa7e[_0x19b8a0(0x367)]=_0x25f401[_0x19b8a0(0x198)][_0x19b8a0(0x585)]>0x32?_0x25f401['content'][_0x19b8a0(0x5b4)](0x0,0x2f)+_0x19b8a0(0x2e1):_0x25f401['content'],_0x24aa7e['dataset'][_0x19b8a0(0x535)]=_0x25f401[_0x19b8a0(0x198)];const _0x345a29=document[_0x19b8a0(0x333)](_0x19b8a0(0x1c1));_0x345a29[_0x19b8a0(0x65b)]=_0x19b8a0(0x1d1),_0x345a29[_0x19b8a0(0x367)]=_0x25f401[_0x19b8a0(0x198)],_0x345a29[_0x19b8a0(0x2cc)][_0x19b8a0(0x62f)](_0x4f7435);const _0x34cc67=document['createElement'](_0x19b8a0(0x1c1));_0x34cc67[_0x19b8a0(0x66e)][_0x19b8a0(0x500)]=_0x19b8a0(0x3ee),_0x34cc67[_0x19b8a0(0x66e)][_0x19b8a0(0x6b5)]=_0x19b8a0(0x5fe),_0x34cc67[_0x19b8a0(0x66e)][_0x19b8a0(0x3f8)]=_0x19b8a0(0x2ca);const _0xc017e7=_0x57b38e[_0x19b8a0(0x433)](!![]);_0xc017e7[_0x19b8a0(0x66e)][_0x19b8a0(0x6b5)]=_0x19b8a0(0x352),_0x34cc67[_0x19b8a0(0x443)](_0xc017e7),_0x34cc67[_0x19b8a0(0x443)](_0x24aa7e),_0x34cc67[_0x19b8a0(0x443)](_0x345a29),_0x57b38e[_0x19b8a0(0x4f6)](_0x34cc67),setupParagraphButtonEvents(_0x24aa7e,_0x345a29,_0xc017e7,_0xef09d);}}const _0x5ddc2e=_0xef09d['element'][_0x19b8a0(0x303)]('.items');_0x5ddc2e&&_0x25f401['items']&&(_0x5ddc2e['innerHTML']='',_0xef09d[_0x19b8a0(0x661)]=[],_0x25f401['items'][_0x19b8a0(0x54e)]((_0x5c1c11,_0x25a0f9)=>{const _0x398b59=_0x19b8a0,_0x1c36a9=document[_0x398b59(0x333)](_0x398b59(0x1c1));_0x1c36a9[_0x398b59(0x65b)]=_0x398b59(0x389),_0x1c36a9[_0x398b59(0x1ee)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22drag-handle\x22>☰</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22text\x22\x20class=\x22item-text\x22\x20value=\x22'+escapeHtml(_0x5c1c11||'項目\x20'+(_0x25a0f9+0x1))+_0x398b59(0x1a1),_0x5ddc2e['appendChild'](_0x1c36a9),_0xef09d['outputs'][_0x398b59(0x664)](_0x25a0f9),setupAddNodeButton(_0x1c36a9,_0xef09d,_0x25a0f9,container),setupOutputPort(_0x1c36a9,_0xef09d,_0x25a0f9,container),setupItemDragAndDrop(_0xef09d[_0x398b59(0x636)],_0xef09d);}));if(_0x25f401[_0x19b8a0(0x198)]&&_0x25f401['content'][_0x19b8a0(0x486)]()){analyzeVariables(_0xef09d);_0x25f401['variableStates']&&_0x25f401['variableStates']['forEach'](_0x377d80=>{const _0x335399=_0x19b8a0,_0xdec147=_0xef09d[_0x335399(0x636)][_0x335399(0x303)](_0x335399(0x292)+_0x377d80[_0x335399(0x391)]+'\x22]');_0xdec147&&(_0xdec147[_0x335399(0x2be)][_0x335399(0x567)]=_0x377d80[_0x335399(0x567)][_0x335399(0x32f)](),_0x377d80['active']&&(_0xdec147[_0x335399(0x66e)][_0x335399(0x320)]='#4a90e2',_0xdec147[_0x335399(0x66e)][_0x335399(0x1f6)]=_0x335399(0x5a4)));});const _0x431377=_0xef09d['element'][_0x19b8a0(0x303)](_0x19b8a0(0x4f7)),_0x4ecfe7=_0xef09d[_0x19b8a0(0x636)][_0x19b8a0(0x303)]('.toggle-variable-analysis-btn');_0x431377&&_0x4ecfe7&&(_0x25f401[_0x19b8a0(0x654)]?(_0x431377[_0x19b8a0(0x2cc)][_0x19b8a0(0x62f)](_0x19b8a0(0x460)),_0x4ecfe7['textContent']='-'):(_0x431377[_0x19b8a0(0x2cc)]['remove'](_0x19b8a0(0x460)),_0x4ecfe7[_0x19b8a0(0x367)]='+'));}_0xef09d[_0x19b8a0(0x222)]=new Map();const _0x1b38c8=_0x35a949[_0x19b8a0(0x46e)]?.[_0x19b8a0(0x2fb)](_0x4b357f=>_0x4b357f[_0x19b8a0(0x659)]===_0x25f401['id'])[_0x19b8a0(0x2ff)](_0x57f1a3=>_0x35a949[_0x19b8a0(0x219)][_0x19b8a0(0x6a3)](_0x144498=>_0x144498['id']===_0x57f1a3['toNode']));_0x1b38c8&&_0x1b38c8[_0x19b8a0(0x585)]>0x0&&_0x1b38c8[_0x19b8a0(0x54e)](_0x205e4e=>{const _0x251be5=_0x19b8a0;_0x205e4e&&_0xef09d['childStates'][_0x251be5(0x436)](_0x205e4e['id'],{'x':_0x205e4e['x'],'y':_0x205e4e['y'],'collapsed':_0x205e4e[_0x251be5(0x552)]||![]});});if(_0x25f401[_0x19b8a0(0x555)]){_0xef09d[_0x19b8a0(0x636)][_0x19b8a0(0x2cc)][_0x19b8a0(0x62f)](_0x19b8a0(0x264));const _0x26cf17=_0xef09d[_0x19b8a0(0x636)][_0x19b8a0(0x303)]('.hide-children-btn');if(_0x26cf17){_0x26cf17[_0x19b8a0(0x367)]='顯示子';const _0x4c5c69=connections[_0x19b8a0(0x2fb)](_0x380961=>_0x380961[_0x19b8a0(0x659)]===_0xef09d['id'])['map'](_0x3fe7d5=>nodes[_0x3fe7d5[_0x19b8a0(0x311)]]);_0x4c5c69[_0x19b8a0(0x54e)]((_0x43a479,_0x4d33aa)=>{const _0xcb7c5d=_0x19b8a0;!_0xef09d[_0xcb7c5d(0x222)][_0xcb7c5d(0x620)](_0x43a479['id'])&&_0xef09d['childStates'][_0xcb7c5d(0x436)](_0x43a479['id'],{'x':_0x43a479['x'],'y':_0x43a479['y'],'collapsed':_0x43a479[_0xcb7c5d(0x636)][_0xcb7c5d(0x2cc)][_0xcb7c5d(0x191)](_0xcb7c5d(0x24f))}),!_0x43a479[_0xcb7c5d(0x636)][_0xcb7c5d(0x2cc)][_0xcb7c5d(0x191)]('collapsed')&&_0x43a479[_0xcb7c5d(0x636)]['querySelector'](_0xcb7c5d(0x2df))[_0xcb7c5d(0x221)](),_0x43a479['x']=_0xef09d['x']+0xc8/scale,_0x43a479['y']=_0xef09d['y']+_0x4d33aa*0x2b/scale,updateNodePosition(_0x43a479);});}}}),_0x141557[_0x540bff(0x54e)](_0x564be2=>{const _0x5a18ff=_0x540bff,_0x502b69=createGroupNodeElement(_0x564be2['x'],_0x564be2['y'],_0x564be2[_0x5a18ff(0x45c)]),_0x53ca41=initializeGroupNodeData(_0x502b69,_0x564be2['x'],_0x564be2['y'],_0x564be2[_0x5a18ff(0x406)]||[]);_0x53ca41[_0x5a18ff(0x4d1)]=!![],_0x53ca41[_0x5a18ff(0x456)]=_0x564be2[_0x5a18ff(0x456)]||[],_0x53ca41[_0x5a18ff(0x590)]=_0x564be2[_0x5a18ff(0x590)]||[],_0x53ca41[_0x5a18ff(0x3a7)]=_0x564be2[_0x5a18ff(0x3a7)]||[],setupUngroupButton(_0x502b69,_0x53ca41),_0x564be2['containedNodes']?.[_0x5a18ff(0x54e)](_0x984317=>{const _0x747d36=_0x5a18ff;_0x1ac168[_0x984317]&&_0x1ac168[_0x984317][_0x747d36(0x636)]&&(_0x1ac168[_0x984317][_0x747d36(0x636)]['style']['display']='none');}),_0x1ac168[_0x564be2['id']]=_0x53ca41;}),_0x35a949[_0x540bff(0x46e)]?.[_0x540bff(0x54e)](_0x47029e=>{const _0x453c37=_0x540bff,_0x43b9fb=_0x1ac168[_0x47029e[_0x453c37(0x659)]]!==undefined,_0x4781e2=_0x1ac168[_0x47029e[_0x453c37(0x311)]]!==undefined;if(_0x43b9fb&&_0x4781e2)connections[_0x453c37(0x664)]({'fromNode':_0x1ac168[_0x47029e[_0x453c37(0x659)]]['id'],'fromOutput':_0x47029e[_0x453c37(0x31d)]||0x0,'toNode':_0x1ac168[_0x47029e[_0x453c37(0x311)]]['id']});else{}}),_0x141557[_0x540bff(0x54e)](_0x26695c=>{const _0x1fd709=_0x540bff,_0x32bb8d=_0x1ac168[_0x26695c['id']];if(!_0x32bb8d)return;_0x32bb8d[_0x1fd709(0x590)][_0x1fd709(0x54e)](_0x4a96ad=>{const _0x2488ee=_0x1fd709;_0x1ac168[_0x4a96ad[_0x2488ee(0x659)]]&&_0x1ac168[_0x4a96ad[_0x2488ee(0x311)]]&&connections[_0x2488ee(0x664)]({'fromNode':_0x1ac168[_0x4a96ad[_0x2488ee(0x659)]]['id'],'fromOutput':_0x4a96ad[_0x2488ee(0x31d)],'toNode':_0x32bb8d['id']});}),_0x32bb8d['outgoingConnections'][_0x1fd709(0x54e)](_0x1d586c=>{const _0x58e497=_0x1fd709;_0x1ac168[_0x1d586c['fromNode']]&&_0x1ac168[_0x1d586c['toNode']]&&connections[_0x58e497(0x664)]({'fromNode':_0x32bb8d['id'],'fromOutput':_0x1d586c[_0x58e497(0x31d)],'toNode':_0x1ac168[_0x1d586c[_0x58e497(0x311)]]['id']});});}),drawConnections(),showStatusMessage('項目載入完成',_0x540bff(0x613));}catch(_0x20531b){showStatusMessage(_0x540bff(0x4c5),_0x540bff(0x273));}},_0x4d976c['readAsText'](_0x587d2b),_0x24ba00['target'][_0x6f8835(0x355)]='';}function setupFrameEvents(_0x5edba4){const _0x8abec=_0x267d97,_0x1ccf50=_0x5edba4[_0x8abec(0x636)];_0x1ccf50[_0x8abec(0x303)](_0x8abec(0x4d8))[_0x8abec(0x42e)]('click',_0x284795=>{const _0x26c166=_0x8abec;connections=connections['filter'](_0x3ecc93=>_0x3ecc93[_0x26c166(0x659)]!==_0x5edba4['id']&&_0x3ecc93[_0x26c166(0x311)]!==_0x5edba4['id']),nodes=nodes['filter'](_0x1173ee=>_0x1173ee['id']!==_0x5edba4['id']),_0x1ccf50[_0x26c166(0x2b4)](),drawConnections(),_0x284795[_0x26c166(0x4de)]();});const _0xe0edc7=_0x1ccf50['querySelector']('.resize-handle');let _0x3f741f=![],_0x430f8d,_0x56adbc,_0x2d04c7,_0x4e6822;const _0x13157d=_0xe0edc7[_0x8abec(0x433)](!![]);_0xe0edc7[_0x8abec(0x1a7)][_0x8abec(0x301)](_0x13157d,_0xe0edc7),_0x13157d[_0x8abec(0x42e)]('mousedown',function(_0x28ac4e){const _0x456fd5=_0x8abec;_0x3f741f=!![],_0x430f8d=parseFloat(_0x1ccf50[_0x456fd5(0x66e)][_0x456fd5(0x3f8)]||_0x1ccf50[_0x456fd5(0x5b7)]),_0x56adbc=parseFloat(_0x1ccf50[_0x456fd5(0x66e)][_0x456fd5(0x65a)]||_0x1ccf50[_0x456fd5(0x2f3)]),_0x2d04c7=_0x28ac4e[_0x456fd5(0x3e4)],_0x4e6822=_0x28ac4e['clientY'],_0x28ac4e[_0x456fd5(0x4de)](),_0x28ac4e[_0x456fd5(0x26c)]();}),document[_0x8abec(0x42e)](_0x8abec(0x2e0),function(_0x9cf8e0){const _0x41888c=_0x8abec;if(_0x9cf8e0['target'][_0x41888c(0x419)](_0x41888c(0x6ad)))return;if(!_0x3f741f)return;const _0x3a3335=(_0x9cf8e0[_0x41888c(0x3e4)]-_0x2d04c7)/scale,_0x1a7c8f=(_0x9cf8e0[_0x41888c(0x2b0)]-_0x4e6822)/scale,_0x1d9571=Math[_0x41888c(0x684)](0x12c,_0x430f8d+_0x3a3335),_0x122a86=Math[_0x41888c(0x684)](0xc8,_0x56adbc+_0x1a7c8f);_0x1ccf50['style'][_0x41888c(0x3f8)]=_0x1d9571+'px',_0x1ccf50[_0x41888c(0x66e)][_0x41888c(0x65a)]=_0x122a86+'px',_0x9cf8e0[_0x41888c(0x26c)]();}),document[_0x8abec(0x42e)](_0x8abec(0x2ce),function(){_0x3f741f=![];}),_0x1ccf50[_0x8abec(0x303)]('.add-note-btn')[_0x8abec(0x42e)](_0x8abec(0x221),()=>{const _0x3bf8cd=_0x8abec,_0x29e96f=_0x1ccf50[_0x3bf8cd(0x303)](_0x3bf8cd(0x6bc)),_0xadd061=document['createElement'](_0x3bf8cd(0x1c1));_0xadd061[_0x3bf8cd(0x65b)]=_0x3bf8cd(0x481),_0xadd061[_0x3bf8cd(0x1d3)]=_0x3bf8cd(0x2f5),_0x29e96f[_0x3bf8cd(0x443)](_0xadd061),_0xadd061[_0x3bf8cd(0x44c)]();});}function selectNodesInBox(_0x1b18dd,_0x56deb9,_0xbc7eb6,_0x45b9dd){const _0x4b1cb2=_0x267d97;clearSelection();const _0x293776=Math['min'](_0x1b18dd,_0xbc7eb6),_0x5cf770=Math[_0x4b1cb2(0x684)](_0x1b18dd,_0xbc7eb6),_0x4f3f9b=Math[_0x4b1cb2(0x646)](_0x56deb9,_0x45b9dd),_0x1640f4=Math[_0x4b1cb2(0x684)](_0x56deb9,_0x45b9dd);nodes['forEach'](_0x2abcf5=>{const _0x596fed=_0x4b1cb2;if(_0x2abcf5[_0x596fed(0x1f1)])return;const _0x3c32f7=_0x2abcf5['element'][_0x596fed(0x262)](),_0x163d57=(_0x3c32f7[_0x596fed(0x52c)]+_0x3c32f7[_0x596fed(0x274)])/0x2,_0x3dac93=(_0x3c32f7[_0x596fed(0x422)]+_0x3c32f7[_0x596fed(0x2d0)])/0x2;_0x163d57>_0x293776&&_0x163d57<_0x5cf770&&_0x3dac93>_0x4f3f9b&&_0x3dac93<_0x1640f4&&(selectedNodes['add'](_0x2abcf5['id']),_0x2abcf5['element']['classList'][_0x596fed(0x62f)](_0x596fed(0x22c)));}),drawConnections();}function exportSelectedNodes(){const _0x46103c=_0x267d97;if(selectedNodes['size']===0x0){showStatusMessage('請先選擇要導出的節點',_0x46103c(0x616));return;}try{const _0x177ccf=Array[_0x46103c(0x447)](selectedNodes),_0xbc6bd7=new Set(_0x177ccf);_0x177ccf[_0x46103c(0x54e)](_0x14b2ea=>{const _0x38c81d=_0x46103c,_0x14586d=nodes[_0x14b2ea];_0x14586d[_0x38c81d(0x4d1)]&&_0x14586d[_0x38c81d(0x406)]&&_0x14586d['containedNodes'][_0x38c81d(0x54e)](_0x5c625f=>{_0xbc6bd7['add'](_0x5c625f);});});const _0x57035c=Array[_0x46103c(0x447)](_0xbc6bd7)[_0x46103c(0x2ff)](_0x28d752=>{const _0x281737=_0x46103c,_0x2816ed=nodes[_0x28d752],_0x19b3eb=_0x2816ed['element'];let _0xbfa287='';const _0x2d5f33=_0x19b3eb['querySelector'](_0x281737(0x40b)),_0x3fa106=_0x19b3eb[_0x281737(0x303)](_0x281737(0x5bc)),_0x20de24=_0x19b3eb[_0x281737(0x303)](_0x281737(0x278));if(_0x3fa106&&_0x20de24)_0xbfa287=_0x20de24[_0x281737(0x367)]||_0x3fa106[_0x281737(0x2be)]['originalContent']||'';else _0x2d5f33&&(_0xbfa287=_0x2d5f33['value']);const _0x23e9d8={'id':_0x2816ed['id'],'x':_0x2816ed['x'],'y':_0x2816ed['y'],'colorIndex':_0x2816ed['colorIndex']||0x0,'title':_0x19b3eb[_0x281737(0x303)](_0x281737(0x558))[_0x281737(0x355)]||_0x281737(0x1c9),'content':_0xbfa287,'description':nodeDescriptions[_0x2816ed['id']]||'','isConvertedToButton':!!_0x3fa106,'items':Array[_0x281737(0x447)](_0x19b3eb[_0x281737(0x2fd)](_0x281737(0x3d7)))[_0x281737(0x2ff)](_0xa3cc3d=>_0xa3cc3d['value']),'metadata':{'contentLength':_0xbfa287[_0x281737(0x585)],'lastUpdated':new Date()[_0x281737(0x3bc)]()}};return _0x2816ed['isGroupNode']&&(_0x23e9d8['isGroupNode']=!![],_0x23e9d8[_0x281737(0x406)]=_0x2816ed[_0x281737(0x406)]||[]),_0x23e9d8;}),_0xc8cdef=connections['filter'](_0x5d71f8=>{const _0x474417=_0x46103c;return _0xbc6bd7[_0x474417(0x620)](_0x5d71f8['fromNode'])&&_0xbc6bd7[_0x474417(0x620)](_0x5d71f8[_0x474417(0x311)]);})[_0x46103c(0x2ff)](_0xf6a72c=>({'fromNode':_0xf6a72c[_0x46103c(0x659)],'fromOutput':_0xf6a72c['fromOutput']||0x0,'toNode':_0xf6a72c['toNode']})),_0x160982={'version':_0x46103c(0x476),'nodes':_0x57035c,'connections':_0xc8cdef,'exportedAt':new Date()[_0x46103c(0x3bc)]()},_0x582e06=JSON[_0x46103c(0x2b1)](_0x160982,null,0x2),_0x57025b=new Blob([_0x582e06],{'type':_0x46103c(0x2e2)}),_0x37a717=URL[_0x46103c(0x499)](_0x57025b),_0x3ebaa0='selected-nodes-'+new Date()[_0x46103c(0x3bc)]()[_0x46103c(0x610)](/[:.]/g,'-')+_0x46103c(0x57b),_0x7b0510=document['createElement']('a');_0x7b0510[_0x46103c(0x3c8)]=_0x37a717,_0x7b0510[_0x46103c(0x629)]=_0x3ebaa0,_0x7b0510['style'][_0x46103c(0x6b5)]='none',document[_0x46103c(0x529)][_0x46103c(0x443)](_0x7b0510),_0x7b0510['click'](),setTimeout(()=>{const _0x215b2b=_0x46103c;document[_0x215b2b(0x529)][_0x215b2b(0x4a4)](_0x7b0510),URL[_0x215b2b(0x1ca)](_0x37a717);},0x64),showStatusMessage('已導出\x20'+_0x177ccf[_0x46103c(0x585)]+_0x46103c(0x5ee),'success');}catch(_0xd8a01a){showStatusMessage(_0x46103c(0x44f)+_0xd8a01a[_0x46103c(0x4db)],'error');}}function importSelectedNodes(_0x5808a6){const _0x21b284=_0x267d97,_0x1cd1e2=_0x5808a6[_0x21b284(0x671)]['files'][0x0];if(!_0x1cd1e2)return;const _0x1d6d82=new FileReader();_0x1d6d82[_0x21b284(0x1cc)]=_0x72d40=>{const _0x489726=_0x21b284;try{const _0x17c20c=JSON[_0x489726(0x1f5)](_0x72d40[_0x489726(0x671)]['result']);nodesContainer[_0x489726(0x1ee)]='',nodes=[],connections=[],ALL_ACTIVE_POPUPS[_0x489726(0x612)](),activePopup=null,nodeDescriptions=_0x17c20c['nodeDescriptions']||{};const _0x3a29ca=JSON['parse'](_0x72d40[_0x489726(0x671)][_0x489726(0x626)]);if(!_0x3a29ca['nodes']||!Array['isArray'](_0x3a29ca[_0x489726(0x219)]))throw new Error('無效的導入文件格式');const _0x44c42f=toWorldX(window[_0x489726(0x5af)]/0x2),_0x54a890=toWorldY(window[_0x489726(0x314)]/0x2);let _0x11bcf5=Infinity,_0x21eddf=Infinity,_0x482ee5=-Infinity,_0x28e724=-Infinity;_0x3a29ca[_0x489726(0x219)]['forEach'](_0x37c04d=>{const _0x130796=_0x489726;_0x11bcf5=Math[_0x130796(0x646)](_0x11bcf5,_0x37c04d['x']),_0x21eddf=Math[_0x130796(0x646)](_0x21eddf,_0x37c04d['y']),_0x482ee5=Math['max'](_0x482ee5,_0x37c04d['x']),_0x28e724=Math['max'](_0x28e724,_0x37c04d['y']);});const _0xc69eba=(_0x11bcf5+_0x482ee5)/0x2,_0xdac57e=(_0x21eddf+_0x28e724)/0x2,_0x4ee988=_0x44c42f-_0xc69eba,_0x175399=_0x54a890-_0xdac57e,_0x32bd82={};let _0x13759f=Math[_0x489726(0x684)](...nodes[_0x489726(0x2ff)](_0x1cfdd8=>_0x1cfdd8['id']),-0x1)+0x1;_0x3a29ca[_0x489726(0x219)][_0x489726(0x54e)](_0x1e6d71=>{const _0xb87a69=_0x489726;if(_0x1e6d71[_0xb87a69(0x4d1)])return;const _0x24fa5b=createNode(_0x1e6d71['x']+_0x4ee988,_0x1e6d71['y']+_0x175399,_0x1e6d71[_0xb87a69(0x45c)]||'節點');_0x32bd82[_0x1e6d71['id']]=_0x24fa5b['id'],_0x1e6d71['colorIndex']!==undefined&&changeNodeColor(_0x24fa5b,_0x1e6d71[_0xb87a69(0x1a0)]),_0x1e6d71[_0xb87a69(0x467)]&&(nodeDescriptions[_0x24fa5b['id']]=_0x1e6d71['description']),setupNodeContent(_0x24fa5b,_0x1e6d71);}),_0x3a29ca[_0x489726(0x219)][_0x489726(0x54e)](_0x1d9639=>{const _0x5b028d=_0x489726;if(!_0x1d9639[_0x5b028d(0x4d1)])return;const _0x1767ad=createNode(_0x1d9639['x']+_0x4ee988,_0x1d9639['y']+_0x175399,_0x1d9639[_0x5b028d(0x45c)]||_0x5b028d(0x364),_0x5b028d(0x2e9));_0x32bd82[_0x1d9639['id']]=_0x1767ad['id'],_0x1d9639[_0x5b028d(0x1a0)]!==undefined&&changeNodeColor(_0x1767ad,_0x1d9639['colorIndex']),Array['isArray'](_0x1d9639[_0x5b028d(0x406)])&&(_0x1767ad[_0x5b028d(0x406)]=_0x1d9639['containedNodes'][_0x5b028d(0x2ff)](_0x4923b8=>_0x32bd82[_0x4923b8]),_0x1767ad[_0x5b028d(0x406)][_0x5b028d(0x54e)](_0x5e5271=>{const _0x589d88=_0x5b028d;nodes[_0x5e5271]&&(nodes[_0x5e5271][_0x589d88(0x636)][_0x589d88(0x66e)][_0x589d88(0x6b5)]=_0x589d88(0x352));})),updateGroupNodeInfo(_0x1767ad);}),Array[_0x489726(0x516)](_0x3a29ca[_0x489726(0x46e)])&&_0x3a29ca[_0x489726(0x46e)][_0x489726(0x54e)](_0x50c680=>{const _0x5043e2=_0x489726;_0x32bd82[_0x50c680[_0x5043e2(0x659)]]!==undefined&&_0x32bd82[_0x50c680[_0x5043e2(0x311)]]!==undefined&&connections[_0x5043e2(0x664)]({'fromNode':_0x32bd82[_0x50c680[_0x5043e2(0x659)]],'fromOutput':_0x50c680[_0x5043e2(0x31d)]||0x0,'toNode':_0x32bd82[_0x50c680['toNode']]});}),drawConnections(),updateNodeList(),showStatusMessage(_0x489726(0x4bf)+_0x3a29ca['nodes'][_0x489726(0x585)]+_0x489726(0x3cc),'success');}catch(_0x9c4a93){showStatusMessage(_0x489726(0x56c),'error');}},_0x1d6d82[_0x21b284(0x2c3)](_0x1cd1e2),_0x5808a6['target']['value']='';}function handleFileUpload(_0xae6a9){const _0x520013=_0x267d97,_0x616891=_0xae6a9[_0x520013(0x671)]['files'][0x0];if(!_0x616891)return;const _0x3c1ad1=document[_0x520013(0x2e4)](_0x520013(0x641)),_0x1c5090=_0x3c1ad1?_0x3c1ad1[_0x520013(0x355)]:_0x520013(0x388),_0x48242a=_0x616891[_0x520013(0x391)][_0x520013(0x546)]();let _0x372f88=![],_0x197dca=[];_0x1c5090===_0x520013(0x291)?(_0x372f88=_0x48242a[_0x520013(0x245)](_0x520013(0x41c)),_0x197dca=['.py']):(_0x372f88=_0x48242a['endsWith'](_0x520013(0x38a))||_0x48242a['endsWith'](_0x520013(0x2dc)),_0x197dca=['.html',_0x520013(0x2dc)]);if(!_0x372f88){const _0x238b35=_0x197dca['join'](_0x520013(0x669));showStatusMessage(_0x520013(0x2aa)+(_0x1c5090===_0x520013(0x291)?'Python':_0x520013(0x662))+_0x520013(0x63c)+_0x238b35+')',_0x520013(0x273)),_0xae6a9[_0x520013(0x671)][_0x520013(0x355)]='';return;}const _0x495a52=new FileReader();_0x495a52[_0x520013(0x1cc)]=_0x3aa255=>{const _0x4da43a=_0x520013;try{const _0x361f77=_0x3aa255[_0x4da43a(0x671)]['result'];_0x1c5090===_0x4da43a(0x291)?handlePythonFile(_0x361f77):handleHtmlFile(_0x361f77),showStatusMessage(_0x616891['name']+'\x20文件上傳成功',_0x4da43a(0x613));}catch(_0x57c7f1){showStatusMessage(_0x4da43a(0x65c)+_0x57c7f1['message'],_0x4da43a(0x273));}},_0x495a52[_0x520013(0x2f7)]=_0x29fadd=>{const _0x26e96c=_0x520013;showStatusMessage('讀取文件失敗:\x20'+_0x29fadd[_0x26e96c(0x4db)],_0x26e96c(0x273));},_0x495a52[_0x520013(0x2c3)](_0x616891,'UTF-8'),_0xae6a9[_0x520013(0x671)][_0x520013(0x355)]='';}function handlePythonFile(_0x425b13){const _0x2c7148=_0x267d97,_0x3aa489={},_0x15ef1e=/def\s+([a-zA-Z_][a-zA-Z0-9_]*)\s*\([^)]*\)\s*:\s*([\s\S]*?)(?=\n\S|\n$|\n\s*@|\n\s*def\s)/g;let _0x1c15db;while((_0x1c15db=_0x15ef1e[_0x2c7148(0x3c3)](_0x425b13))!==null){const _0x142f65=_0x1c15db[0x1];let _0x2ece77=_0x1c15db[0x2][_0x2c7148(0x486)]();_0x2ece77=_0x2ece77[_0x2c7148(0x610)](/^\s+/gm,''),_0x3aa489[_0x142f65]={'code':_0x2c7148(0x59b)+_0x142f65+'('+_0x1c15db[0x0]['split']('(')[0x1][_0x2c7148(0x268)](')')[0x0]+_0x2c7148(0x4ad)+_0x2ece77,'start':_0x1c15db[_0x2c7148(0x32c)],'end':_0x1c15db[_0x2c7148(0x32c)]+_0x1c15db[0x0]['length']};}loadedHtmlFunctions=_0x3aa489,updateNodesWithFunctions(_0x3aa489),autoUpdateParagraphButtons(_0x3aa489);}function handleHtmlFile(_0x52cdaf){const _0x15132f=_0x267d97,_0x44f52f=extractFunctions(_0x52cdaf);Object['keys'](_0x44f52f)[_0x15132f(0x54e)]((_0x5dd789,_0x410a47)=>{const _0x21a214=_0x44f52f[_0x5dd789];}),loadedHtmlFunctions=_0x44f52f,showStatusMessage(_0x15132f(0x4e8)+Object[_0x15132f(0x1ec)](_0x44f52f)[_0x15132f(0x585)]+_0x15132f(0x1bc),_0x15132f(0x613)),window[_0x15132f(0x45a)]=_0x44f52f;if(_0x44f52f['closeAllLists']){}else{const _0x305db1=Object[_0x15132f(0x1ec)](_0x44f52f)['filter'](_0x31faa8=>_0x31faa8[_0x15132f(0x546)]()[_0x15132f(0x633)](_0x15132f(0x239))||_0x31faa8[_0x15132f(0x546)]()['includes']('close'));}autoUpdateParagraphButtons(_0x44f52f);}function autoUpdateParagraphButtons(_0x39daae){const _0x1d506e=_0x267d97;let _0x18fcb3=0x0;const _0x1c6ee6=[];nodes[_0x1d506e(0x54e)](_0x2f5765=>{const _0x57a415=_0x1d506e,_0x4758bc=_0x2f5765['element']['querySelector'](_0x57a415(0x5bc));if(!_0x4758bc)return;const _0x2d1ae2=_0x4758bc['dataset'][_0x57a415(0x535)]||'',_0x564823=_0x2f5765['element']['querySelector'](_0x57a415(0x558))?.[_0x57a415(0x355)][_0x57a415(0x486)]()||'';if(_0x39daae[_0x564823]&&_0x39daae[_0x564823]['code']){const _0x5ce624=_0x39daae[_0x564823][_0x57a415(0x1fe)];if(_0x2d1ae2!==_0x5ce624){_0x4758bc['dataset']['originalContent']=_0x5ce624,_0x4758bc[_0x57a415(0x367)]=_0x5ce624['length']>0x32?_0x5ce624[_0x57a415(0x5b4)](0x0,0x2f)+_0x57a415(0x2e1):_0x5ce624;const _0x404b33=_0x2f5765['element'][_0x57a415(0x303)](_0x57a415(0x278));_0x404b33&&(_0x404b33[_0x57a415(0x367)]=_0x5ce624);const _0x50b494=_0x2f5765['element'][_0x57a415(0x303)]('.paragraph-input');_0x50b494&&(_0x50b494[_0x57a415(0x355)]=_0x5ce624),_0x18fcb3++,_0x1c6ee6[_0x57a415(0x664)](_0x2f5765);}}}),_0x18fcb3>0x0?(showStatusMessage('已自動更新\x20'+_0x18fcb3+'\x20個節點的內容',_0x1d506e(0x613)),_0x1c6ee6[_0x1d506e(0x54e)](_0x1d0b54=>{highlightNodeTemporarily(_0x1d0b54);})):showStatusMessage('所有節點內容已是最新狀態',_0x1d506e(0x3da));}function highlightNodeTemporarily(_0x2c0677){const _0x452b28=_0x267d97,_0x180ab6=_0x2c0677[_0x452b28(0x636)][_0x452b28(0x66e)][_0x452b28(0x26d)],_0x5f3c16=_0x2c0677[_0x452b28(0x636)][_0x452b28(0x66e)][_0x452b28(0x3dd)],_0x1e6e66=_0x2c0677[_0x452b28(0x636)][_0x452b28(0x66e)][_0x452b28(0x55a)];_0x2c0677[_0x452b28(0x636)][_0x452b28(0x66e)]['outline']=_0x452b28(0x18d),_0x2c0677[_0x452b28(0x636)][_0x452b28(0x66e)][_0x452b28(0x3dd)]=_0x452b28(0x308),_0x2c0677[_0x452b28(0x636)]['style'][_0x452b28(0x55a)]=_0x452b28(0x417),_0x2c0677[_0x452b28(0x636)][_0x452b28(0x66e)]['transition']=_0x452b28(0x4ff),setTimeout(()=>{const _0x51e000=_0x452b28;_0x2c0677[_0x51e000(0x636)][_0x51e000(0x66e)][_0x51e000(0x26d)]=_0x180ab6,_0x2c0677[_0x51e000(0x636)][_0x51e000(0x66e)]['outlineOffset']=_0x5f3c16,_0x2c0677['element'][_0x51e000(0x66e)][_0x51e000(0x55a)]=_0x1e6e66;},0x1388);}function addNewFrame(){const _0x23ed99=_0x267d97;let _0x4b383e=window[_0x23ed99(0x5af)]/0x2-0x96,_0x453d98=window[_0x23ed99(0x314)]/0x2-0x64;if(nodes[_0x23ed99(0x585)]>0x0){const _0x1adfd0=nodes[nodes[_0x23ed99(0x585)]-0x1];_0x4b383e=_0x1adfd0['x']+0xfa/scale,_0x453d98=_0x1adfd0['y'];}const _0x1db2e2=createNode(_0x4b383e,_0x453d98,_0x23ed99(0x2a2));_0x1db2e2['isFrame']=!![],_0x1db2e2['colorIndex']=0x0,_0x1db2e2[_0x23ed99(0x636)][_0x23ed99(0x2cc)][_0x23ed99(0x62f)](COLOR_CLASSES[_0x1db2e2[_0x23ed99(0x1a0)]]);const _0x429bfc=_0x1db2e2[_0x23ed99(0x636)];_0x429bfc['classList']['add']('frame-node'),_0x429bfc[_0x23ed99(0x66e)]['zIndex']='1';const _0x502247=_0x429bfc[_0x23ed99(0x303)](_0x23ed99(0x40b)),_0x1ad221=_0x429bfc[_0x23ed99(0x303)](_0x23ed99(0x38c)),_0x1e1339=_0x429bfc[_0x23ed99(0x303)](_0x23ed99(0x2af)),_0x23379d=_0x429bfc[_0x23ed99(0x303)](_0x23ed99(0x5b8));if(_0x502247)_0x502247[_0x23ed99(0x2b4)]();if(_0x1ad221)_0x1ad221[_0x23ed99(0x2b4)]();if(_0x1e1339)_0x1e1339[_0x23ed99(0x2b4)]();if(_0x23379d)_0x23379d[_0x23ed99(0x2b4)]();_0x429bfc[_0x23ed99(0x1ee)]='\x0a\x20\x20\x20\x20<div\x20class=\x22frame-header\x22>\x0a\x20\x20\x20\x20\x20\x20<input\x20type=\x22text\x22\x20class=\x22node-title\x22\x20value=\x22新框架\x22>\x0a\x20\x20\x20\x20\x20\x20<button\x20class=\x22delete-node-btn\x22>×</button>\x0a\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20<div\x20class=\x22frame-content\x22>\x0a\x20\x20\x20\x20\x20\x20<!--\x20註釋將在這裡添加\x20-->\x0a\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20<div\x20class=\x22frame-notes-container\x22></div>\x0a\x20\x20\x20\x20<div\x20class=\x22frame-footer\x22>\x0a\x20\x20\x20\x20\x20\x20<button\x20class=\x22add-note-btn\x22>添加註釋</button>\x0a\x20\x20\x20\x20\x20\x20<div\x20class=\x22resize-handle\x22></div>\x0a\x20\x20\x20\x20</div>\x0a\x20\x20',_0x429bfc[_0x23ed99(0x2b4)](),nodesContainer[_0x23ed99(0x443)](_0x429bfc);const _0x80ea98=_0x429bfc[_0x23ed99(0x303)](_0x23ed99(0x558));_0x80ea98[_0x23ed99(0x66e)][_0x23ed99(0x1df)]='center',_0x80ea98[_0x23ed99(0x66e)]['fontWeight']='bold',_0x429bfc['querySelector'](_0x23ed99(0x4d8))[_0x23ed99(0x42e)](_0x23ed99(0x221),_0x31fd1b=>{const _0x100ca0=_0x23ed99;connections=connections[_0x100ca0(0x2fb)](_0x222f3d=>_0x222f3d[_0x100ca0(0x659)]!==_0x1db2e2['id']&&_0x222f3d[_0x100ca0(0x311)]!==_0x1db2e2['id']),nodes=nodes['filter'](_0x17875e=>_0x17875e['id']!==_0x1db2e2['id']),_0x429bfc[_0x100ca0(0x2b4)](),drawConnections(),_0x31fd1b[_0x100ca0(0x4de)]();});const _0x6e46c0=_0x429bfc[_0x23ed99(0x303)](_0x23ed99(0x4a8));let _0x276fdd=![],_0x38b382,_0x583ce9,_0x4a8422,_0x112241;_0x429bfc['addEventListener'](_0x23ed99(0x40c),_0x444886=>{const _0xe826dd=_0x23ed99;if(_0x444886[_0xe826dd(0x671)]===_0x6e46c0||_0x444886[_0xe826dd(0x671)][_0xe826dd(0x419)](_0xe826dd(0x4d8)))return;_0x444886[_0xe826dd(0x4de)]();const _0xbf389a=_0x429bfc[_0xe826dd(0x262)](),_0x4ba5ed=toWorldX(_0xbf389a[_0xe826dd(0x52c)]),_0x2038fa=toWorldY(_0xbf389a['top']),_0x4d8ea5=toWorldX(_0xbf389a[_0xe826dd(0x274)]),_0x28d357=toWorldY(_0xbf389a[_0xe826dd(0x2d0)]),_0x2d4d0e=nodes[_0xe826dd(0x2fb)](_0x294448=>{const _0x1ba326=_0xe826dd;if(_0x294448['isFrame']||_0x294448['id']===_0x1db2e2['id'])return![];const _0x10f451=_0x294448[_0x1ba326(0x636)][_0x1ba326(0x262)](),_0x4c87f5=toWorldX((_0x10f451[_0x1ba326(0x52c)]+_0x10f451['right'])/0x2),_0x387fcb=toWorldY((_0x10f451[_0x1ba326(0x422)]+_0x10f451['bottom'])/0x2);return _0x4c87f5>_0x4ba5ed&&_0x4c87f5<_0x4d8ea5&&_0x387fcb>_0x2038fa&&_0x387fcb<_0x28d357;});draggingNode=_0x1db2e2,dragStartWorldX=toWorldX(_0x444886[_0xe826dd(0x3e4)]),dragStartWorldY=toWorldY(_0x444886[_0xe826dd(0x2b0)]),dragOffsetX=dragStartWorldX-_0x1db2e2['x'],dragOffsetY=dragStartWorldY-_0x1db2e2['y'],_0x1db2e2[_0xe826dd(0x406)]=_0x2d4d0e[_0xe826dd(0x2ff)](_0x29b582=>({'node':_0x29b582,'offsetX':_0x29b582['x']-_0x1db2e2['x'],'offsetY':_0x29b582['y']-_0x1db2e2['y']})),_0x444886[_0xe826dd(0x26c)]();}),_0x6e46c0[_0x23ed99(0x42e)]('mousedown',_0x4b7409=>{const _0x48bd4d=_0x23ed99;_0x276fdd=!![],_0x38b382=parseFloat(_0x429bfc[_0x48bd4d(0x66e)][_0x48bd4d(0x3f8)]||_0x429bfc[_0x48bd4d(0x5b7)]),_0x583ce9=parseFloat(_0x429bfc[_0x48bd4d(0x66e)][_0x48bd4d(0x65a)]||_0x429bfc[_0x48bd4d(0x2f3)]),_0x4a8422=_0x4b7409[_0x48bd4d(0x3e4)],_0x112241=_0x4b7409[_0x48bd4d(0x2b0)],_0x4b7409[_0x48bd4d(0x4de)](),_0x4b7409[_0x48bd4d(0x26c)]();}),document[_0x23ed99(0x42e)](_0x23ed99(0x2e0),_0x15505f=>{const _0x327186=_0x23ed99;if(_0x276fdd){const _0x3dde3f=(_0x15505f[_0x327186(0x3e4)]-_0x4a8422)/scale,_0x3f6f74=(_0x15505f['clientY']-_0x112241)/scale,_0x509b9e=Math['max'](0x12c,_0x38b382+_0x3dde3f),_0x336399=Math[_0x327186(0x684)](0xc8,_0x583ce9+_0x3f6f74);_0x429bfc[_0x327186(0x66e)][_0x327186(0x3f8)]=_0x509b9e+'px',_0x429bfc[_0x327186(0x66e)]['height']=_0x336399+'px',_0x15505f[_0x327186(0x26c)]();}}),document[_0x23ed99(0x42e)](_0x23ed99(0x2ce),()=>{_0x276fdd=![];}),_0x429bfc[_0x23ed99(0x303)]('.add-note-btn')[_0x23ed99(0x42e)](_0x23ed99(0x221),()=>{const _0x207a21=_0x23ed99,_0x364474=_0x429bfc[_0x207a21(0x303)](_0x207a21(0x4c0)),_0x2fcf62=document[_0x207a21(0x333)](_0x207a21(0x1c1));_0x2fcf62[_0x207a21(0x65b)]=_0x207a21(0x481),_0x2fcf62[_0x207a21(0x1d3)]=_0x207a21(0x2f5),_0x2fcf62[_0x207a21(0x66e)][_0x207a21(0x644)]='5px',_0x2fcf62['style'][_0x207a21(0x24a)]=_0x207a21(0x2d6),_0x2fcf62[_0x207a21(0x66e)][_0x207a21(0x320)]=_0x207a21(0x216),_0x2fcf62['style'][_0x207a21(0x1f6)]=_0x207a21(0x5d5),_0x2fcf62[_0x207a21(0x66e)][_0x207a21(0x26f)]=_0x207a21(0x435),_0x2fcf62[_0x207a21(0x66e)]['minHeight']=_0x207a21(0x4df),_0x364474[_0x207a21(0x443)](_0x2fcf62),_0x2fcf62['focus']();});const _0x1f533f=document['createElement']('style');_0x1f533f[_0x23ed99(0x367)]=_0x23ed99(0x3f4),document[_0x23ed99(0x1d9)]['appendChild'](_0x1f533f);}function colorizeChildConnections(_0x189e93){const _0x426a6c=_0x267d97,_0xff75df=connections[_0x426a6c(0x2fb)](_0x2a8155=>_0x2a8155[_0x426a6c(0x659)]===_0x189e93);_0xff75df[_0x426a6c(0x54e)]((_0x7a615b,_0x451ef6)=>{const _0x170ce7=_0x426a6c;_0x7a615b[_0x170ce7(0x1ba)]='color-'+_0x451ef6%CONNECTION_COLORS[_0x170ce7(0x585)];});}function updateNodesWithFunctions(_0x45e996){const _0x5c1737=_0x267d97;let _0x2ae69c=0x0;const _0x1978c9=[];nodes[_0x5c1737(0x54e)](_0x57aef4=>{const _0x1cd00b=_0x5c1737,_0x41a0cf=_0x57aef4['element']['querySelector'](_0x1cd00b(0x558));if(_0x41a0cf){const _0x3abf86=_0x41a0cf[_0x1cd00b(0x355)][_0x1cd00b(0x486)]();_0x45e996[_0x3abf86]&&_0x45e996[_0x3abf86][_0x1cd00b(0x1fe)]&&(updateNodeContent(_0x57aef4,_0x45e996[_0x3abf86]['code']),_0x2ae69c++,_0x1978c9[_0x1cd00b(0x664)](_0x57aef4));}}),_0x2ae69c>0x0?(showStatusMessage(_0x5c1737(0x1b8)+_0x2ae69c+'\x20個節點的內容',_0x5c1737(0x613)),_0x1978c9[_0x5c1737(0x54e)](_0x29ac87=>{highlightNodeTemporarily(_0x29ac87);})):showStatusMessage(_0x5c1737(0x67e),_0x5c1737(0x616));}function setupNodeContent(_0x1ab841,_0x386ad2){const _0x28b5a6=_0x267d97,_0x406273=_0x1ab841[_0x28b5a6(0x636)]['querySelector'](_0x28b5a6(0x40b));if(_0x406273&&_0x386ad2[_0x28b5a6(0x198)]!==undefined){_0x406273[_0x28b5a6(0x355)]=_0x386ad2['content'];if(_0x386ad2[_0x28b5a6(0x6a1)]&&_0x386ad2[_0x28b5a6(0x198)]['trim']()){const _0x27c809=document['createElement']('button');_0x27c809[_0x28b5a6(0x65b)]=_0x28b5a6(0x1f0),_0x27c809['textContent']=_0x386ad2[_0x28b5a6(0x198)]['length']>0x32?_0x386ad2['content'][_0x28b5a6(0x5b4)](0x0,0x2f)+_0x28b5a6(0x2e1):_0x386ad2['content'],_0x27c809[_0x28b5a6(0x2be)][_0x28b5a6(0x535)]=_0x386ad2[_0x28b5a6(0x198)];const _0x58d006=document['createElement'](_0x28b5a6(0x1c1));_0x58d006['className']=_0x28b5a6(0x1d1),_0x58d006[_0x28b5a6(0x367)]=_0x386ad2[_0x28b5a6(0x198)],_0x58d006['classList']['add'](COLOR_CLASSES[_0x386ad2[_0x28b5a6(0x1a0)]%COLOR_CLASSES[_0x28b5a6(0x585)]]);const _0x1371ed=document[_0x28b5a6(0x333)](_0x28b5a6(0x1c1));_0x1371ed['style'][_0x28b5a6(0x500)]=_0x28b5a6(0x3ee),_0x1371ed[_0x28b5a6(0x66e)][_0x28b5a6(0x6b5)]=_0x28b5a6(0x5fe),_0x1371ed[_0x28b5a6(0x66e)][_0x28b5a6(0x3f8)]=_0x28b5a6(0x2ca);const _0x17efe5=_0x406273['cloneNode'](!![]);_0x17efe5[_0x28b5a6(0x66e)]['display']=_0x28b5a6(0x352),_0x1371ed[_0x28b5a6(0x443)](_0x17efe5),_0x1371ed[_0x28b5a6(0x443)](_0x27c809),_0x1371ed[_0x28b5a6(0x443)](_0x58d006),_0x406273[_0x28b5a6(0x4f6)](_0x1371ed),setupParagraphButtonEvents(_0x27c809,_0x58d006,_0x17efe5,_0x1ab841);}}const _0x504427=_0x1ab841[_0x28b5a6(0x636)][_0x28b5a6(0x303)]('.items');_0x504427&&_0x386ad2[_0x28b5a6(0x62c)]&&(_0x504427[_0x28b5a6(0x1ee)]='',_0x1ab841['outputs']=[],_0x386ad2['items']['forEach']((_0x442866,_0x53f2ef)=>{const _0x1a5cb4=_0x28b5a6,_0x3098fa=document[_0x1a5cb4(0x333)](_0x1a5cb4(0x1c1));_0x3098fa[_0x1a5cb4(0x65b)]=_0x1a5cb4(0x389),_0x3098fa[_0x1a5cb4(0x1ee)]=_0x1a5cb4(0x5a8)+escapeHtml(_0x442866||'項目\x20'+(_0x53f2ef+0x1))+_0x1a5cb4(0x6bd),_0x504427['appendChild'](_0x3098fa),_0x1ab841[_0x1a5cb4(0x661)][_0x1a5cb4(0x664)](_0x53f2ef),setupAddNodeButton(_0x3098fa,_0x1ab841,_0x53f2ef,container),setupOutputPort(_0x3098fa,_0x1ab841,_0x53f2ef,container),setupItemDragAndDrop(_0x1ab841[_0x1a5cb4(0x636)],_0x1ab841);}));}function initMinimap(){const _0x26ad75=_0x267d97;minimapCanvas[_0x26ad75(0x3f8)]=minimapCanvas[_0x26ad75(0x5b7)],minimapCanvas[_0x26ad75(0x65a)]=minimapCanvas[_0x26ad75(0x2f3)],updateMinimap();}function updateMinimap(){const _0x48b075=_0x267d97;if(!nodes[_0x48b075(0x585)])return;let _0x5c4bf9=Infinity,_0xc83a3c=Infinity,_0x32dbba=-Infinity,_0x3da255=-Infinity;nodes[_0x48b075(0x54e)](_0x5929a4=>{const _0x3a126d=_0x48b075,_0x15015a=_0x5929a4[_0x3a126d(0x1f1)]?parseFloat(_0x5929a4[_0x3a126d(0x636)][_0x3a126d(0x66e)][_0x3a126d(0x3f8)]||_0x5929a4[_0x3a126d(0x636)][_0x3a126d(0x5b7)]):0xc8,_0x12b66d=getNodeHeight(_0x5929a4[_0x3a126d(0x636)]);_0x5c4bf9=Math['min'](_0x5c4bf9,_0x5929a4['x']),_0xc83a3c=Math[_0x3a126d(0x646)](_0xc83a3c,_0x5929a4['y']),_0x32dbba=Math['max'](_0x32dbba,_0x5929a4['x']+_0x15015a),_0x3da255=Math[_0x3a126d(0x684)](_0x3da255,_0x5929a4['y']+_0x12b66d);});const _0x5dcbb7=0x32;_0x5c4bf9-=_0x5dcbb7,_0xc83a3c-=_0x5dcbb7,_0x32dbba+=_0x5dcbb7,_0x3da255+=_0x5dcbb7;const _0x2ffe74=_0x32dbba-_0x5c4bf9,_0x225911=_0x3da255-_0xc83a3c,_0xa9f64b=minimapCanvas[_0x48b075(0x3f8)]/_0x2ffe74,_0x216104=minimapCanvas[_0x48b075(0x65a)]/_0x225911,_0x2ae695=Math[_0x48b075(0x646)](_0xa9f64b,_0x216104);minimapCtx['clearRect'](0x0,0x0,minimapCanvas[_0x48b075(0x3f8)],minimapCanvas[_0x48b075(0x65a)]),nodes[_0x48b075(0x54e)](_0x481f51=>{const _0x4a42b9=_0x48b075,_0x485e7d=(_0x481f51['x']-_0x5c4bf9)*_0x2ae695,_0x4634a4=(_0x481f51['y']-_0xc83a3c)*_0x2ae695,_0x5dd131=(_0x481f51[_0x4a42b9(0x1f1)]?parseFloat(_0x481f51['element'][_0x4a42b9(0x66e)][_0x4a42b9(0x3f8)]||_0x481f51[_0x4a42b9(0x636)][_0x4a42b9(0x5b7)]):0xc8)*_0x2ae695,_0x45d586=getNodeHeight(_0x481f51[_0x4a42b9(0x636)])*_0x2ae695;minimapCtx[_0x4a42b9(0x357)]=_0x481f51[_0x4a42b9(0x1f1)]?'rgba(255,\x20255,\x200,\x200.3)':_0x4a42b9(0x251),minimapCtx['fillRect'](_0x485e7d,_0x4634a4,_0x5dd131,_0x45d586),minimapCtx['strokeStyle']=_0x4a42b9(0x588),minimapCtx[_0x4a42b9(0x2ab)]=0x1,minimapCtx[_0x4a42b9(0x6af)](_0x485e7d,_0x4634a4,_0x5dd131,_0x45d586);}),updateViewportIndicator(_0x5c4bf9,_0xc83a3c,_0x2ae695);}function updateViewportIndicator(_0x59bfc0,_0x1d9fc7,_0x37cbb1){const _0x52fc6e=_0x267d97,_0x182747=0x320,_0x5aa219=-0x0,_0x49eb8b=1.2,_0x229c3d=1.2,_0x5109e4=2.6,_0x80dea7=2.6,_0x43a07e=0x141,_0x138cb9=(window[_0x52fc6e(0x5af)]-_0x43a07e)*_0x49eb8b,_0x5df7f6=window['innerHeight']*_0x229c3d,_0x4c8047=_0x138cb9/scale,_0x2fa063=_0x5df7f6/scale,_0x1457d2=(-translateX*_0x5109e4-_0x43a07e+_0x182747)/scale,_0x39f5cd=(-translateY*_0x80dea7+_0x5aa219)/scale,_0x277def=(_0x1457d2-_0x59bfc0)*_0x37cbb1,_0x318be0=(_0x39f5cd-_0x1d9fc7)*_0x37cbb1,_0x41fe0b=_0x4c8047*_0x37cbb1,_0x45d5a1=_0x2fa063*_0x37cbb1,_0x5d71ed=Math['max'](0x0,Math['min'](_0x277def,minimapCanvas[_0x52fc6e(0x3f8)]-_0x41fe0b)),_0x58e8b8=Math[_0x52fc6e(0x684)](0x0,Math['min'](_0x318be0,minimapCanvas[_0x52fc6e(0x65a)]-_0x45d5a1));viewportIndicator[_0x52fc6e(0x66e)][_0x52fc6e(0x52c)]=_0x5d71ed+'px',viewportIndicator[_0x52fc6e(0x66e)]['top']=_0x58e8b8+'px',viewportIndicator['style']['width']=_0x41fe0b+'px',viewportIndicator['style'][_0x52fc6e(0x65a)]=_0x45d5a1+'px';}function searchNodesByName(){const _0x3b51fe=_0x267d97,_0xca796f=document[_0x3b51fe(0x2e4)]('node-search-input')['value'][_0x3b51fe(0x486)]()[_0x3b51fe(0x546)]();if(!_0xca796f)return;nodes['forEach'](_0x2d2bd4=>{const _0x3a98ac=_0x3b51fe;_0x2d2bd4[_0x3a98ac(0x636)][_0x3a98ac(0x2cc)][_0x3a98ac(0x2b4)](_0x3a98ac(0x5e2));});const _0x1baf6b=nodes[_0x3b51fe(0x2fb)](_0x3d6059=>{const _0x1ff2e8=_0x3b51fe,_0x4b8578=_0x3d6059[_0x1ff2e8(0x636)][_0x1ff2e8(0x303)](_0x1ff2e8(0x558));return _0x4b8578&&(_0x4b8578[_0x1ff2e8(0x355)]||_0x4b8578[_0x1ff2e8(0x367)]||_0x4b8578[_0x1ff2e8(0x642)])[_0x1ff2e8(0x546)]()[_0x1ff2e8(0x633)](_0xca796f);});if(_0x1baf6b[_0x3b51fe(0x585)]>0x0){const _0x387f0c=_0x1baf6b[0x0];_0x387f0c[_0x3b51fe(0x636)][_0x3b51fe(0x2cc)][_0x3b51fe(0x62f)](_0x3b51fe(0x5e2));const _0x242da3=_0x387f0c[_0x3b51fe(0x636)][_0x3b51fe(0x262)](),_0x36dd39=_0x242da3['left']+_0x242da3[_0x3b51fe(0x3f8)]/0x2,_0x205757=_0x242da3[_0x3b51fe(0x422)]+_0x242da3[_0x3b51fe(0x65a)]/0x2,_0x353fbd=(_0x36dd39-translateX)/scale,_0x2ba367=(_0x205757-translateY)/scale;animationFrameId&&(cancelAnimationFrame(animationFrameId),animationFrameId=null),smoothMoveTo(_0x353fbd,_0x2ba367,scale,0x320);}else alert('未找到匹配的節點標題');}function smoothMoveTo(_0x331eb6,_0x2f51a4,_0x18f564,_0x2e7168=0x320){const _0x23d8c6=_0x267d97,_0x5d633a=performance[_0x23d8c6(0x324)](),_0x2fadaa=translateX,_0x1bd0be=translateY,_0x1c661c=scale,_0x4ebeeb=window[_0x23d8c6(0x5af)]/0x2-_0x331eb6*_0x18f564,_0xe2420e=window['innerHeight']/0x2-_0x2f51a4*_0x18f564;function _0x5b2b7f(_0x32a1ad){const _0x4bb92a=_0x23d8c6,_0x1aeaf7=_0x32a1ad-_0x5d633a,_0x556aeb=Math[_0x4bb92a(0x646)](_0x1aeaf7/_0x2e7168,0x1),_0x4c9b49=easeInOutCubic(_0x556aeb);translateX=_0x2fadaa+(_0x4ebeeb-_0x2fadaa)*_0x4c9b49,translateY=_0x1bd0be+(_0xe2420e-_0x1bd0be)*_0x4c9b49,scale=_0x1c661c+(_0x18f564-_0x1c661c)*_0x4c9b49,applyTransform();if(_0x556aeb<0x1)animationFrameId=requestAnimationFrame(_0x5b2b7f);else{translateX=_0x4ebeeb+left-panel['width'],translateY=_0xe2420e,scale=_0x18f564,applyTransform();const _0x5645a1=document[_0x4bb92a(0x303)](_0x4bb92a(0x36f));_0x5645a1&&(_0x5645a1[_0x4bb92a(0x2cc)]['add'](_0x4bb92a(0x45b)),setTimeout(()=>_0x5645a1[_0x4bb92a(0x2cc)][_0x4bb92a(0x2b4)](_0x4bb92a(0x45b)),0x3e8)),animationFrameId=null;}}animationFrameId=requestAnimationFrame(_0x5b2b7f);}function easeInOutCubic(_0x49fffb){const _0x3ff3d7=_0x267d97;return _0x49fffb<0.5?0x4*_0x49fffb*_0x49fffb*_0x49fffb:0x1-Math[_0x3ff3d7(0x69b)](-0x2*_0x49fffb+0x2,0x3)/0x2;}function arrangePopups(){const _0x24c8b9=_0x267d97,_0x243a4f=Array['from'](ALL_ACTIVE_POPUPS);if(_0x243a4f['length']===0x0)return;const _0x2e3c80=window['innerWidth'],_0x3abc30=window[_0x24c8b9(0x314)],_0x517785=0xa,_0x4b5da7={'small':{'width':Math[_0x24c8b9(0x646)](0x15e,_0x2e3c80*0.4),'height':Math['min'](0xfa,_0x3abc30*0.35)},'medium':{'width':Math[_0x24c8b9(0x646)](0x190,_0x2e3c80*0.5),'height':Math[_0x24c8b9(0x646)](0x12c,_0x3abc30*0.45)}},_0x30d495=document[_0x24c8b9(0x333)](_0x24c8b9(0x66e));_0x30d495[_0x24c8b9(0x367)]=_0x24c8b9(0x2a8),document[_0x24c8b9(0x1d9)][_0x24c8b9(0x443)](_0x30d495),_0x243a4f[_0x24c8b9(0x54e)]((_0x2b3bd3,_0x4d43c4)=>{const _0x362768=_0x24c8b9;if(_0x4d43c4>=0x5)_0x2b3bd3[_0x362768(0x66e)][_0x362768(0x3f8)]=_0x4b5da7[_0x362768(0x531)]['width']+'px',_0x2b3bd3[_0x362768(0x66e)][_0x362768(0x65a)]=_0x4b5da7[_0x362768(0x531)]['height']+'px';else _0x4d43c4>=0x3?(_0x2b3bd3[_0x362768(0x66e)]['width']=_0x4b5da7[_0x362768(0x3ba)][_0x362768(0x3f8)]+'px',_0x2b3bd3['style'][_0x362768(0x65a)]=_0x4b5da7[_0x362768(0x3ba)]['height']+'px'):(_0x2b3bd3['style']['maxWidth']=_0x2e3c80*0.8+'px',_0x2b3bd3['style']['maxHeight']=_0x3abc30*0.8+'px',_0x2b3bd3['style'][_0x362768(0x3f8)]='',_0x2b3bd3[_0x362768(0x66e)][_0x362768(0x65a)]='');_0x2b3bd3[_0x362768(0x66e)][_0x362768(0x6b5)]=_0x362768(0x550);});if(_0x243a4f['length']<=0x3){const _0x96645e=_0x243a4f[_0x24c8b9(0x548)](0x0,0x3);adjustWidths(_0x96645e,_0x517785,_0x2e3c80),arrangeGridLayout(_0x96645e,_0x517785,_0x2e3c80,_0x3abc30);return;}const _0x242b28=_0x243a4f[_0x24c8b9(0x548)](0x0,0x3);adjustWidths(_0x242b28,_0x517785,_0x2e3c80),arrangeGridLayout(_0x242b28,_0x517785,_0x2e3c80,_0x3abc30);if(_0x243a4f[_0x24c8b9(0x585)]>=0x4){const _0x1e6e7d=_0x242b28[_0x24c8b9(0x2ff)](_0x3eef49=>parseFloat(_0x3eef49[_0x24c8b9(0x66e)][_0x24c8b9(0x422)])+_0x3eef49['getBoundingClientRect']()[_0x24c8b9(0x65a)]),_0x49342e=[..._0x1e6e7d][_0x24c8b9(0x2ff)]((_0x4c9bee,_0x40000a)=>({'h':_0x4c9bee,'i':_0x40000a}))[_0x24c8b9(0x332)]((_0x1aa5f5,_0x42e55e)=>_0x1aa5f5['h']-_0x42e55e['h'])[_0x24c8b9(0x2ff)](_0x548185=>_0x548185['i']),_0x4a682d=_0x49342e[0x0],_0x4ac21e=_0x49342e[0x1],_0x23c992=_0x243a4f[0x3],_0x22bb31=_0x23c992['getBoundingClientRect']();let _0x6bc57b=_0x1e6e7d[_0x4a682d]+_0x517785;const _0x498c52=_0x243a4f[_0x24c8b9(0x585)]>=0x5?_0x243a4f[0x4]:null,_0x19b82f=_0x498c52?.[_0x24c8b9(0x262)]();let _0x1416b8=_0x1e6e7d[_0x4ac21e]+_0x517785;const _0x7cb33c=Math['max'](_0x6bc57b+_0x22bb31[_0x24c8b9(0x65a)],_0x1416b8+(_0x19b82f?.[_0x24c8b9(0x65a)]||0x0)),_0x595400=Math[_0x24c8b9(0x684)](0x0,(_0x3abc30-_0x7cb33c)/0x2);if(_0x595400>0x0)_0x242b28['forEach'](_0x492a3c=>{const _0x3afc79=_0x24c8b9;_0x492a3c[_0x3afc79(0x66e)][_0x3afc79(0x422)]=parseFloat(_0x492a3c[_0x3afc79(0x66e)]['top'])+_0x595400+'px';}),_0x23c992[_0x24c8b9(0x66e)][_0x24c8b9(0x52c)]=parseFloat(_0x242b28[_0x4a682d][_0x24c8b9(0x66e)][_0x24c8b9(0x52c)])+'px',_0x23c992[_0x24c8b9(0x66e)][_0x24c8b9(0x422)]=_0x6bc57b+_0x595400+'px',_0x498c52&&(_0x498c52[_0x24c8b9(0x66e)]['left']=parseFloat(_0x242b28[_0x4ac21e][_0x24c8b9(0x66e)]['left'])+'px',_0x498c52[_0x24c8b9(0x66e)][_0x24c8b9(0x422)]=_0x1416b8+_0x595400+'px');else{const _0x22a3b1=_0x3abc30/_0x7cb33c;_0x242b28[_0x24c8b9(0x54e)](_0x4e2ffb=>{const _0xd08422=_0x24c8b9,_0x239286=_0x4e2ffb[_0xd08422(0x262)]();_0x4e2ffb[_0xd08422(0x66e)]['height']=_0x239286[_0xd08422(0x65a)]*_0x22a3b1*0.9+'px';}),arrangeGridLayout(_0x242b28,_0x517785,_0x2e3c80,_0x3abc30);const _0x42eecb=_0x242b28['map'](_0x480a51=>parseFloat(_0x480a51[_0x24c8b9(0x66e)]['top'])+_0x480a51[_0x24c8b9(0x262)]()[_0x24c8b9(0x65a)]);_0x23c992[_0x24c8b9(0x66e)][_0x24c8b9(0x52c)]=parseFloat(_0x242b28[_0x4a682d]['style'][_0x24c8b9(0x52c)])+'px',_0x23c992['style'][_0x24c8b9(0x422)]=_0x42eecb[_0x4a682d]+_0x517785+'px',_0x498c52&&(_0x498c52['style']['left']=parseFloat(_0x242b28[_0x4ac21e][_0x24c8b9(0x66e)][_0x24c8b9(0x52c)])+'px',_0x498c52[_0x24c8b9(0x66e)]['top']=_0x42eecb[_0x4ac21e]+_0x517785+'px');}}if(_0x243a4f[_0x24c8b9(0x585)]>=0x6){let _0x407ffd=_0x517785,_0x45bde0=_0x517785,_0x29d0c2=0x0;for(let _0x54ca8a=0x5;_0x54ca8a<_0x243a4f['length'];_0x54ca8a++){const _0x590660=_0x243a4f[_0x54ca8a],_0x24c19b=_0x590660[_0x24c8b9(0x262)]();_0x407ffd+_0x24c19b['width']>_0x2e3c80&&(_0x407ffd=_0x517785,_0x45bde0+=_0x29d0c2+_0x517785,_0x29d0c2=0x0),_0x590660['style'][_0x24c8b9(0x52c)]=_0x407ffd+'px',_0x590660[_0x24c8b9(0x66e)][_0x24c8b9(0x422)]=_0x45bde0+'px',_0x407ffd+=_0x24c19b[_0x24c8b9(0x3f8)]+_0x517785,_0x29d0c2=Math[_0x24c8b9(0x684)](_0x29d0c2,_0x24c19b[_0x24c8b9(0x65a)]),_0x45bde0+_0x24c19b['height']>_0x3abc30&&(_0x407ffd=_0x517785,_0x45bde0=_0x517785);}}}function adjustWidths(_0x4180e7,_0x1cb87e,_0x1c37b4){const _0x49277d=_0x267d97;let _0x4b251c=0x0;const _0x395940=[];_0x4180e7[_0x49277d(0x54e)](_0x3b97ff=>{const _0x44149a=_0x49277d;_0x3b97ff[_0x44149a(0x66e)][_0x44149a(0x3f8)]='';const _0x4d2665=_0x3b97ff['getBoundingClientRect']();_0x395940[_0x44149a(0x664)](_0x4d2665['width']),_0x4b251c+=_0x4d2665[_0x44149a(0x3f8)];}),_0x4b251c+=_0x1cb87e*(_0x4180e7[_0x49277d(0x585)]-0x1);if(_0x4b251c>_0x1c37b4){const _0x170134=(_0x1c37b4-_0x1cb87e*(_0x4180e7[_0x49277d(0x585)]-0x1))/(_0x4b251c-_0x1cb87e*(_0x4180e7[_0x49277d(0x585)]-0x1));_0x4180e7[_0x49277d(0x54e)]((_0x2c0d6c,_0x4e465c)=>{const _0x77b202=_0x49277d;_0x2c0d6c['style'][_0x77b202(0x3f8)]=_0x395940[_0x4e465c]*_0x170134+'px';});}}function arrangeGridLayout(_0x28baab,_0x2f3af2,_0x5ed448,_0x538453){const _0x311c5d=_0x267d97;if(_0x28baab[_0x311c5d(0x585)]===0x0)return;let _0x1b8917=0x0,_0x41f630=0x0;_0x28baab[_0x311c5d(0x54e)](_0x54a8db=>{const _0x5cdc88=_0x311c5d,_0x4b6333=_0x54a8db[_0x5cdc88(0x262)]();_0x1b8917+=_0x4b6333['width']+_0x2f3af2,_0x41f630+=_0x4b6333['height']+_0x2f3af2;});const _0xa1838e=_0x5ed448/_0x538453;let _0x301c0e=Math[_0x311c5d(0x5df)](Math[_0x311c5d(0x6a8)](_0x28baab[_0x311c5d(0x585)]*_0xa1838e)),_0x5153d5=Math[_0x311c5d(0x5df)](_0x28baab[_0x311c5d(0x585)]/_0x301c0e);while(_0x5153d5>_0x301c0e&&(_0x5153d5-0x1)*_0x301c0e>=_0x28baab[_0x311c5d(0x585)]){_0x5153d5--,_0x301c0e=Math[_0x311c5d(0x5df)](_0x28baab['length']/_0x5153d5);}const _0x39d0fa=new Array(_0x301c0e)[_0x311c5d(0x573)](0x0),_0x29ceff=new Array(_0x5153d5)[_0x311c5d(0x573)](0x0);_0x28baab[_0x311c5d(0x54e)]((_0x4d49f2,_0x5957a3)=>{const _0x3cb54f=_0x311c5d,_0x3542f6=_0x5957a3%_0x301c0e,_0x185120=Math[_0x3cb54f(0x682)](_0x5957a3/_0x301c0e),_0x498f3c=_0x4d49f2['getBoundingClientRect']();_0x39d0fa[_0x3542f6]=Math['max'](_0x39d0fa[_0x3542f6],_0x498f3c[_0x3cb54f(0x3f8)]),_0x29ceff[_0x185120]=Math['max'](_0x29ceff[_0x185120],_0x498f3c['height']);});const _0xfe07d=_0x39d0fa[_0x311c5d(0x634)]((_0x125b12,_0x5de87c)=>_0x125b12+_0x5de87c+_0x2f3af2,-_0x2f3af2),_0x1d7593=_0x29ceff[_0x311c5d(0x634)]((_0x244238,_0x31009b)=>_0x244238+_0x31009b+_0x2f3af2,-_0x2f3af2),_0x4142fd=(_0x5ed448-_0xfe07d)/0x2,_0x55932f=(_0x538453-_0x1d7593)/0x2,_0x544ab6=[];let _0x10f6e6=_0x4142fd;for(let _0x13db1f=0x0;_0x13db1f<_0x301c0e;_0x13db1f++){_0x544ab6[_0x311c5d(0x664)](_0x10f6e6),_0x10f6e6+=_0x39d0fa[_0x13db1f]+_0x2f3af2;}const _0x211950=[];let _0x4987a6=_0x55932f;for(let _0x5e7f02=0x0;_0x5e7f02<_0x5153d5;_0x5e7f02++){_0x211950[_0x311c5d(0x664)](_0x4987a6),_0x4987a6+=_0x29ceff[_0x5e7f02]+_0x2f3af2;}_0x28baab[_0x311c5d(0x54e)]((_0x1ba132,_0x17cd3d)=>{const _0x462cc7=_0x311c5d,_0x516063=_0x17cd3d%_0x301c0e,_0x1cc5dc=Math[_0x462cc7(0x682)](_0x17cd3d/_0x301c0e),_0x34f3e2=_0x1ba132['getBoundingClientRect']();_0x1ba132[_0x462cc7(0x66e)][_0x462cc7(0x52c)]=_0x544ab6[_0x516063]+'px',_0x1ba132[_0x462cc7(0x66e)][_0x462cc7(0x422)]=_0x211950[_0x1cc5dc]+'px',_0x1ba132[_0x462cc7(0x66e)][_0x462cc7(0x3f8)]=_0x34f3e2['width']+'px',_0x1ba132[_0x462cc7(0x66e)][_0x462cc7(0x65a)]=_0x34f3e2['height']+'px';});}function setupParagraphButtonEvents(_0x6b7f10,_0x37cef1,_0x47593a,_0x3349a3){const _0x394dc2=_0x267d97;if(!_0x6b7f10||!_0x6b7f10[_0x394dc2(0x1a7)]||!_0x37cef1)return;const _0x28ae65=_0x6b7f10['cloneNode'](!![]),_0x36a0ac=document['createElement'](_0x394dc2(0x1c1));_0x36a0ac['style'][_0x394dc2(0x6b5)]='flex',_0x36a0ac['style'][_0x394dc2(0x5ce)]=_0x394dc2(0x4b0),_0x36a0ac[_0x394dc2(0x66e)][_0x394dc2(0x418)]=_0x394dc2(0x632);const _0x27b99e=createCopyButton(),_0x4d00dc=createUpdateButton();_0x36a0ac[_0x394dc2(0x443)](_0x28ae65),_0x36a0ac[_0x394dc2(0x443)](_0x4d00dc),minimapCanvas[_0x394dc2(0x42e)]('click',_0x4b5887=>{const _0x504964=_0x394dc2,_0x564740=minimapCanvas[_0x504964(0x262)](),_0x182698=_0x4b5887[_0x504964(0x3e4)]-_0x564740['left'],_0x50fd20=_0x4b5887['clientY']-_0x564740['top'];let _0x5ed6d3=Infinity,_0x3161e3=Infinity,_0x59519f=-Infinity,_0x1b1f14=-Infinity;nodes['forEach'](_0x2522c1=>{const _0x564791=_0x504964;_0x5ed6d3=Math[_0x564791(0x646)](_0x5ed6d3,_0x2522c1['x']),_0x3161e3=Math[_0x564791(0x646)](_0x3161e3,_0x2522c1['y']),_0x59519f=Math[_0x564791(0x684)](_0x59519f,_0x2522c1['x']+0xc8),_0x1b1f14=Math[_0x564791(0x684)](_0x1b1f14,_0x2522c1['y']+getNodeHeight(_0x2522c1[_0x564791(0x636)]));});const _0x5d5902=0x32;_0x5ed6d3-=_0x5d5902,_0x3161e3-=_0x5d5902,_0x59519f+=_0x5d5902,_0x1b1f14+=_0x5d5902;const _0x57ce6f=_0x59519f-_0x5ed6d3,_0x266ca3=_0x1b1f14-_0x3161e3,_0x23ad3e=minimapCanvas[_0x504964(0x3f8)]/_0x57ce6f,_0x2196c1=minimapCanvas[_0x504964(0x65a)]/_0x266ca3,_0xd65ff1=Math[_0x504964(0x646)](_0x23ad3e,_0x2196c1),_0x19f5e7=_0x182698/_0xd65ff1+_0x5ed6d3,_0x477015=_0x50fd20/_0xd65ff1+_0x3161e3;smoothMoveTo(_0x19f5e7,_0x477015,this['scale'],0x12c);});try{_0x6b7f10[_0x394dc2(0x1a7)]['replaceChild'](_0x36a0ac,_0x6b7f10);}catch(_0x377624){return;}const {originalParent:_0x2f55eb,originalNextSibling:_0xb94ea,originalStyles:_0x3cc7d9}=saveOriginalPopupPosition(_0x37cef1);setupCopyButtonEvents(_0x27b99e,_0x37cef1),setupUpdateButtonEvents(_0x4d00dc,_0x37cef1,_0x3349a3),_0x37cef1[_0x394dc2(0x443)](_0x27b99e),setupPopupToggleEvents(_0x28ae65,_0x37cef1,_0x3349a3);const _0x57f76c=createClickOutsideHandler(_0x37cef1,_0x2f55eb,_0xb94ea,_0x3cc7d9,_0x3349a3),_0xb8186=createClearHandler(_0x37cef1,_0x47593a,_0x3349a3);return document[_0x394dc2(0x42e)](_0x394dc2(0x221),_0x57f76c),document[_0x394dc2(0x42e)](_0x394dc2(0x234),_0xb8186),_0x37cef1['dataset'][_0x394dc2(0x589)]=JSON[_0x394dc2(0x2b1)]({'click':_0x57f76c,'keydown':_0xb8186}),setupPopupCleanup(_0x37cef1,_0x57f76c,_0xb8186),_0x28ae65;}function createButtonContainer(_0x3eb6e4){const _0x51a045=_0x267d97,_0x5a0747=document[_0x51a045(0x333)](_0x51a045(0x1c1));return _0x5a0747[_0x51a045(0x66e)][_0x51a045(0x6b5)]=_0x51a045(0x24b),_0x5a0747['style'][_0x51a045(0x5ce)]=_0x51a045(0x4b0),_0x5a0747['style']['marginBottom']=_0x51a045(0x632),{'buttonContainer':_0x5a0747,'newBtn':_0x3eb6e4};}function createButtonContainer(_0x2f73e8){const _0x50e579=_0x267d97,_0x57c5cd=document[_0x50e579(0x333)](_0x50e579(0x1c1));return _0x57c5cd[_0x50e579(0x66e)][_0x50e579(0x6b5)]=_0x50e579(0x24b),_0x57c5cd['style']['alignItems']=_0x50e579(0x4b0),_0x57c5cd[_0x50e579(0x66e)][_0x50e579(0x418)]=_0x50e579(0x632),{'buttonContainer':_0x57c5cd,'newBtn':_0x2f73e8['cloneNode'](!![])};}function createCopyButton(){const _0x1eb577=_0x267d97,_0x44ba79=document[_0x1eb577(0x333)](_0x1eb577(0x201));return _0x44ba79[_0x1eb577(0x65b)]=_0x1eb577(0x330),_0x44ba79[_0x1eb577(0x367)]='',_0x44ba79;}function createUpdateButton(){const _0x52d858=_0x267d97,_0xf0a1d6=document[_0x52d858(0x333)]('button');return _0xf0a1d6[_0x52d858(0x65b)]=_0x52d858(0x564),_0xf0a1d6[_0x52d858(0x367)]='更新',_0xf0a1d6[_0x52d858(0x45c)]=_0x52d858(0x55b),_0xf0a1d6;}function setupCopyButtonEvents(_0x1fb052,_0x2f1d7a){const _0x1cb460=_0x267d97;_0x1fb052[_0x1cb460(0x42e)](_0x1cb460(0x221),_0x38158a=>{const _0x303e3a=_0x1cb460;_0x38158a[_0x303e3a(0x4de)](),handleCopyText(_0x2f1d7a['textContent'],_0x1fb052);});}function handleCopyText(_0x424314,_0x265990){const _0x19d4c9=_0x267d97;try{navigator[_0x19d4c9(0x336)][_0x19d4c9(0x57d)](_0x424314)[_0x19d4c9(0x238)](()=>{updateButtonTextTemporarily(_0x265990,'已複製!');})['catch'](_0x520645=>{const _0x36b3d6=_0x19d4c9;updateButtonTextTemporarily(_0x265990,_0x36b3d6(0x5bb));});}catch(_0x3892e2){updateButtonTextTemporarily(_0x265990,'複製失敗');}}function updateButtonTextTemporarily(_0x2555f5,_0x23b6ed){const _0x38a45f=_0x267d97;_0x2555f5[_0x38a45f(0x367)]=_0x23b6ed,setTimeout(()=>{_0x2555f5['textContent']='';},0x7d0);}function setupUpdateButtonEvents(_0x1c4788,_0x2196d0,_0x427414){const _0x4a6889=_0x267d97;_0x1c4788[_0x4a6889(0x42e)](_0x4a6889(0x221),_0x4d4a52=>{const _0x558064=_0x4a6889;_0x4d4a52[_0x558064(0x4de)](),showUpdateDialog(_0x2196d0['textContent'],_0x5392f4=>{_0x5392f4!==null&&updateNodeContent(_0x427414,_0x5392f4);});});}function saveOriginalPopupPosition(_0x584b98){const _0x6827a4=_0x267d97;return{'originalParent':_0x584b98[_0x6827a4(0x1a7)],'originalNextSibling':_0x584b98[_0x6827a4(0x28c)],'originalStyles':{'position':_0x584b98[_0x6827a4(0x66e)][_0x6827a4(0x500)],'left':_0x584b98[_0x6827a4(0x66e)][_0x6827a4(0x52c)],'top':_0x584b98[_0x6827a4(0x66e)]['top'],'zIndex':_0x584b98[_0x6827a4(0x66e)][_0x6827a4(0x55a)]}};}function setupPopupToggleEvents(_0x35f9c4,_0x4accd4,_0xe34ed9){const _0x5150e2=_0x267d97;_0x35f9c4[_0x5150e2(0x42e)]('click',_0x3596e8=>{const _0x285d06=_0x5150e2;_0xe34ed9[_0x285d06(0x1a9)]&&(_0xe34ed9[_0x285d06(0x1a9)][_0x285d06(0x2b4)](),_0xe34ed9[_0x285d06(0x1a9)]=null);const _0x32d100=document[_0x285d06(0x333)](_0x285d06(0x1c1));_0x32d100[_0x285d06(0x66e)]['position']='fixed',_0x32d100[_0x285d06(0x66e)][_0x285d06(0x55a)]=_0x285d06(0x475);const _0x4d567b=_0x4accd4[_0x285d06(0x433)](!![]);_0x4d567b[_0x285d06(0x66e)]['display']=_0x285d06(0x550),_0x4d567b[_0x285d06(0x66e)][_0x285d06(0x3f8)]=_0x285d06(0x2ca),_0x4d567b[_0x285d06(0x66e)][_0x285d06(0x65a)]=_0x285d06(0x2ca),_0x4d567b['style'][_0x285d06(0x519)]=_0x285d06(0x335),_0x32d100['appendChild'](_0x4d567b),document[_0x285d06(0x529)]['appendChild'](_0x32d100),_0xe34ed9['popupContainer']=_0x32d100,ALL_ACTIVE_POPUPS[_0x285d06(0x62f)](_0x4d567b),activePopup=_0x4d567b,arrangePopups(),_0x3596e8[_0x285d06(0x4de)]();});}function createClickOutsideHandler(_0x1085f9,_0x1c956f,_0x588ca4,_0x35f1aa,_0x5b0201){return _0x3c5d9b=>{const _0x31f5f4=_0x357f,_0x9eb7a0=Array[_0x31f5f4(0x447)](ALL_ACTIVE_POPUPS)[_0x31f5f4(0x202)](_0x3a6577=>_0x3a6577[_0x31f5f4(0x191)](_0x3c5d9b['target'])),_0x331f28=_0x5b0201['element'][_0x31f5f4(0x191)](_0x3c5d9b['target']);!_0x9eb7a0&&!_0x331f28&&closeAllPopups(_0x1085f9,_0x1c956f,_0x588ca4,_0x35f1aa,_0x5b0201);};}function closeAllPopups(_0x796f1,_0x1eca08,_0x360b46,_0x221a03,_0x3b2c56){const _0x14ce37=_0x267d97;ALL_ACTIVE_POPUPS[_0x14ce37(0x54e)](_0x28dcb2=>{const _0x3dc11e=_0x14ce37;_0x28dcb2[_0x3dc11e(0x66e)][_0x3dc11e(0x6b5)]=_0x3dc11e(0x352),restoreOriginalPosition(_0x28dcb2,_0x1eca08,_0x360b46,_0x221a03),_0x28dcb2[_0x3dc11e(0x1a7)]&&_0x28dcb2[_0x3dc11e(0x1a7)][_0x3dc11e(0x4a4)](_0x28dcb2);}),ALL_ACTIVE_POPUPS['clear'](),activePopup=null,_0x3b2c56['popupContainer']&&(_0x3b2c56['popupContainer']['remove'](),_0x3b2c56[_0x14ce37(0x1a9)]=null);}function restoreOriginalPosition(_0x56ce25,_0x382d9f,_0x56893f,_0x23bf33){const _0x46531c=_0x267d97;_0x382d9f&&_0x56ce25[_0x46531c(0x1a7)]===document[_0x46531c(0x529)]&&_0x382d9f[_0x46531c(0x667)](_0x56ce25,_0x56893f),Object[_0x46531c(0x345)](_0x23bf33)[_0x46531c(0x54e)](([_0xfb3867,_0x151e68])=>{const _0x20e8cd=_0x46531c;_0x56ce25[_0x20e8cd(0x66e)][_0xfb3867]=_0x151e68;});}function createClearHandler(_0x1d836f,_0xa7eff8,_0x35cb9e){return _0xcb848e=>{const _0x516e82=_0x357f;_0xcb848e[_0x516e82(0x214)][_0x516e82(0x546)]()==='x'&&activePopup===_0x1d836f&&(clearParagraphInput(_0xa7eff8,_0x35cb9e,_0x1d836f),_0xcb848e['preventDefault']());};}function clearParagraphInput(_0x16b917,_0x2de4ea,_0x3e55b0){const _0x1d7f08=_0x267d97;_0x16b917['value']='',resetItemsList(_0x2de4ea),_0x3e55b0[_0x1d7f08(0x66e)][_0x1d7f08(0x6b5)]=_0x1d7f08(0x352),ALL_ACTIVE_POPUPS[_0x1d7f08(0x66a)](_0x3e55b0),activePopup=null;}function setupPopupCleanup(_0x30939a,_0x5437d3,_0x2aff20){const _0x21a595=_0x267d97;_0x30939a[_0x21a595(0x42e)](_0x21a595(0x4e1),()=>{const _0x58cd5a=_0x21a595;document[_0x58cd5a(0x402)](_0x58cd5a(0x221),_0x5437d3),document['removeEventListener']('keydown',_0x2aff20),ALL_ACTIVE_POPUPS[_0x58cd5a(0x66a)](_0x30939a);});}function showUpdateDialog(_0x25d195,_0x42dd36){const _0x2a80bf=_0x267d97,_0x77fab9=document[_0x2a80bf(0x333)](_0x2a80bf(0x1c1));_0x77fab9[_0x2a80bf(0x65b)]='update-dialog',_0x77fab9[_0x2a80bf(0x1ee)]='\x0a\x20\x20\x20\x20<div\x20class=\x22update-dialog-content\x22>\x0a\x20\x20\x20\x20\x20\x20<textarea\x20id=\x22update-dialog-textarea\x22>'+escapeHtml(_0x25d195)+_0x2a80bf(0x3cf),document[_0x2a80bf(0x529)]['appendChild'](_0x77fab9);const _0x5b75cc=_0x77fab9[_0x2a80bf(0x303)](_0x2a80bf(0x473)),_0x19c253=_0x77fab9[_0x2a80bf(0x303)]('.update-dialog-cancel'),_0x3076c0=_0x77fab9['querySelector']('.update-dialog-confirm');_0x5b75cc[_0x2a80bf(0x44c)](),_0x19c253[_0x2a80bf(0x42e)](_0x2a80bf(0x221),()=>{const _0x5d4af2=_0x2a80bf;document[_0x5d4af2(0x529)]['removeChild'](_0x77fab9),_0x42dd36(null);}),_0x3076c0['addEventListener'](_0x2a80bf(0x221),()=>{const _0x3be0a8=_0x2a80bf,_0xbc2caa=_0x5b75cc['value'][_0x3be0a8(0x486)]();document[_0x3be0a8(0x529)][_0x3be0a8(0x4a4)](_0x77fab9),_0x42dd36(_0xbc2caa);}),_0x77fab9[_0x2a80bf(0x42e)]('keydown',_0x2c6737=>{const _0x4f1e2f=_0x2a80bf;_0x2c6737['key']===_0x4f1e2f(0x1af)&&(document['body']['removeChild'](_0x77fab9),_0x42dd36(null));});}function updateNodeContent(_0x3633a6,_0x4a68ec){const _0x144fd7=_0x267d97,_0x1349b1=_0x3633a6[_0x144fd7(0x636)],_0x3b151a=_0x1349b1[_0x144fd7(0x303)](_0x144fd7(0x278)),_0x5e4b20=_0x1349b1[_0x144fd7(0x303)](_0x144fd7(0x5bc));_0x3b151a[_0x144fd7(0x367)]=_0x4a68ec,_0x5e4b20[_0x144fd7(0x367)]=_0x4a68ec[_0x144fd7(0x585)]>0x32?_0x4a68ec[_0x144fd7(0x5b4)](0x0,0x2f)+_0x144fd7(0x2e1):_0x4a68ec,_0x5e4b20[_0x144fd7(0x2be)][_0x144fd7(0x535)]=_0x4a68ec;const _0x534fd3=extractFunctionName(_0x4a68ec);_0x534fd3&&(_0x1349b1[_0x144fd7(0x303)](_0x144fd7(0x558))[_0x144fd7(0x355)]=_0x534fd3,updateSameNameHighlights());const _0x4d48ef=extractCalledFunctions(_0x4a68ec,_0x534fd3),_0x3e1142=_0x4d48ef['filter'](_0x58e7af=>{const _0x185359=_0x144fd7,_0x10b866=currentLanguage===_0x185359(0x291)?PYTHON_FUNCTION_BLACKLIST[_0x185359(0x633)](_0x58e7af):FUNCTION_BLACKLIST['includes'](_0x58e7af);if(_0x10b866){}return!_0x10b866;}),_0x21fe94=Array[_0x144fd7(0x447)](_0x1349b1['querySelectorAll']('.item-text'))[_0x144fd7(0x2ff)](_0x368fd7=>_0x368fd7[_0x144fd7(0x355)]),_0x426d19=new Map();connections[_0x144fd7(0x54e)](_0x35a0f5=>{const _0x54d3ea=_0x144fd7;if(_0x35a0f5[_0x54d3ea(0x659)]===_0x3633a6['id']){const _0x30c108=_0x21fe94[_0x35a0f5[_0x54d3ea(0x31d)]];_0x426d19[_0x54d3ea(0x436)](_0x35a0f5[_0x54d3ea(0x31d)]+'_'+_0x30c108,{'toNode':_0x35a0f5[_0x54d3ea(0x311)],'toInput':_0x35a0f5[_0x54d3ea(0x1d0)]});}}),connections=connections[_0x144fd7(0x2fb)](_0x516fc6=>_0x516fc6['fromNode']!==_0x3633a6['id']);const _0x26bf24=_0x1349b1[_0x144fd7(0x303)](_0x144fd7(0x38c));_0x26bf24[_0x144fd7(0x1ee)]='',_0x3633a6['outputs']=[],_0x3e1142[_0x144fd7(0x54e)]((_0x235abb,_0x33b80f)=>{const _0x5061fc=_0x144fd7,_0xbf1183=document[_0x5061fc(0x333)](_0x5061fc(0x1c1));_0xbf1183[_0x5061fc(0x65b)]=_0x5061fc(0x389),_0xbf1183['innerHTML']=_0x5061fc(0x670)+escapeHtml(_0x235abb)+_0x5061fc(0x6ac),_0x26bf24['appendChild'](_0xbf1183),_0x3633a6[_0x5061fc(0x661)][_0x5061fc(0x664)](_0x33b80f),setupAddNodeButton(_0xbf1183,_0x3633a6,_0x33b80f,container),setupOutputPort(_0xbf1183,_0x3633a6,_0x33b80f,container),setupItemDragAndDrop(_0x1349b1,_0x3633a6);let _0x2384d7=![];const _0xb8bb7e=_0x33b80f+'_'+_0x235abb;if(_0x426d19[_0x5061fc(0x620)](_0xb8bb7e)){const {toNode:_0x2cb61f,toInput:_0xef1d47}=_0x426d19['get'](_0xb8bb7e);connections[_0x5061fc(0x664)]({'fromNode':_0x3633a6['id'],'fromOutput':_0x33b80f,'toNode':_0x2cb61f,'toInput':_0xef1d47}),_0x2384d7=!![];}if(!_0x2384d7)for(const [_0x5061de,_0x35cf09]of _0x426d19){const [_0x167f6e,_0x38b36f]=_0x5061de[_0x5061fc(0x268)]('_');if(_0x38b36f===_0x235abb){if(!connections['some'](_0x208abe=>_0x208abe['fromNode']===_0x3633a6['id']&&_0x208abe[_0x5061fc(0x311)]===_0x35cf09[_0x5061fc(0x311)]&&_0x208abe[_0x5061fc(0x1d0)]===_0x35cf09[_0x5061fc(0x1d0)])){connections[_0x5061fc(0x664)]({'fromNode':_0x3633a6['id'],'fromOutput':_0x33b80f,'toNode':_0x35cf09[_0x5061fc(0x311)],'toInput':_0x35cf09[_0x5061fc(0x1d0)]}),_0x426d19['delete'](_0x5061de);break;}}}}),analyzeVariables(_0x3633a6),drawConnections(),showStatusMessage(_0x144fd7(0x55d),_0x144fd7(0x613));}function resizeCanvas(){const _0x41bb77=_0x267d97;canvas['width']=container[_0x41bb77(0x5b7)],canvas['height']=container[_0x41bb77(0x2f3)];}resizeCanvas(),window[_0x267d97(0x42e)](_0x267d97(0x51f),resizeCanvas);function toWorldX(_0x12670c){return _0x12670c/scale+translateX;}function toWorldY(_0x245a52){return _0x245a52/scale+translateY;}function extractFunctionName(_0x5eb0a3){const _0x2c2b06=_0x267d97;if(currentLanguage===_0x2c2b06(0x291)){const _0x2aed6c=[/def\s+([a-zA-Z_][0-9a-zA-Z_]*)\s*\(/,/class\s+([a-zA-Z_][0-9a-zA-Z_]*)\s*\(?/,/([a-zA-Z_][0-9a-zA-Z_]*)\s*=\s*lambda\s+/];for(const _0x6d149f of _0x2aed6c){const _0x483920=_0x5eb0a3[_0x2c2b06(0x1e6)](_0x6d149f);if(_0x483920)return _0x483920[0x1];}return null;}else{const _0x547ac0=[/function\s+([a-zA-Z_$][0-9a-zA-Z_$]*)\s*\(/,/const\s+([a-zA-Z_$][0-9a-zA-Z_$]*)\s*=\s*\([^)]*\)\s*=>/,/let\s+([a-zA-Z_$][0-9a-zA-Z_$]*)\s*=\s*\([^)]*\)\s*=>/,/var\s+([a-zA-Z_$][0-9a-zA-Z_$]*)\s*=\s*\([^)]*\)\s*=>/,/const\s+([a-zA-Z_$][0-9a-zA-Z_$]*)\s*=\s*function/,/let\s+([a-zA-Z_$][0-9a-zA-Z_$]*)\s*=\s*function/,/var\s+([a-zA-Z_$][0-9a-zA-Z_$]*)\s*=\s*function/,/class\s+([a-zA-Z_$][0-9a-zA-Z_$]*)\s*{/];for(const _0x9773c7 of _0x547ac0){const _0x181dd5=_0x5eb0a3[_0x2c2b06(0x1e6)](_0x9773c7);if(_0x181dd5)return _0x181dd5[0x1];}return null;}}function extractCalledFunctions(_0x3b8577,_0x539b97){const _0x18bbbe=_0x267d97,_0x48414d=new Set();if(currentLanguage===_0x18bbbe(0x291)){const _0x4e7a08=/([a-zA-Z_][0-9a-zA-Z_]*)\s*\([^)]*\)/g;let _0x4c3d17;while((_0x4c3d17=_0x4e7a08[_0x18bbbe(0x3c3)](_0x3b8577))!==null){const _0x32c885=_0x4c3d17[0x1],_0x469566=PYTHON_FUNCTION_BLACKLIST[_0x18bbbe(0x633)](_0x32c885);if(_0x32c885[_0x18bbbe(0x486)]()==='(e')continue;if(!_0x469566&&_0x32c885!==_0x539b97)_0x48414d['add'](_0x32c885);else{if(_0x469566){}}}}else{const _0xb8ea3f=/([a-zA-Z_$][0-9a-zA-Z_$]*)\s*\([^)]*\)/g;let _0x2b3d89;while((_0x2b3d89=_0xb8ea3f['exec'](_0x3b8577))!==null){const _0x7aa454=_0x2b3d89[0x1],_0x2c1c9f=FUNCTION_BLACKLIST['includes'](_0x7aa454);if(_0x7aa454[_0x18bbbe(0x486)]()==='(e')continue;if(!_0x2c1c9f&&_0x7aa454!==_0x539b97)_0x48414d[_0x18bbbe(0x62f)](_0x7aa454);else{if(_0x2c1c9f){}}}const _0x5930ac=extractAdditionalFunctionNames(_0x3b8577);_0x5930ac['forEach'](_0x4f2cf6=>{const _0x1b1e51=_0x18bbbe;if(_0x4f2cf6[_0x1b1e51(0x486)]()==='(e')return;_0x4f2cf6!==_0x539b97&&_0x48414d[_0x1b1e51(0x62f)](_0x4f2cf6);});}return Array['from'](_0x48414d);}const PYTHON_FUNCTION_BLACKLIST=[_0x267d97(0x538),'all',_0x267d97(0x277),_0x267d97(0x4a0),_0x267d97(0x6c1),_0x267d97(0x413),_0x267d97(0x2ec),_0x267d97(0x523),_0x267d97(0x679),_0x267d97(0x58a),_0x267d97(0x5f6),'classmethod','compile','complex',_0x267d97(0x1a2),'dict',_0x267d97(0x3ea),_0x267d97(0x4d2),_0x267d97(0x5f0),_0x267d97(0x68a),'exec',_0x267d97(0x2fb),_0x267d97(0x3a4),_0x267d97(0x294),_0x267d97(0x36a),_0x267d97(0x479),'globals',_0x267d97(0x5ec),_0x267d97(0x312),_0x267d97(0x404),_0x267d97(0x1da),'id',_0x267d97(0x28b),_0x267d97(0x316),_0x267d97(0x386),_0x267d97(0x353),_0x267d97(0x458),'len',_0x267d97(0x2a6),_0x267d97(0x340),_0x267d97(0x2ff),'max',_0x267d97(0x688),_0x267d97(0x646),_0x267d97(0x5e9),_0x267d97(0x342),_0x267d97(0x504),_0x267d97(0x415),_0x267d97(0x549),_0x267d97(0x69b),_0x267d97(0x29d),_0x267d97(0x586),_0x267d97(0x25d),_0x267d97(0x2d9),_0x267d97(0x3d0),_0x267d97(0x1ce),_0x267d97(0x436),'setattr',_0x267d97(0x548),_0x267d97(0x488),_0x267d97(0x5f8),_0x267d97(0x494),_0x267d97(0x3de),_0x267d97(0x503),_0x267d97(0x462),_0x267d97(0x464),_0x267d97(0x6a7),_0x267d97(0x54c),_0x267d97(0x54d),_0x267d97(0x565),_0x267d97(0x68d),'__spec__',_0x267d97(0x2dd),'as',_0x267d97(0x4ca),_0x267d97(0x1e9),'await','break',_0x267d97(0x38b),'continue',_0x267d97(0x424),_0x267d97(0x269),_0x267d97(0x1b7),'else','except',_0x267d97(0x67a),_0x267d97(0x471),_0x267d97(0x368),_0x267d97(0x447),_0x267d97(0x231),'if','import','in','is',_0x267d97(0x49b),_0x267d97(0x2a5),_0x267d97(0x66b),_0x267d97(0x3aa),'or',_0x267d97(0x640),_0x267d97(0x431),'return','True',_0x267d97(0x4e2),_0x267d97(0x227),_0x267d97(0x536),_0x267d97(0x6a4),'append','clear',_0x267d97(0x261),_0x267d97(0x267),'extend',_0x267d97(0x32c),_0x267d97(0x3d1),_0x267d97(0x2a0),_0x267d97(0x2b4),'reverse','sort',_0x267d97(0x18a),_0x267d97(0x57f),_0x267d97(0x4b0),'encode',_0x267d97(0x6a0),_0x267d97(0x1e0),'find',_0x267d97(0x294),_0x267d97(0x36b),_0x267d97(0x20e),'isalpha',_0x267d97(0x319),_0x267d97(0x272),_0x267d97(0x3e6),_0x267d97(0x354),'islower','isnumeric','isprintable','isspace','istitle',_0x267d97(0x338),_0x267d97(0x37a),_0x267d97(0x372),_0x267d97(0x34d),_0x267d97(0x250),_0x267d97(0x1bb),_0x267d97(0x344),_0x267d97(0x610),_0x267d97(0x595),_0x267d97(0x331),'rjust',_0x267d97(0x26e),'rsplit',_0x267d97(0x4c1),'split',_0x267d97(0x1c4),_0x267d97(0x1ff),_0x267d97(0x3f5),'swapcase',_0x267d97(0x45c),_0x267d97(0x522),_0x267d97(0x27c),_0x267d97(0x692),'get',_0x267d97(0x62c),_0x267d97(0x1ec),'popitem',_0x267d97(0x21b),_0x267d97(0x343),_0x267d97(0x5c1),'__globals__',_0x267d97(0x38d),_0x267d97(0x293),'__subclasses__',_0x267d97(0x2b3),_0x267d97(0x6c6)];function escapeHtml(_0x2c5328){const _0x1a3a1c=_0x267d97;return _0x2c5328[_0x1a3a1c(0x610)](/&/g,_0x1a3a1c(0x4aa))['replace'](/</g,_0x1a3a1c(0x60b))[_0x1a3a1c(0x610)](/>/g,'&gt;')['replace'](/"/g,'&quot;')[_0x1a3a1c(0x610)](/'/g,'&#039;');}function showStatusMessage(_0x53c79e,_0x10a416=_0x267d97(0x3da)){const _0x3ee981=_0x267d97,_0x9c2e59=document[_0x3ee981(0x333)](_0x3ee981(0x1c1));_0x9c2e59[_0x3ee981(0x367)]=_0x53c79e,_0x9c2e59[_0x3ee981(0x66e)]['position']='fixed',_0x9c2e59[_0x3ee981(0x66e)]['bottom']=_0x3ee981(0x4df),_0x9c2e59[_0x3ee981(0x66e)][_0x3ee981(0x274)]=_0x3ee981(0x4df),_0x9c2e59[_0x3ee981(0x66e)][_0x3ee981(0x24a)]=_0x3ee981(0x2f8),_0x9c2e59['style']['background']=_0x10a416===_0x3ee981(0x273)?'#ff4444':'#4CAF50',_0x9c2e59[_0x3ee981(0x66e)]['color']=_0x3ee981(0x5a4),_0x9c2e59[_0x3ee981(0x66e)][_0x3ee981(0x26f)]=_0x3ee981(0x435),_0x9c2e59['style'][_0x3ee981(0x55a)]=_0x3ee981(0x5dd),document[_0x3ee981(0x529)][_0x3ee981(0x443)](_0x9c2e59),setTimeout(()=>{const _0x26b394=_0x3ee981;_0x9c2e59['style']['transition']='opacity\x200.5s',_0x9c2e59[_0x26b394(0x66e)]['opacity']='0',setTimeout(()=>_0x9c2e59[_0x26b394(0x2b4)](),0x1f4);},0xbb8);}function extractFunctions(_0x1659a0){const _0x26bb0e=_0x267d97,_0x25378a={},_0x4e394b=/function\s+([a-zA-Z_$][0-9a-zA-Z_$]*)\s*\([^)]*\)\s*\{/g;let _0x14e11b,_0x2db523=0x0;while((_0x14e11b=_0x4e394b['exec'](_0x1659a0))!==null){const _0x337ae3=_0x14e11b[0x1],_0x4ec4a8=_0x14e11b[_0x26bb0e(0x32c)],_0x3e0b8c=_0x1659a0[_0x26bb0e(0x24c)]('{',_0x4ec4a8);if(_0x3e0b8c!==-0x1){const _0x2c8af9=extractBalancedBraces(_0x1659a0,_0x3e0b8c);if(_0x2c8af9){_0x25378a[_0x337ae3]={'code':_0x1659a0[_0x26bb0e(0x5b4)](_0x4ec4a8,_0x4ec4a8+_0x14e11b[0x0][_0x26bb0e(0x585)]+_0x2c8af9[_0x26bb0e(0x585)]),'start':_0x4ec4a8,'end':_0x4ec4a8+_0x14e11b[0x0][_0x26bb0e(0x585)]+_0x2c8af9['length']},_0x2db523++;if(_0x337ae3===_0x26bb0e(0x265)){}}}}if(!_0x25378a[_0x26bb0e(0x265)]){const _0x5917e4=_0x1659a0[_0x26bb0e(0x24c)]('closeAllLists');if(_0x5917e4!==-0x1){const _0x2f58dd=_0x1659a0[_0x26bb0e(0x5b4)](Math['max'](0x0,_0x5917e4-0x64),Math[_0x26bb0e(0x646)](_0x1659a0['length'],_0x5917e4+0xc8));}}return _0x25378a;}function extractBalancedBraces(_0x8f1b81,_0x48590f){const _0x1ec77b=_0x267d97;let _0x1e69bd=0x0,_0x15d9c1=_0x48590f;for(;_0x15d9c1<_0x8f1b81[_0x1ec77b(0x585)];_0x15d9c1++){if(_0x8f1b81[_0x15d9c1]==='{')_0x1e69bd++;else{if(_0x8f1b81[_0x15d9c1]==='}'){_0x1e69bd--;if(_0x1e69bd===0x0)return _0x8f1b81['substring'](_0x48590f,_0x15d9c1+0x1);}}}return null;}function setupAddNodeButton(_0x5d8bab,_0x4990d0,_0x56aabd,_0x55673c){const _0x1dbddc=_0x267d97;_0x5d8bab['querySelector'](_0x1dbddc(0x556))['addEventListener']('click',_0x473af0=>{const _0xd82cf4=_0x1dbddc,_0x30ba71=_0x5d8bab['querySelector'](_0xd82cf4(0x3d7))[_0xd82cf4(0x355)],_0x4a0450=_0x30ba71[_0xd82cf4(0x486)]();if(loadedHtmlFunctions[_0x4a0450]){}else{const _0x1a28d3=_0x4a0450[_0xd82cf4(0x546)]();for(const _0x49f45d in loadedHtmlFunctions){if(_0x49f45d[_0xd82cf4(0x546)]()===_0x1a28d3)break;}}if(functionContent){}else{const _0x1918b0=Object['keys'](loadedHtmlFunctions),_0x5d70fe=_0x1918b0[_0xd82cf4(0x2fb)](_0x22cb7a=>_0x22cb7a[_0xd82cf4(0x546)]()['includes'](_0x4a0450[_0xd82cf4(0x546)]())||_0x4a0450[_0xd82cf4(0x546)]()[_0xd82cf4(0x633)](_0x22cb7a[_0xd82cf4(0x546)]()));}const _0x4c92a6=connections[_0xd82cf4(0x2fb)](_0x46c020=>_0x46c020[_0xd82cf4(0x659)]===_0x4990d0['id']&&_0x46c020[_0xd82cf4(0x31d)]===_0x56aabd)[_0xd82cf4(0x585)],_0xe2e2e5=_0x4990d0['x']+0xc8/scale,_0x55a090=_0x4990d0['y']+_0x4c92a6*0x78/scale,_0x515b0a=createNode(_0xe2e2e5,_0x55a090,_0x4a0450,_0xd82cf4(0x440),functionContent);functionContent?(setTimeout(()=>{const _0x3426c7=_0xd82cf4,_0xa6bfc5=_0x515b0a[_0x3426c7(0x636)][_0x3426c7(0x303)]('.paragraph-input');if(_0xa6bfc5){if(_0xa6bfc5[_0x3426c7(0x355)]!==functionContent){_0xa6bfc5[_0x3426c7(0x355)]=functionContent;const _0x4cfdcd=new Event(_0x3426c7(0x28b),{'bubbles':!![]});_0xa6bfc5[_0x3426c7(0x23f)](_0x4cfdcd);}}},0x64),showStatusMessage(_0xd82cf4(0x2ac)+(foundKey||_0x4a0450)+_0xd82cf4(0x468),_0xd82cf4(0x613))):showStatusMessage(_0xd82cf4(0x24d)+_0x4a0450+'\x22，但未找到對應函數內容',_0xd82cf4(0x616)),connections['push']({'fromNode':_0x4990d0['id'],'fromOutput':_0x56aabd,'toNode':_0x515b0a['id']}),drawConnections(),_0x473af0[_0xd82cf4(0x4de)]();});}function setupAddNodeButton(_0xff9325,_0x4a78b6,_0x1dc5fb,_0x3df19d){const _0x337532=_0x267d97;_0xff9325['querySelector'](_0x337532(0x556))['addEventListener'](_0x337532(0x221),_0x32eaee=>{const _0x286ab2=_0x337532,_0x2da122=_0xff9325['querySelector']('.item-text')[_0x286ab2(0x355)],_0x31338f=_0x2da122['trim']();let _0x1ce464=null,_0x2055e8=null;if(loadedHtmlFunctions[_0x31338f])_0x1ce464=loadedHtmlFunctions[_0x31338f][_0x286ab2(0x1fe)],_0x2055e8=_0x31338f;else{const _0x30f937=_0x31338f['toLowerCase']();for(const _0x24c32b in loadedHtmlFunctions){if(_0x24c32b['toLowerCase']()===_0x30f937){_0x1ce464=loadedHtmlFunctions[_0x24c32b][_0x286ab2(0x1fe)],_0x2055e8=_0x24c32b;break;}}}if(_0x1ce464){}else{const _0x309297=Object[_0x286ab2(0x1ec)](loadedHtmlFunctions),_0x4ebf04=_0x309297['filter'](_0x5964b5=>_0x5964b5['toLowerCase']()['includes'](_0x31338f[_0x286ab2(0x546)]())||_0x31338f[_0x286ab2(0x546)]()[_0x286ab2(0x633)](_0x5964b5['toLowerCase']()));}const _0xb1da84=connections['filter'](_0x5837dc=>_0x5837dc[_0x286ab2(0x659)]===_0x4a78b6['id']&&_0x5837dc[_0x286ab2(0x31d)]===_0x1dc5fb)[_0x286ab2(0x585)],_0x5c6f22=_0x4a78b6['x']+0xc8/scale,_0x386c3d=_0x4a78b6['y']+_0xb1da84*0x78/scale,_0x25588c=createNode(_0x5c6f22,_0x386c3d,_0x31338f,_0x286ab2(0x440),_0x1ce464);_0x1ce464?(setTimeout(()=>{const _0xcf1fdd=_0x286ab2,_0x4466ca=_0x25588c[_0xcf1fdd(0x636)][_0xcf1fdd(0x303)](_0xcf1fdd(0x40b));if(_0x4466ca){if(_0x4466ca[_0xcf1fdd(0x355)]!==_0x1ce464){_0x4466ca[_0xcf1fdd(0x355)]=_0x1ce464;const _0x309d97=new Event(_0xcf1fdd(0x28b),{'bubbles':!![]});_0x4466ca[_0xcf1fdd(0x23f)](_0x309d97);}}},0x64),showStatusMessage(_0x286ab2(0x2ac)+(_0x2055e8||_0x31338f)+_0x286ab2(0x468),_0x286ab2(0x613))):showStatusMessage(_0x286ab2(0x24d)+_0x31338f+_0x286ab2(0x6b3),_0x286ab2(0x616)),connections[_0x286ab2(0x664)]({'fromNode':_0x4a78b6['id'],'fromOutput':_0x1dc5fb,'toNode':_0x25588c['id']}),drawConnections(),_0x32eaee['stopPropagation']();});}function setupOutputPort(_0x353818,_0xc06d76,_0x58ec13,_0x8d9cba){_0x353818['querySelector']('.output-port')['addEventListener']('mousedown',_0x4cce05=>{const _0xade660=_0x357f;if(spacePressed||_0x4cce05[_0xade660(0x201)]===0x1)return;const _0x30cde1=_0x4cce05['target']['getBoundingClientRect']();connecting={'startX':_0x30cde1[_0xade660(0x52c)]+_0x30cde1[_0xade660(0x3f8)]/0x2,'startY':_0x30cde1['top']+_0x30cde1[_0xade660(0x65a)]/0x2,'fromNode':_0xc06d76['id'],'fromOutput':_0x58ec13},_0x8d9cba[_0xade660(0x2cc)]['add'](_0xade660(0x383)),_0x4cce05[_0xade660(0x4de)]();});}function createFunctionItems(_0x361834,_0x5c847d,_0x3d4fcf){const _0x48909=_0x267d97,_0x9063da=_0x361834['element'][_0x48909(0x303)](_0x48909(0x38c));_0x9063da[_0x48909(0x1ee)]='';const _0xe32f93=getNodeContent(_0x361834),_0x1b46f2=extractAdditionalFunctionNames(_0xe32f93),_0x1ed751=[...new Set([..._0x5c847d,..._0x1b46f2])];_0x1ed751[_0x48909(0x54e)]((_0x2bcb46,_0x121ae5)=>{const _0x1f0978=_0x48909,_0x59ad3d=document['createElement'](_0x1f0978(0x1c1));_0x59ad3d[_0x1f0978(0x65b)]=_0x1f0978(0x389),_0x59ad3d[_0x1f0978(0x1ee)]='\x0a\x20\x20\x20\x20\x20\x20<span\x20class=\x22drag-handle\x22>☰</span>\x0a\x20\x20\x20\x20\x20\x20<input\x20type=\x22text\x22\x20class=\x22item-text\x22\x20value=\x22'+_0x2bcb46+_0x1f0978(0x6ac),_0x9063da[_0x1f0978(0x443)](_0x59ad3d),_0x361834[_0x1f0978(0x661)]=_0x1ed751[_0x1f0978(0x2ff)]((_0x26d827,_0x4cfe68)=>_0x4cfe68),setupAddNodeButton(_0x59ad3d,_0x361834,_0x121ae5,_0x3d4fcf),setupOutputPort(_0x59ad3d,_0x361834,_0x121ae5,_0x3d4fcf),setupItemDragAndDrop(_0x361834[_0x1f0978(0x636)],_0x361834);});}function extractAdditionalFunctionNames(_0x5dcdd2){const _0x4aea71=_0x267d97,_0x4d64da=new Set();if(!_0x5dcdd2)return[];const _0x391db7=[/document\.getElementById\(['"]([^'"]+)['"]\)\.addEventListener\([^,]+,\s*([^)\s,]+)/g,/\.addEventListener\(['"]([^'"]+)['"],\s*([^)\s,]+)/g,/onclick\s*=\s*["']([^("']+)\([^)]*\)["']/g,/on(?:mouse|touch|key|load|submit|change)\s*=\s*["']([^("']+)\([^)]*\)["']/g,/\$\(['"]#[^'"]+['"]\)\.(?:click|on)\(\s*([^)\s,]+)/g,/\$\(['"][^'"]+['"]\)\.on\(['"](?:click|mouse|touch|key)['"],\s*([^)\s,]+)/g];_0x391db7[_0x4aea71(0x54e)](_0x2c520d=>{const _0x3c7160=_0x4aea71;let _0x8daed6;while((_0x8daed6=_0x2c520d['exec'](_0x5dcdd2))!==null){const _0x5a99da=_0x8daed6[_0x8daed6[_0x3c7160(0x585)]-0x1];if(_0x5a99da['trim']()==='(e')continue;const _0x380f00=currentLanguage===_0x3c7160(0x291)?PYTHON_FUNCTION_BLACKLIST[_0x3c7160(0x633)](_0x5a99da):FUNCTION_BLACKLIST[_0x3c7160(0x633)](_0x5a99da);if(!_0x380f00)_0x4d64da[_0x3c7160(0x62f)](_0x5a99da);else{}}});const _0x2dc1e4=/document\.getElementById\(['"]([^'"]+)['"]\)\.addEventListener\([^,]+,\s*([^)\s,]+)/g;let _0x5376fd;while((_0x5376fd=_0x2dc1e4[_0x4aea71(0x3c3)](_0x5dcdd2))!==null){const _0xf9dd4a=_0x5376fd[0x1],_0x3d76ce=_0x5376fd[0x2];if(_0x3d76ce[_0x4aea71(0x486)]()==='(e')continue;const _0x5a5b90=currentLanguage===_0x4aea71(0x291)?PYTHON_FUNCTION_BLACKLIST[_0x4aea71(0x633)](_0x3d76ce):FUNCTION_BLACKLIST[_0x4aea71(0x633)](_0x3d76ce);if(!_0x5a5b90)_0x4d64da['add'](_0x3d76ce);else{}}const _0x19da57=/onclick\s*=\s*["']([^("']+)\([^)]*\)["']/g;while((_0x5376fd=_0x19da57[_0x4aea71(0x3c3)](_0x5dcdd2))!==null){const _0x2a99a0=_0x5376fd[0x1];if(_0x2a99a0[_0x4aea71(0x486)]()==='(e')continue;const _0x46ed70=currentLanguage===_0x4aea71(0x291)?PYTHON_FUNCTION_BLACKLIST['includes'](_0x2a99a0):FUNCTION_BLACKLIST[_0x4aea71(0x633)](_0x2a99a0);if(!_0x46ed70)_0x4d64da[_0x4aea71(0x62f)](_0x2a99a0);else{}}const _0x47a971=/\.addEventListener\(['"]click['"],\s*([^)\s,]+)/g;while((_0x5376fd=_0x47a971[_0x4aea71(0x3c3)](_0x5dcdd2))!==null){const _0x9bd87e=_0x5376fd[0x1];if(_0x9bd87e[_0x4aea71(0x486)]()==='(e')continue;const _0x17371d=currentLanguage==='python'?PYTHON_FUNCTION_BLACKLIST['includes'](_0x9bd87e):FUNCTION_BLACKLIST['includes'](_0x9bd87e);if(!_0x17371d)_0x4d64da[_0x4aea71(0x62f)](_0x9bd87e);else{}}const _0x15de9b=/\$\(['"]#[^'"]+['"]\)\.click\(\s*([^)\s,]+)/g;while((_0x5376fd=_0x15de9b['exec'](_0x5dcdd2))!==null){const _0x576a18=_0x5376fd[0x1];if(_0x576a18[_0x4aea71(0x486)]()==='(e')continue;const _0x41d360=currentLanguage==='python'?PYTHON_FUNCTION_BLACKLIST[_0x4aea71(0x633)](_0x576a18):FUNCTION_BLACKLIST[_0x4aea71(0x633)](_0x576a18);if(!_0x41d360)_0x4d64da['add'](_0x576a18);else{}}const _0x1ee115=/\$\(['"]#[^'"]+['"]\)\.on\(['"]click['"],\s*([^)\s,]+)/g;while((_0x5376fd=_0x1ee115[_0x4aea71(0x3c3)](_0x5dcdd2))!==null){const _0x393cd1=_0x5376fd[0x1];if(_0x393cd1['trim']()==='(e')continue;const _0x1cad0f=currentLanguage===_0x4aea71(0x291)?PYTHON_FUNCTION_BLACKLIST['includes'](_0x393cd1):FUNCTION_BLACKLIST[_0x4aea71(0x633)](_0x393cd1);if(!_0x1cad0f)_0x4d64da['add'](_0x393cd1);else{}}return Array[_0x4aea71(0x447)](_0x4d64da);}function cleanupExistingItems(_0x28fc0b){const _0x1874ca=_0x267d97,_0x23fca1=_0x28fc0b[_0x1874ca(0x636)][_0x1874ca(0x303)](_0x1874ca(0x38c));if(!_0x23fca1)return;const _0xf6dab=_0x23fca1['querySelectorAll']('.item');let _0x41d514=0x0;_0xf6dab[_0x1874ca(0x54e)](_0x4e019c=>{const _0x25016b=_0x1874ca,_0x151133=_0x4e019c[_0x25016b(0x303)]('.item-text');_0x151133&&_0x151133[_0x25016b(0x355)][_0x25016b(0x486)]()==='(e'&&(_0x4e019c[_0x25016b(0x2b4)](),_0x41d514++);});if(_0x41d514>0x0){const _0xd49b9b=_0x23fca1['querySelectorAll']('.item');_0x28fc0b[_0x1874ca(0x661)]=Array[_0x1874ca(0x447)](_0xd49b9b)[_0x1874ca(0x2ff)]((_0x48bcaf,_0x29262e)=>_0x29262e),_0xd49b9b[_0x1874ca(0x54e)]((_0x1b1c61,_0x43b1c4)=>{const _0x3b7dcd=_0x1874ca,_0xd8ca86=_0x1b1c61['querySelector'](_0x3b7dcd(0x5b8));_0xd8ca86&&(_0xd8ca86[_0x3b7dcd(0x2be)][_0x3b7dcd(0x68f)]=_0x43b1c4,_0xd8ca86[_0x3b7dcd(0x2be)]['originalIndex']=_0x43b1c4),setupAddNodeButton(_0x1b1c61,_0x28fc0b,_0x43b1c4,container),setupOutputPort(_0x1b1c61,_0x28fc0b,_0x43b1c4,container);}),setupItemDragAndDrop(_0x28fc0b['element'],_0x28fc0b),drawConnections();}}function setupParagraphPopup(_0x175cd4,_0x2d318a,_0x4e5697){const _0x59d055=_0x267d97,_0x359f05=document[_0x59d055(0x333)](_0x59d055(0x201));_0x359f05[_0x59d055(0x65b)]='paragraph-btn',_0x359f05[_0x59d055(0x367)]=_0x2d318a[_0x59d055(0x585)]>0x32?_0x2d318a[_0x59d055(0x5b4)](0x0,0x2f)+_0x59d055(0x2e1):_0x2d318a;const _0x20caa5=document[_0x59d055(0x333)](_0x59d055(0x1c1));_0x20caa5[_0x59d055(0x65b)]=_0x59d055(0x1d1),_0x20caa5[_0x59d055(0x367)]=_0x2d318a;const _0x1777a5=getCurrentColorClass(_0x4e5697);_0x20caa5[_0x59d055(0x2cc)][_0x59d055(0x62f)](_0x1777a5);const _0x5c2c40=document[_0x59d055(0x333)]('div');_0x5c2c40[_0x59d055(0x66e)][_0x59d055(0x500)]=_0x59d055(0x3ee),_0x5c2c40[_0x59d055(0x66e)][_0x59d055(0x6b5)]=_0x59d055(0x5fe),_0x5c2c40[_0x59d055(0x66e)][_0x59d055(0x3f8)]=_0x59d055(0x2ca);const _0x2c5407=_0x175cd4[_0x59d055(0x433)](!![]);_0x2c5407[_0x59d055(0x66e)]['display']=_0x59d055(0x352),_0x5c2c40[_0x59d055(0x443)](_0x2c5407),_0x5c2c40[_0x59d055(0x443)](_0x359f05),_0x5c2c40['appendChild'](_0x20caa5),_0x175cd4[_0x59d055(0x4f6)](_0x5c2c40),_0x359f05[_0x59d055(0x42e)]('click',_0x16f6b3=>{const _0x4de035=_0x59d055;_0x4e5697[_0x4de035(0x1a9)]&&(_0x4e5697[_0x4de035(0x1a9)]['remove'](),_0x4e5697['popupContainer']=null);const _0x350432=_0x359f05[_0x4de035(0x262)](),_0x2c2ae2=_0x350432[_0x4de035(0x52c)]+_0x350432['width']/0x2,_0x2f65db=_0x350432['top']+_0x350432[_0x4de035(0x65a)]/0x2,_0x4bd16a=(_0x2c2ae2-translateX)/scale,_0x2389f1=(_0x2f65db-translateY)/scale,_0x4bcd2a=0x258,_0x5151cc=0xc8;_0x4e5697[_0x4de035(0x1a9)]=document[_0x4de035(0x333)](_0x4de035(0x1c1));const _0x1dca64=_0x4e5697[_0x4de035(0x1a9)];_0x1dca64['style']['position']=_0x4de035(0x3e5),_0x1dca64[_0x4de035(0x66e)][_0x4de035(0x52c)]='0',_0x1dca64['style'][_0x4de035(0x422)]='0',_0x1dca64[_0x4de035(0x66e)]['width']=_0x4bcd2a+'px',_0x1dca64[_0x4de035(0x66e)]['height']=_0x5151cc+'px',_0x1dca64[_0x4de035(0x66e)][_0x4de035(0x209)]=_0x4de035(0x3f0)+(_0x4bd16a*scale+translateX-_0x4bcd2a/0x2)+_0x4de035(0x4be)+(_0x2389f1*scale+translateY-_0x5151cc/0x2)+_0x4de035(0x583),_0x1dca64[_0x4de035(0x66e)]['zIndex']='10000';const _0x1790f7=_0x20caa5['cloneNode'](!![]);_0x1790f7['style']['display']=_0x4de035(0x550),_0x1790f7['style']['position']=_0x4de035(0x469),_0x1790f7[_0x4de035(0x66e)][_0x4de035(0x3f8)]=_0x4de035(0x2ca),_0x1790f7[_0x4de035(0x66e)][_0x4de035(0x65a)]='100%',_0x1790f7[_0x4de035(0x66e)][_0x4de035(0x519)]='auto',_0x1dca64[_0x4de035(0x443)](_0x1790f7),document[_0x4de035(0x529)][_0x4de035(0x443)](_0x1dca64),activePopup=_0x1790f7,popupScrollPosition=0x0,updatePopupScroll(),_0x16f6b3['stopPropagation'](),analyzeVariables(_0x4e5697);});const _0x19a8c2=function(_0x2c72dd){const _0x4c9bb3=_0x59d055;_0x2c72dd['key'][_0x4c9bb3(0x546)]()==='x'&&activePopup===_0x20caa5&&(_0x2c5407['value']='',resetItemsList(_0x4e5697),_0x5c2c40[_0x4c9bb3(0x4f6)](_0x2c5407),document[_0x4c9bb3(0x402)](_0x4c9bb3(0x234),_0x19a8c2),_0x4e5697[_0x4c9bb3(0x1a9)]&&(_0x4e5697[_0x4c9bb3(0x1a9)][_0x4c9bb3(0x2b4)](),_0x4e5697['popupContainer']=null),activePopup=null,_0x2c72dd[_0x4c9bb3(0x26c)]());};document[_0x59d055(0x42e)](_0x59d055(0x234),_0x19a8c2),document[_0x59d055(0x42e)](_0x59d055(0x221),_0x210de5=>{const _0x3d64f0=_0x59d055;_0x4e5697['popupContainer']&&!_0x4e5697[_0x3d64f0(0x1a9)][_0x3d64f0(0x191)](_0x210de5['target'])&&!_0x5c2c40[_0x3d64f0(0x191)](_0x210de5[_0x3d64f0(0x671)])&&(_0x4e5697[_0x3d64f0(0x1a9)][_0x3d64f0(0x2b4)](),_0x4e5697[_0x3d64f0(0x1a9)]=null,activePopup=null);});}function analyzeVariables(_0x27aaf6){const _0xa01d25=_0x267d97;let _0x264551='';const _0x35c805=_0x27aaf6[_0xa01d25(0x636)][_0xa01d25(0x303)](_0xa01d25(0x5bc)),_0x194a41=_0x27aaf6[_0xa01d25(0x636)][_0xa01d25(0x303)]('.paragraph-input');if(_0x35c805&&_0x35c805['dataset'][_0xa01d25(0x535)])_0x264551=_0x35c805[_0xa01d25(0x2be)]['originalContent'];else _0x194a41&&(_0x264551=_0x194a41[_0xa01d25(0x355)]);const _0x1895cf=_0x27aaf6[_0xa01d25(0x636)][_0xa01d25(0x303)]('.variable-analysis-content');_0x1895cf[_0xa01d25(0x1ee)]='';const _0x37d241=extractVariables(_0x264551);if(_0x37d241['length']===0x0){_0x1895cf[_0xa01d25(0x1ee)]=_0xa01d25(0x199);return;}const _0x5c09fc=document[_0xa01d25(0x2e4)]('code-language-selector'),_0x3bbc00=_0x5c09fc?_0x5c09fc[_0xa01d25(0x355)]:_0xa01d25(0x388);_0x37d241[_0xa01d25(0x54e)](_0x36eefb=>{const _0x438e14=_0xa01d25;let _0x2e706d=![];_0x3bbc00===_0x438e14(0x291)?_0x2e706d=PYTHON_FUNCTION_BLACKLIST['includes'](_0x36eefb):_0x2e706d=FUNCTION_BLACKLIST[_0x438e14(0x633)](_0x36eefb);if(_0x2e706d)return;const _0x16d6d4=document[_0x438e14(0x333)](_0x438e14(0x201));_0x16d6d4['className']='variable-btn',_0x16d6d4['textContent']=_0x36eefb,_0x16d6d4[_0x438e14(0x2be)][_0x438e14(0x3fb)]=_0x36eefb,_0x16d6d4[_0x438e14(0x2be)][_0x438e14(0x567)]=_0x438e14(0x6a2),_0x16d6d4[_0x438e14(0x42e)](_0x438e14(0x221),_0x1d9a80=>{const _0x216568=_0x438e14;_0x1d9a80[_0x216568(0x4de)](),toggleVariableHighlight(_0x36eefb,_0x27aaf6,_0x16d6d4),highlightVariableInPopup(_0x36eefb,_0x27aaf6);}),_0x1895cf[_0x438e14(0x443)](_0x16d6d4);});if(_0x1895cf[_0xa01d25(0x4fa)]['length']===0x0){_0x1895cf['innerHTML']='<div\x20class=\x22no-variables-message\x22>所有變數都在黑名單中</div>';return;}const _0x2eb3e6=_0x27aaf6['element'][_0xa01d25(0x303)](_0xa01d25(0x4f7));_0x2eb3e6&&(_0x2eb3e6[_0xa01d25(0x2cc)][_0xa01d25(0x62f)](_0xa01d25(0x460)),_0x1895cf['style']['display']=_0xa01d25(0x550));}function highlightVariableInPopup(_0x4d2e71,_0x10a3eb){const _0x2e9515=_0x267d97,_0x16b247=_0x10a3eb[_0x2e9515(0x636)]['querySelector'](_0x2e9515(0x278));if(!_0x16b247)return;const _0x53aa1a=_0x16b247[_0x2e9515(0x2fd)](_0x2e9515(0x56f));_0x53aa1a['forEach'](_0x50cb16=>{const _0x3fc1a4=_0x2e9515,_0x223ea5=_0x50cb16[_0x3fc1a4(0x1a7)];_0x223ea5[_0x3fc1a4(0x301)](document['createTextNode'](_0x50cb16[_0x3fc1a4(0x367)]),_0x50cb16),_0x223ea5[_0x3fc1a4(0x3c4)]();});const _0x416cee=new RegExp(currentLanguage===_0x2e9515(0x291)?'\x5cb'+escapeRegExp(_0x4d2e71)+'\x5cb(?![([])':'\x5cb'+escapeRegExp(_0x4d2e71)+'\x5cb','g'),_0x488bbe=document[_0x2e9515(0x4c2)](_0x16b247,NodeFilter[_0x2e9515(0x1cb)]),_0x1cf5cf=[];let _0x5cad5f;while(_0x5cad5f=_0x488bbe[_0x2e9515(0x587)]()){_0x5cad5f[_0x2e9515(0x2de)][_0x2e9515(0x486)]()&&_0x416cee['test'](_0x5cad5f[_0x2e9515(0x2de)])&&_0x1cf5cf['push'](_0x5cad5f);}_0x1cf5cf[_0x2e9515(0x54e)](_0xc93d4f=>{const _0x674c05=_0x2e9515,_0x170f66=_0xc93d4f[_0x674c05(0x1a7)];if(_0x170f66[_0x674c05(0x581)]===_0x674c05(0x3fa)&&_0x170f66[_0x674c05(0x2cc)][_0x674c05(0x191)](_0x674c05(0x663)))return;const _0x2434e9=_0xc93d4f[_0x674c05(0x2de)],_0x2fde81=_0x2434e9[_0x674c05(0x610)](_0x416cee,_0x25e3bc=>{const _0x56d4f4=_0x674c05;return _0x56d4f4(0x59e)+_0x25e3bc+'</span>';}),_0x22baf0=document['createElement'](_0x674c05(0x1c1));_0x22baf0[_0x674c05(0x1ee)]=_0x2fde81;const _0x46bbaf=document['createDocumentFragment']();while(_0x22baf0[_0x674c05(0x615)]){_0x46bbaf[_0x674c05(0x443)](_0x22baf0['firstChild']);}_0x170f66[_0x674c05(0x301)](_0x46bbaf,_0xc93d4f);});}function escapeRegExp(_0x4de9a5){const _0x5a26de=_0x267d97;return _0x4de9a5[_0x5a26de(0x610)](/[.*+?^${}()|[\]\\]/g,_0x5a26de(0x498));}function toggleVariableHighlight(_0x26da82,_0x32d84f,_0x545fee){const _0x21cefb=_0x267d97,_0x439ff7=_0x545fee[_0x21cefb(0x2be)]['active']===_0x21cefb(0x2f5);_0x439ff7?(_0x545fee[_0x21cefb(0x2be)][_0x21cefb(0x567)]='false',_0x545fee[_0x21cefb(0x66e)][_0x21cefb(0x320)]='',resetConnectionColors(),removeVariableHighlights(_0x32d84f[_0x21cefb(0x636)]),connections[_0x21cefb(0x54e)](_0x352333=>{const _0x5f442c=_0x21cefb;if(_0x352333[_0x5f442c(0x23d)]){const _0x353a9b=nodes[_0x352333['toNode']];removeVariableHighlights(_0x353a9b[_0x5f442c(0x636)]);}})):(_0x545fee[_0x21cefb(0x2be)][_0x21cefb(0x567)]=_0x21cefb(0x2f5),_0x545fee[_0x21cefb(0x66e)]['backgroundColor']=_0x21cefb(0x1ea),highlightVariableConnections(_0x26da82,_0x32d84f),highlightVariableInPopup(_0x26da82,_0x32d84f));}function removeVariableHighlights(_0x59c62d){const _0x4153b3=_0x267d97,_0x35face=_0x59c62d[_0x4153b3(0x303)](_0x4153b3(0x278));if(!_0x35face)return;const _0x124c51=_0x35face[_0x4153b3(0x2fd)](_0x4153b3(0x56f));_0x124c51[_0x4153b3(0x54e)](_0x4ccf95=>{const _0x47564b=_0x4153b3,_0x5e1641=_0x4ccf95[_0x47564b(0x1a7)];_0x5e1641[_0x47564b(0x301)](document[_0x47564b(0x229)](_0x4ccf95['textContent']),_0x4ccf95),_0x5e1641[_0x47564b(0x3c4)]();});}function highlightVariableConnections(_0xa533d5,_0x3f8dd5){const _0x182ee6=_0x267d97;resetConnectionColors();const _0x4b0c5d=getNodeContent(_0x3f8dd5);if(!_0x4b0c5d[_0x182ee6(0x633)](_0xa533d5))return;const _0x2f703a=new Set();connections['forEach'](_0x158840=>{const _0x285c5f=_0x182ee6;if(_0x158840['fromNode']===_0x3f8dd5['id']){const _0x3d7692=nodes[_0x158840[_0x285c5f(0x311)]],_0x6aa264=getNodeContent(_0x3d7692);_0x6aa264['includes'](_0xa533d5)&&(_0x158840['highlighted']=!![],_0x2f703a['add'](_0x3d7692));}}),_0x2f703a[_0x182ee6(0x54e)](_0x43620e=>{highlightVariableInPopup(_0xa533d5,_0x43620e);}),drawConnections();}function _0x357f(_0x320d70,_0xff4d52){const _0x89bb37=_0x89bb();return _0x357f=function(_0x357fc1,_0x31a163){_0x357fc1=_0x357fc1-0x168;let _0x4d0a78=_0x89bb37[_0x357fc1];return _0x4d0a78;},_0x357f(_0x320d70,_0xff4d52);}function getNodeContent(_0x4f9c05){const _0x2d69e4=_0x267d97,_0x365eb3=_0x4f9c05[_0x2d69e4(0x636)]['querySelector'](_0x2d69e4(0x5bc)),_0x258016=_0x4f9c05[_0x2d69e4(0x636)][_0x2d69e4(0x303)](_0x2d69e4(0x40b));return _0x365eb3?.[_0x2d69e4(0x2be)][_0x2d69e4(0x535)]||_0x258016?.[_0x2d69e4(0x355)]||'';}function extractVariables(_0x53f709){const _0x4853d2=_0x267d97,_0x38a80c=new Set();if(currentLanguage==='python'){const _0x39298f=/^\s*([a-zA-Z_][a-zA-Z0-9_]*)\s*=/gm,_0x4d9ebd=/for\s+([a-zA-Z_][a-zA-Z0-9_]*)\s+in/g,_0xf569a4=/def\s+\w+\s*\(([^)]*)\)/g;let _0x45a1c2;while((_0x45a1c2=_0x39298f['exec'](_0x53f709))!==null){_0x38a80c['add'](_0x45a1c2[0x1]);}while((_0x45a1c2=_0x4d9ebd[_0x4853d2(0x3c3)](_0x53f709))!==null){_0x38a80c['add'](_0x45a1c2[0x1]);}while((_0x45a1c2=_0xf569a4['exec'](_0x53f709))!==null){_0x45a1c2[0x1][_0x4853d2(0x268)](',')[_0x4853d2(0x54e)](_0x5e894e=>{const _0x31b18d=_0x4853d2,_0xc1c3e7=_0x5e894e[_0x31b18d(0x486)]()['split']('=')[0x0];if(_0xc1c3e7)_0x38a80c['add'](_0xc1c3e7);});}}else{const _0x5c51fc=/(?:const|let|var)\s+([a-zA-Z_$][0-9a-zA-Z_$]*)/g;let _0x1ef1ec;while((_0x1ef1ec=_0x5c51fc[_0x4853d2(0x3c3)](_0x53f709))!==null){_0x38a80c['add'](_0x1ef1ec[0x1]);}}return Array[_0x4853d2(0x447)](_0x38a80c);}function resetConnectionColors(){const _0x5df786=_0x267d97;connections[_0x5df786(0x54e)](_0x58e6f6=>{const _0x41bc15=_0x5df786;_0x58e6f6[_0x41bc15(0x23d)]=![];}),drawConnections();}function getCurrentColorClass(_0x3d6ee2){const _0x515555=_0x267d97,_0x2ed790=_0x3d6ee2[_0x515555(0x636)];for(const _0xbba1ef of COLOR_CLASSES){if(_0x2ed790[_0x515555(0x2cc)]['contains'](_0xbba1ef))return _0xbba1ef;}return COLOR_CLASSES[0x0];}function changeNodeColor(_0x4fdcb8,_0x5dc79a){const _0x4f63fc=_0x267d97;_0x4fdcb8['element'][_0x4f63fc(0x2cc)][_0x4f63fc(0x2b4)](...COLOR_CLASSES);const _0x2a84bd=COLOR_CLASSES[_0x5dc79a%COLOR_CLASSES[_0x4f63fc(0x585)]];_0x4fdcb8['element'][_0x4f63fc(0x2cc)][_0x4f63fc(0x62f)](_0x2a84bd),_0x4fdcb8[_0x4f63fc(0x1a0)]=_0x5dc79a;const _0x40f356=_0x4fdcb8['element'][_0x4f63fc(0x303)]('.paragraph-popup');_0x40f356&&(_0x40f356[_0x4f63fc(0x2cc)][_0x4f63fc(0x2b4)](...COLOR_CLASSES),_0x40f356[_0x4f63fc(0x2cc)]['add'](_0x2a84bd));if(_0x4fdcb8[_0x4f63fc(0x1a9)]){const _0x57326e=_0x4fdcb8[_0x4f63fc(0x1a9)]['querySelector'](_0x4f63fc(0x278));_0x57326e&&(_0x57326e['classList'][_0x4f63fc(0x2b4)](...COLOR_CLASSES),_0x57326e[_0x4f63fc(0x2cc)][_0x4f63fc(0x62f)](_0x2a84bd));}}function resetItemsList(_0xe8090f){const _0x46551e=_0x267d97,_0x4184a7=_0xe8090f[_0x46551e(0x636)][_0x46551e(0x303)](_0x46551e(0x38c));_0x4184a7[_0x46551e(0x1ee)]='\x0a\x20\x20\x20\x20<div\x20class=\x22item\x22>\x0a\x20\x20\x20\x20\x20\x20<span\x20class=\x22drag-handle\x22>☰</span>\x0a\x20\x20\x20\x20\x20\x20<input\x20type=\x22text\x22\x20class=\x22item-text\x22\x20value=\x22\x22>\x0a\x20\x20\x20\x20\x20\x20<button\x20class=\x22add-node-btn\x22>+</button>\x0a\x20\x20\x20\x20\x20\x20<div\x20class=\x22output-port\x22\x20data-type=\x22output\x22></div>\x0a\x20\x20\x20\x20</div>\x0a\x20\x20',_0xe8090f[_0x46551e(0x661)]=[0x0];const _0x1c80eb=_0x4184a7['querySelector'](_0x46551e(0x575));setupAddNodeButton(_0x1c80eb,_0xe8090f,0x0,container),setupOutputPort(_0x1c80eb,_0xe8090f,0x0,container),setupItemDragAndDrop(_0xe8090f[_0x46551e(0x636)],_0xe8090f);const _0x12935a=_0xe8090f[_0x46551e(0x636)][_0x46551e(0x303)](_0x46551e(0x653));if(_0x12935a){const _0x1dc8d3=document[_0x46551e(0x333)](_0x46551e(0x5bf));_0x1dc8d3[_0x46551e(0x65b)]=_0x46551e(0x4da),_0x1dc8d3[_0x46551e(0x30e)]=_0x46551e(0x65f),_0x12935a[_0x46551e(0x4f6)](_0x1dc8d3);}}function toggleNodeColors(){const _0x2a4f40=_0x267d97;selectedNodes['forEach'](_0xed5b0c=>{const _0x525c97=_0x357f,_0x5f10cb=nodes[_0xed5b0c];if(_0x5f10cb){const _0x10967a=_0x5f10cb[_0x525c97(0x636)],_0x34c608=_0x10967a['querySelector'](_0x525c97(0x278)),_0x33a81e=_0x5f10cb[_0x525c97(0x1a0)]!==undefined?_0x5f10cb[_0x525c97(0x1a0)]:currentColorIndex,_0x3ff615=(_0x33a81e+0x1)%COLOR_CLASSES[_0x525c97(0x585)];COLOR_CLASSES['forEach'](_0x20c4bf=>{const _0x28b378=_0x525c97;_0x10967a[_0x28b378(0x2cc)]['remove'](_0x20c4bf);if(_0x34c608)_0x34c608[_0x28b378(0x2cc)][_0x28b378(0x2b4)](_0x20c4bf);});const _0xdea3e4=_0x10967a[_0x525c97(0x2cc)]['contains'](_0x525c97(0x639)),_0x4cf696=_0xdea3e4?_0x525c97(0x4d9)+COLOR_CLASSES[_0x3ff615]:COLOR_CLASSES[_0x3ff615];_0x10967a[_0x525c97(0x65b)]=_0x10967a[_0x525c97(0x65b)][_0x525c97(0x268)]('\x20')[_0x525c97(0x2fb)](_0x59f78c=>!COLOR_CLASSES[_0x525c97(0x633)](_0x59f78c)&&_0x59f78c!==_0x525c97(0x639))['join']('\x20')+'\x20'+_0x4cf696,_0x34c608&&(_0x34c608[_0x525c97(0x65b)]=_0x34c608[_0x525c97(0x65b)]['split']('\x20')['filter'](_0x400d49=>!COLOR_CLASSES[_0x525c97(0x633)](_0x400d49))[_0x525c97(0x37a)]('\x20')+'\x20'+COLOR_CLASSES[_0x3ff615]),_0x5f10cb['colorIndex']=_0x3ff615;}}),currentColorIndex=(currentColorIndex+0x1)%COLOR_CLASSES[_0x2a4f40(0x585)],showStatusMessage(_0x2a4f40(0x5e3),_0x2a4f40(0x613));}function createGroupNodeElement(_0x1c96ed,_0x741ddf,_0x156bff=_0x267d97(0x364)){const _0x2ff52e=_0x267d97,_0x14da08=document['createElement'](_0x2ff52e(0x1c1));return _0x14da08[_0x2ff52e(0x65b)]=_0x2ff52e(0x54a),_0x14da08['style'][_0x2ff52e(0x52c)]=_0x1c96ed+'px',_0x14da08[_0x2ff52e(0x66e)][_0x2ff52e(0x422)]=_0x741ddf+'px',_0x14da08[_0x2ff52e(0x1ee)]=_0x2ff52e(0x48f)+_0x156bff+_0x2ff52e(0x2e3),nodesContainer[_0x2ff52e(0x443)](_0x14da08),_0x14da08;}function _0x89bb(){const _0x97f9d8=['opacity','</textarea>\x0a\x20\x20\x20\x20\x20\x20','inline-block','console.groupEnd','selecting','drawImage','marker','getUint32','未找到任何顯示跳轉按鈕的節點','metaKey','stopImmediatePropagation','findLastIndex','Space','claim','loadedHtmlFunctions','&lt;','tan','clearColor','createStereoPanner','#A1887F','replace','highlight','clear','success','scan','firstChild','warning','pointData','navigator','次節點排列...','arguments','createComment','enum','sign','importKey','tagName','has','outgoing','MutationObserver','instantiate','reconnect','optionUpper','result','IntersectionObserver','currentAngle','download','createObjectStore','個)，自動終止','items','px,\x20','import','add','tanh','labelX','10px','includes','reduce','.node-header','element','顯示子','.header-port','transparent','RTCPeerConnection','FileReader','\x20文件\x20(','transform-container','createShader','currentEstimatedArrival','pass','code-language-selector','innerText','maxScroll','margin','defaultCharMapping','min','propertyIsEnumerable','localeCompare','已完成所有節點的增強版重新排列','measureText','keyup','checkVisibleNodesDebounce','size','readAsBinaryString','#FFD54F','recurringChecklist','reset','exportKey','.paragraph-container','variableAnalysisExpanded','atob','direction','getMilliseconds','compileShader','fromNode','height','className','處理文件時發生錯誤:\x20','階段1:\x20初始檢查缺失節點...','arrange_non_highlighted','貼上段落內容...','unlock','outputs','HTML','variable-highlight','push','test','newScale','insertBefore','touchmove','\x20或\x20','delete','nonlocal','scroll','.content-textarea','style','#64B5F6','\x0a\x20\x20\x20\x20\x20\x20<span\x20class=\x22drag-handle\x22>☰</span>\x0a\x20\x20\x20\x20\x20\x20<input\x20type=\x22text\x22\x20class=\x22item-text\x22\x20value=\x22','target','#4ECDC4','getActiveAttrib','getElementsByTagNameNS','clip','4yFPfGZ','uniform4f','stop-auto-process-btn','bytes','False','close','loading','share','未找到匹配的函數名稱','moveTo','isPointInPath','uniform3fv','floor','排列優化完成（部分操作有警告）','max','receiveReport','clearRect','transaction','memoryview','setUint32','eval','query','decode','__loader__','pause','outputIndex','hasAttribute','crypto.subtle','zfill','11566302icpHff','startsWith','removeItem','createAnalyser','mirrorAxisY','transferOut','createRenderbuffer','Enter','pow','actualRotation','matchAll','自動處理完成！','canvas-container','endswith','isConvertedToButton','false','find','yield','attributeChangedCallback','#81C784','vars','sqrt','stencilOpSeparate','cancelAnimationFrame','getExtension','\x22>\x0a\x20\x20\x20\x20\x20\x20<button\x20class=\x22add-node-btn\x22>+</button>\x0a\x20\x20\x20\x20\x20\x20<div\x20class=\x22output-port\x22\x20data-type=\x22output\x22></div>\x0a\x20\x20\x20\x20','.frame-node','finish','strokeRect','rect','#7986CB','hypot','\x22，但未找到對應函數內容','createGain','display','export','codePointAt','createCompilation','getParameter','isRenderbuffer','createDynamicsCompressor','.frame-content','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22add-node-btn\x22>+</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22output-port\x22\x20data-type=\x22output\x22></div>\x0a\x20\x20\x20\x20\x20\x20','expand_','createProgram','.input-port','bin','continue','minY','customWeatherImages','accept','__getattribute__','nodes-container','Date','formatTime','color-13','vertexAttrib2fv','toTimeString','matchIndex','opacity\x200.5s','RegExp','sheet_to_json','asinh','file-input','sessionStorage','show','newType','finalFloorNum','cancel','getChannelData','minX','onSubmittedWorkDone','已平衡排列\x20','階段7:\x20檢查完成狀態...','showSaveFilePicker','color-12','UTC','callback','ownKeys','locationNames','pointKey','XMLHttpRequest','已達到節點數量限制\x20(','getFramebufferAttachmentParameter','DateTimeFormat','\x22>\x0a\x20\x20\x20\x20\x20\x20<button\x20class=\x22add-node-btn\x22>+</button>\x0a\x20\x20\x20\x20\x20\x20<div\x20class=\x22output-port\x22\x20data-type=\x22output\x22\x20data-output-index=\x22','createIIRFilter','階段6:\x20處理缺失項目...','.ungroup-btn','capitalize','defineProperty','#FFA07A','3px\x20solid\x20#ffeb3b','document','step','createPipelineLayout','contains','Map','depthMask','createModel','newEstimatedArrival','color-11','canMakePayment','content','<div\x20class=\x22no-variables-message\x22>未找到變數聲明</div>','toUTCString','framebufferRenderbuffer','freeze','create','alignedPoint','\x22></div>\x0a\x20\x20\x20\x20','colorIndex','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22add-node-btn\x22>+</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22output-port\x22\x20data-type=\x22output\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','delattr','isFramebuffer','blendEquationSeparate','receiveFeatureReport','uniform2iv','parentNode','symmetryAxis','popupContainer','Symbol','isPrototypeOf','vertexAttrib2f','node-title','checked','Escape','startCompute','ListFormat','vibrationActuator.playEffect','getViewerPose','項目\x20','fround','translateX','elif','已更新\x20','INPUT','colorClass','maketrans','\x20個函數','newY','defaultMapping','getUTCHours','toLocaleDateString','div','\x0a\x20\x20\x20\x20<span\x20class=\x22drag-handle\x22>☰</span>\x0a\x20\x20\x20\x20<input\x20type=\x22text\x22\x20class=\x22item-text\x22\x20value=\x22\x22>\x0a\x20\x20\x20\x20<button\x20class=\x22add-node-btn\x22>+</button>\x0a\x20\x20\x20\x20<div\x20class=\x22output-port\x22\x20data-type=\x22output\x22\x20data-output-index=\x22','selectAlternateInterface','splitlines','void','output','FormData','cost','未命名節點','revokeObjectURL','SHOW_TEXT','onload','setValueAtTime','round','translateY','toInput','paragraph-popup','uniform4fv','contentEditable','transition','沒有找到空白節點','trip','defineProperties','Time','head','hex','accountingData','#FF8A65','createBiquadFilter','closePath','textAlign','expandtabs','typeof','byteLength','requestDevice','/50)，停止自動處理','padEnd','match','isBuffer','color-9','async','#4a90e2','getTime','keys','weatherValue','innerHTML','該節點沒有父節點連接','paragraph-btn','isFrame',')\x0a\x20\x20','NaN','nameInput','parse','color','suggestionsList','scale','沒有項目可生成','.frame-header,\x20.frame-footer,\x20.resize-handle','已將\x20','grab','#90A4AE','code','startswith','timeSlot','button','some','todoData','px)\x20scale(','setLineDash','switch','VideoEncoder','hidden','transform','isDragging','this','startY','setRemoteDescription','isalnum','getVertexAttrib','arr','load-html-btn','getSupportedExtensions','currentMirrorAxisMode','key','hint','rgba(30,\x2030,\x2030,\x200.7)','minimap','createBindGroup','nodes','console.info','setdefault','angle','12HatgNV','Object','read','uniformMatrix4fv','click','childStates','removeAttribute','color-14','isContentEditable','已斷開\x20','while','background','createTextNode','toLocaleString','restaurantTrimmed','selected','456QkagJq','implements','createTexture','CompileError','global','collapse_','const','keydown','getRandomFluorescentColor','node-search-btn','hasOwnProperty','then','closealllists','WeakMap','bindAttribLocation','Math','highlighted','cos','dispatchEvent','submit','顯示同名節點\x20(共\x20','import-selected-input','currentFoodQuantity','\x20個節點進行多列排列','endsWith','setInt8','isNaN','html-file-input','PluralRules','padding','flex','indexOf','創建節點\x20\x22','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22add-node-btn\x22>+</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22output-port\x22\x20data-type=\x22output\x22\x20data-output-index=\x22','collapsed','lstrip','rgba(255,\x20255,\x20255,\x200.3)','unshift','自動處理已超時終止','completed','end','Promise','node-project-','arrayBuffer','splice','wheel','connect','getOwnPropertyNames','range','requestPermission','touchY','console.table','copy','getBoundingClientRect','createWaveShaper','children-hidden','closeAllLists','texImage2D','count','split','del','toggle-variable-analysis-btn','navigator.credentials','preventDefault','outline','rpartition','borderRadius','unwrapKey','DOMContentLoaded','isdecimal','error','right','deleteShader','群組已成功解散','any','.paragraph-popup','newIndex','frame-node','baseCost','upper','fromCharCode','CustomEvent','\x22\x20的內容，但節點創建完成','\x22>\x0a\x20\x20<button\x20class=\x22delete-node-btn\x22>×</button>\x0a\x20\x20<div\x20class=\x22output-port\x20header-port\x22\x20data-type=\x22output\x22\x20style=\x22display:none\x22></div>\x0a</div>\x0a\x20\x20\x20\x20<div\x20class=\x22collapsible\x22>\x0a\x20\x20\x20\x20\x20\x20<textarea\x20class=\x22paragraph-input\x22\x20placeholder=\x22貼上段落內容...\x22></textarea>\x0a\x20\x20\x20\x20\x20\x20<div\x20class=\x22items\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22item\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22drag-handle\x22>☰</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22text\x22\x20class=\x22item-text\x22\x20value=\x22\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22add-node-btn\x22>+</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22output-port\x22\x20data-type=\x22output\x22\x20data-output-index=\x220\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20<div\x20class=\x22buttons-container\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22add-item-btn\x22>新加項目</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22hide-children-btn\x22>隱藏子</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22generate-btn\x22>一次生成</button>\x0a\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20<!--\x20變數分析容器\x20-->\x0a\x20\x20\x20\x20\x20\x20<div\x20class=\x22variable-analysis-container\x22>\x0a\x20\x20<div\x20class=\x22variable-analysis-container\x22>\x0a\x20\x20\x20\x20<div\x20class=\x22variable-analysis-header\x22>\x0a\x20\x20\x20\x20\x20\x20<span\x20class=\x22variable-analysis-title\x22>變數分析</span>\x0a\x20\x20\x20\x20\x20\x20<button\x20class=\x22toggle-variable-analysis-btn\x22>−</button>\x0a\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20<div\x20class=\x22variable-analysis-content\x22\x20style=\x22display:block\x22></div>\x0a\x20\x20</div>\x0a</div>\x0a\x20\x20','createLinearGradient','createUnidirectionalStream','linkProgram','Function','touchstart','node\x20','uniform2i','getOwnPropertyDescriptors','sendReport','輸出\x20','input','nextSibling','scrollTop','resume','buttonName','clickedY','python','.variable-btn[data-variable-name=\x22','__class__','format','getBufferParameter','toLocaleLowerCase','Blob','.generate-btn','getProgramParameter','requestMIDIAccess','cancelScheduledValues','writeValue','print','isExtensible','select-jump-nodes-btn','pop','removeAttributeNS','新框架','closeListHandler','PaymentRequest','None','list','point','\x0a.node.highlight-found\x20{\x0a\x20\x20box-shadow:\x200\x200\x2015px\x205px\x20rgba(0,\x20255,\x20255,\x200.7)\x20!important;\x0a\x20\x20transition:\x20box-shadow\x200.3s;\x0a}\x0a','rotate','錯誤:\x20請上傳\x20','lineWidth','已自動填入函數\x20\x22','deleteBuffer','arrange_highlighted','.add-item-btn','clientY','stringify','getAttribute','__bases__','remove','NumberFormat','validate','selectConfiguration','解散群組時發生錯誤','vertexAttrib4fv','warn','new','最終排列優化完成！','isochronousTransferIn','dataset','files','getFloat32','開始自動處理缺失節點\x20(當前完整節點:\x20','stop','readAsText','cbrt','unregister','compressedTexImage2D','/50)','remainingOrders','fillText','100%','startNotifications','classList','data-count','mouseup','existingId','bottom','setAttribute','dates','color-7','check_completion','getMonth','8px','toggle','err','repr','copyWithin','沒有可複製的內容','.htm','and','nodeValue','.collapse-btn','mousemove','...','application/json','\x22>\x0a\x20\x20\x20\x20\x20\x20<button\x20class=\x22delete-node-btn\x22>×</button>\x0a\x20\x20\x20\x20\x20\x20<button\x20class=\x22ungroup-btn\x22>解散</button>\x0a\x20\x20\x20\x20\x20\x20<div\x20class=\x22output-port\x20header-port\x22\x20data-type=\x22output\x22\x20style=\x22display:none\x22></div>\x0a\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20<div\x20class=\x22collapsible\x22>\x0a\x20\x20\x20\x20\x20\x20<div\x20class=\x22group-node-info\x22>包含\x200\x20個節點</div>\x0a\x20\x20\x20\x20\x20\x20<div\x20class=\x22items\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22item\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22text\x22\x20class=\x22item-text\x22\x20value=\x22\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22add-node-btn\x22>+</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22output-port\x22\x20data-type=\x22output\x22\x20data-output-index=\x220\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20</div>\x0a\x20\x20','getElementById','已折疊並對齊\x20','getContext','strokeStyle','ctrlKey','group','.node','bindFramebuffer','breakpoint','\x20個父節點連接','stroke','已複製\x20','arc','console.clear','getHours','offsetHeight','pixelStorei','true','已刪除\x20','onerror','10px\x2020px','abort','nodeId','filter','reject','querySelectorAll','arcTo','map','claimInterface','replaceChild','createConstantSource','querySelector','已垂直排列\x20','actualDeliveryManPosition','dragging','start','2px','getElementsByClassName','readAsArrayBuffer','bestMatchIndex','階段2:\x20折疊沒有紅框的節點...','.html,.htm','placeholder','addIceCandidate','datagrams','toNode','hash','request','innerHeight','新節點','int','getInt16','getUTCSeconds','isascii','#E57373','getOwnPropertyDescriptor','FloorPlanIsDrawingNumbers','fromOutput','requestFullscreen','delete-node-btn','backgroundColor','批量生成完成:\x20創建\x20','emoji','disconnect','now','padStart','closeFunc','Set','elevatorId','.jump-to-btn','drawElements','getSeconds','index','language','#45B7D1','toString','copy-btn','rindex','sort','createElement','segmentIndex','auto','clipboard','uniform2f','isupper','flush','頂部「','collapse_non_highlighted','requestPort','WeakSet','getAttributeNS','altKey','locals','history','object','update','partition','entries','vertexAttrib4f','shiftKey','default','setMilliseconds','isTexture','getCharacteristic','isochronousTransferOut','lower','createEvent','getElementsByTagName','getUniform','getUTCDay','none','issubclass','isidentifier','value','uniform4iv','fillStyle','repeat','所有項目名稱都有對應的節點！','cssText','decodeURIComponent','jump-hint','navigator.clipboard','incoming','resolve','routeSteps','所有缺失節點已處理完成！','toDateString','estimatedArrivalTime','群組節點','texParameteri','options','textContent','for','FloorPlanData','frozenset','format_map','toolbar-btn','requestAdapter','expm1','.node.highlight-found\x20.node-title','endPoint','preventSilentAccess','ljust','blendColor','var','expand_highlighted','register','LinkError','createPeriodicWave','color-0','join','trimRight','call','createBuffer','deriveBits','scissor','\x0a\x0a是否要刪除這些節點？','highlight-missing','labelY','connecting','\x22></div>\x0a\x20\x20','isFinite','isinstance','createBufferSource','html','item','.html','class','.items','__code__','color-6','getTimezoneOffset','generateKey','name','undefined','10190EsaUmc','exclude-duplicates-checkbox','getUTCDate','uniformMatrix2fv','throw','drawFocusIfNeeded','assign','getInputSources','updatePlaybackRate','FloorPlanOriginalPositions','Segmenter','stepIndex','equipmentList','parseFromString','setUint8','exponentialRampToValueAtTime','createDelay','float','setInt32','getRenderbufferParameter','outgoingConnections','useDownhillPreference','public','not','controlTransferOut','controlTransferIn','export-selected-btn','readyState','blendEquation','console.countReset','getPrimaryService','.frame-header,\x20.resize-handle','startX','endSession','extends','createFramebuffer','getInt8','blendFuncSeparate','restore','medium','brightness','toISOString','uniform1f','console.trace','beginPath','mapping','apply','uniform3iv','exec','normalize','stencilOp','action','URIError','href','replaceAll','項目\x201','79506ycbgRz','\x20個節點','createDocumentFragment','isEnabled','</textarea>\x0a\x20\x20\x20\x20\x20\x20<div\x20class=\x22update-dialog-buttons\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22update-dialog-cancel\x22>取消</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22update-dialog-confirm\x22>確認</button>\x0a\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20</div>\x0a\x20\x20','reversed','insert','#4DB6AC','reduceRight','targetAngle','byteOffset','customElements.define','.item-text','viewport','AudioEncoder','info','deltaY','copyTexImage2D','outlineOffset','sum','reverse','updateEmojisVisibilityButton','getContextAttributes','toLocaleUpperCase','Array','clientX','fixed','isdigit','getUint8','locationInput','centerX','dir','setMonth','\x0a<div\x20class=\x22node-header\x22>\x0a\x20\x20<div\x20class=\x22input-port\x22\x20data-type=\x22input\x22></div>\x0a\x20\x20<button\x20class=\x22collapse-btn\x22>-</button>\x0a\x20\x20<button\x20class=\x22jump-to-btn\x20hidden\x22\x20title=\x22跳轉到同名節點\x22></button>\x0a\x20\x20<input\x20type=\x22text\x22\x20class=\x22node-title\x22\x20value=\x22','Collator','relative','threshold','\x0a\x20\x20\x20\x20\x20\x20translate(','wait','send','maxY','\x0a\x20\x20\x20\x20.frame-node\x20{\x0a\x20\x20\x20\x20\x20\x20display:\x20flex;\x0a\x20\x20\x20\x20\x20\x20flex-direction:\x20column;\x0a\x20\x20\x20\x20\x20\x20min-width:\x20300px;\x0a\x20\x20\x20\x20\x20\x20min-height:\x20200px;\x0a\x20\x20\x20\x20\x20\x20position:\x20absolute;\x0a\x20\x20\x20\x20\x20\x20background-color:\x20#2d2d2d;\x20/*\x20暗黑背景\x20*/\x0a\x20\x20\x20\x20\x20\x20border:\x202px\x20solid\x20#444;\x20/*\x20暗黑邊框\x20*/\x0a\x20\x20\x20\x20\x20\x20border-radius:\x208px;\x0a\x20\x20\x20\x20\x20\x20overflow:\x20hidden;\x0a\x20\x20\x20\x20\x20\x20color:\x20#e0e0e0;\x20/*\x20暗黑文字顏色\x20*/\x0a\x20\x20\x20\x20\x20\x20user-select:\x20none;\x0a\x20\x20-webkit-user-select:\x20none;\x0a\x20\x20pointer-events:\x20auto;\x20/*\x20Ensure\x20it\x20can\x20still\x20be\x20dragged\x20*/\x0a\x20\x20\x20\x20}\x0a\x0a.frame-node\x20*\x20{\x0a\x20\x20user-select:\x20none;\x0a\x20\x20-webkit-user-select:\x20none;\x0a}\x0a.frame-header\x20{\x0a\x20\x20padding:\x208px;\x0a\x20\x20background-color:\x20var(--primary-bg);\x0a\x20\x20border-bottom:\x201px\x20solid\x20var(--border-color);\x0a\x20\x20display:\x20flex;\x0a\x20\x20justify-content:\x20space-between;\x0a\x20\x20align-items:\x20center;\x0a\x20\x20color:\x20var(--text-color);\x20/*\x20確保文字可讀\x20*/\x0a\x20\x20transition:\x20background-color\x200.2s\x20ease;\x20/*\x20添加平滑過渡\x20*/\x0a}\x0a\x0a.frame-header:hover\x20{\x0a\x20\x20background-color:\x20#252525;\x20/*\x20懸停時略微變亮\x20*/\x0a}\x0a\x0a.frame-content\x20{\x0a\x20\x20flex-grow:\x201;\x0a\x20\x20padding:\x208px;\x0a\x20\x20overflow-y:\x20auto;\x0a\x20\x20background-color:\x20var(--secondary-bg);\x0a\x20\x20color:\x20var(--text-color);\x0a}\x0a\x0a/*\x20自定義滾動條樣式\x20*/\x0a.frame-content::-webkit-scrollbar\x20{\x0a\x20\x20width:\x208px;\x0a}\x0a.frame-content::-webkit-scrollbar-track\x20{\x0a\x20\x20background:\x20var(--primary-bg);\x0a}\x0a.frame-content::-webkit-scrollbar-thumb\x20{\x0a\x20\x20background:\x20var(--border-color);\x0a\x20\x20border-radius:\x204px;\x0a}\x0a\x0a.frame-notes-container\x20{\x0a\x20\x20padding:\x208px;\x0a\x20\x20background-color:\x20var(--primary-bg);\x0a\x20\x20border-top:\x201px\x20solid\x20var(--border-color);\x0a\x20\x20border-bottom:\x201px\x20solid\x20var(--border-color);\x0a\x20\x20display:\x20flex;\x0a\x20\x20flex-direction:\x20column;\x0a\x20\x20gap:\x208px;\x0a\x20\x20color:\x20var(--text-color);\x0a}\x0a\x0a.frame-footer\x20{\x0a\x20\x20height:\x2016px;\x0a\x20\x20background-color:\x20var(--footer-bg);\x20/*\x20統一暗黑主題\x20*/\x0a\x20\x20cursor:\x20nwse-resize;\x0a\x20\x20transition:\x20background-color\x200.2s\x20ease;\x0a}\x0a\x0a.frame-footer:hover\x20{\x0a\x20\x20background-color:\x20#3a3a3a;\x20/*\x20懸停時變亮\x20*/\x0a}\x0a\x20\x20','strip','put','刪除所有空白NODE並提取名稱','width','createComputePipeline','SPAN','variableName','process_missing_items','item-placeholder','fetch','isProgram','lineData','\x5c.addEventListener\x5c(\x5cs*[\x27\x22]','removeEventListener','requestReferenceSpace','help','getItem','containedNodes','elevator','connectedCallback','isSealed','getTexParameter','.paragraph-input','mousedown','blur','deleteRenderbuffer','package','節點創建完成！當前完整節點數量:\x20','heightRatio','.node-list-description','bool','initial','open','deleteProgram','1000','marginBottom','closest','contrast','parseFloat','.py','.variable-analysis-content','shaderSource','expense','buffer','setMinutes','top','clearInterval','def','DOMParser','Global','extract-empty-nodes-btn','getShaderPrecisionFormat','groupEnd','uniform4i','\x20個空白節點，名稱已複製:\x20','setUTCMinutes','color-3','addEventListener','connection-canvas','change','raise','.drag-handle','cloneNode','axis','4px','set','asin','setPointerCapture','createExecution','null','customElements.whenDefined','\x20個節點（無子節點優先）','currentIndex','currentHistoryIndex','slot','normal','atan','uniform3f','appendChild','valueToAngle','vibrate','\x22></div>\x0a\x20\x20\x20\x20\x20\x20','from','getAllKeys','insertAdjacentElement','Boolean','subarray','focus','createRenderBundleEncoder','panning','導出錯誤:\x20','.header-port[data-output-index=\x22','case','createAnswer','getUint16','uniform1fv','importScripts','originalConnections','還有\x20','iter','setFullYear','debugFunctions','title-highlight','title','addRestaurantBtn','postMessage','setUTCFullYear','expanded','createWritable','tuple','boundedY','type','createShaderModule','evt','description','\x22\x20的內容','absolute','canvasX','log10','disable','write','connections','RelativeTimeFormat','getGamepads','finally','concat','#update-dialog-textarea','encrypt','2147483647','2.5','\x20個缺失節點，繼續處理...\x20(當前完整節點:\x20','graph','getattr','找到\x20','construct','5px\x200','parseInt','isContextLost','translate(','keyB','frame-note','depthRange','currentMonth','currentY','rgba(255,\x20204,\x200,\x200.8)','trim','檢測到可能死循環，強制終止處理','sorted','createElementNS','AudioDecoder','terminate','2542792TIYvgg','sheet_to_csv','.output-port:not(.header-port)','\x0a\x20\x20\x20\x20<div\x20class=\x22node-header\x22>\x0a\x20\x20\x20\x20\x20\x20<div\x20class=\x22input-port\x22\x20data-type=\x22input\x22></div>\x0a\x20\x20\x20\x20\x20\x20<button\x20class=\x22collapse-btn\x22>-</button>\x0a\x20\x20\x20\x20\x20\x20<button\x20class=\x22jump-to-btn\x20hidden\x22\x20title=\x22跳轉到同名節點\x22></button>\x0a\x20\x20\x20\x20\x20\x20<input\x20type=\x22text\x22\x20class=\x22node-title\x22\x20value=\x22','originalIndex','digest','decrypt','setDate','str','包含\x20','play','/50)，停止處理','\x5c$&','createObjectURL','Infinity','lambda','prompt','image','clz32','Locale','ascii','attachShader','.frame-note','imul','removeChild','strokeText','drawArrays','rgba(0,0,0,0.1)','.resize-handle','451218hVGzKa','&amp;','未找到函數\x20\x22','viewport-indicator','):\x0a','Delete','[\x27\x22]\x5cs*,\x5cs*([a-zA-Z_$][0-9a-zA-Z_$]*)','center','currentX','SyntaxError','checkFramebufferStatus','showStatusMessage','Error','jumpIndex','substr','.variable-btn','valueOf','point2','currentDailyTripDate','compile','localStorage','px,\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','已導入\x20','.frame-notes-container','rstrip','createTreeWalker','adoptedCallback','createRenderPipeline','載入失敗，請檢查文件格式','setOutput','side','currentKeys','\x20個未加入的節點名稱:\x20','assert','execCommand','createBidirectionalStream','carriedOrders','log2','expenses','String','isGroupNode','divmod','get','bindTexture','getShaderSource','getAll','checkModification','.delete-node-btn','transparent\x20','paragraph-input','message','createCommandEncoder','Number','stopPropagation','20px','console.group','DOMNodeRemoved','try','debug','clearHalt','search','getLineDash','originalState','成功解析\x20','select','lastIndexOf','.item.highlight-missing','load-btn','toolbar','node-list','hasOwn','balances','touch2','.collapsible','transferIn','setUTCHours','.toggle-variable-analysis-btn','replaceWith','.variable-analysis-container','stableId','createRadialGradient','children','197367dZjJot','.group-node-info','toUpperCase','findIndex','outline\x200.3s\x20ease','position','sortedCategories','deleteTexture','super','oct','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<textarea\x20class=\x22node-list-description\x22\x20data-node-id=\x22','greenTargetY','子節點)\x20|\x20','text','cosh','activeTexture','decodeAudioData','#FF6B6B','totalExpense','TypeError','/50)，停止所有自動化步驟','URL.revokeObjectURL','setInt16','deriveKey','catch','\x0a\x20\x20\x20\x20translate(','console.groupCollapsed','isArray','createOffer','createConvolver','overflow','已選取\x20','console.timeEnd','suspend','log','requestSession','resize','event','finalPoint','translate','bytearray','子節點)','data','rearrange-all-btn','\x20行)','performance.now','body','centerY','3685215KuUgtO','left','setSinkId','Response','rgba','toDataURL','small','createSampler','childCount','中間「','originalContent','with','sampleCoverage','abs','insertAdjacentHTML','location','missingCheckTimeout','vertexAttrib1fv','touchend','allPoints','copyTexSubImage2D','node','console.timeLog','clamp','\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20placeholder=\x22輸入節點描述...\x22>','encodeURIComponent','encodeURI','toLowerCase','uniformMatrix3fv','slice','ord','node\x20group-node','clearTimeout','zip','__import__','forEach','#9575CD','block','store','isCollapsed','執行第','Request','isChildrenHidden','.add-node-btn','.variable-analysis-header','.node-title','imageLocked','zIndex','更新內容並調整連接','\x0a\x20\x20\x20\x20\x20\x20<input\x20type=\x22text\x22\x20class=\x22item-text\x22\x20value=\x22','內容已更新，連接精確保持，已過濾黑名單函數','color-2','隱藏子','viewState','fromCodePoint','output-port\x20header-port','elementFromPoint','update-btn','__build_class__','log1p','active','deleteProperty','captureStream','stencilMaskSeparate','getComputedStyle','導入失敗，請檢查文件格式','preventExtensions','createPattern','.variable-highlight','saturate','console.count','aoa_to_sheet','fill','shift','.item','alert','setTransform','clickedText','rows','cursor','.json','Memory','writeText','px)\x0a\x20\x20\x20\x20scale(','casefold','exp','nodeName','attachShadow','px)\x0a\x20\x20\x20\x20','areaGroup','length','property','nextNode','rgba(255,\x20255,\x20255,\x200.5)','eventHandlers','callable','Table','Proxy','item-text','linearRampToValueAtTime','trimEnd','incomingConnections','travelForward','bounds','.node-name','pointY','rfind','deletedCount','setLocalDescription','sin','readPixels','color-8','def\x20','every','polygon','<span\x20class=\x22variable-highlight\x22>','\x20個未找到內容','stencilMask','isTripAutoSaveEnabled','bufferSubData','isShader','white','normalizedMonth','deleteDatabase','vertexAttrib3fv','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22drag-handle\x22>☰</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22text\x22\x20class=\x22item-text\x22\x20value=\x22','cullFace','canShare','highlight-same-name','texParameterf','\x20個包含跳轉按鈕的節點','保存錯誤:\x20','innerWidth','lock','Image','customElements.get','ResizeObserver','substring','newX','skipWaiting','offsetWidth','.output-port','Intl','gradient','複製失敗','.paragraph-btn','confirm','console','textarea','addColorStop','values','getActiveUniform','console.error','vertexAttrib1f','matches','3015UmdYuL','depthFunc','vertexAttrib3f','getAttachedShaders','setHours','setInput','categoryExpenses','readText','alignItems','getPrototypeOf','month','useProgram','getSelection','uniform3i','bufferData','#e0e0e0','requestAnimationFrame','scrollHeight','setPrototypeOf','RuntimeError','停止自動處理','numberCombination','請先選擇要排列的節點','10000','TEXTAREA','ceil','console.dir','getMinutes','highlight-found','已切換到下一個顏色','setUTCSeconds','Shift','發現\x20','RangeError','bezierCurveTo','next','btoa','shapeData','hasattr','fileName','\x20個選中節點','createContext','enumerate','await','stencilFunc','scrollIntoView','getUTCMinutes','requiredScaleY','chr','\x20個子節點','staticmethod','nodeDescriptions','uniform1i','editingCharMapping'];_0x89bb=function(){return _0x97f9d8;};return _0x89bb();}function initializeGroupNodeData(_0x4cdebf,_0x2e466a,_0x498df1,_0x4ccd25=[]){const _0x42fc2b=_0x267d97,_0x11eac6={'element':_0x4cdebf,'id':nodes[_0x42fc2b(0x585)],'outputs':[0x0],'x':_0x2e466a,'y':_0x498df1,'jumpIndex':0x0,'isGroupNode':!![],'containedNodes':_0x4ccd25,'originalConnections':[],'incomingConnections':[],'outgoingConnections':[]};_0x4ccd25[_0x42fc2b(0x54e)](_0x1d1ffe=>{const _0x4a3ef0=_0x42fc2b,_0x273902=nodes[_0x1d1ffe];if(_0x273902){const _0x5177ee={'nodeId':_0x273902['id'],'incoming':[],'outgoing':[]};connections[_0x4a3ef0(0x54e)](_0xae9cba=>{const _0x14a2f9=_0x4a3ef0;_0xae9cba[_0x14a2f9(0x311)]===_0x273902['id']&&_0x5177ee[_0x14a2f9(0x35e)][_0x14a2f9(0x664)]({'fromNode':_0xae9cba[_0x14a2f9(0x659)],'fromOutput':_0xae9cba['fromOutput'],'toNode':_0xae9cba[_0x14a2f9(0x311)]});}),connections[_0x4a3ef0(0x54e)](_0x22346e=>{const _0x69aa7a=_0x4a3ef0;_0x22346e[_0x69aa7a(0x659)]===_0x273902['id']&&_0x5177ee[_0x69aa7a(0x621)]['push']({'fromNode':_0x22346e[_0x69aa7a(0x659)],'fromOutput':_0x22346e['fromOutput'],'toNode':_0x22346e['toNode']});}),_0x11eac6[_0x4a3ef0(0x456)][_0x4a3ef0(0x664)](_0x5177ee);}}),nodes[_0x42fc2b(0x664)](_0x11eac6),updateGroupNodeInfo(_0x11eac6);const _0x2e50a7=_0x4cdebf[_0x42fc2b(0x303)](_0x42fc2b(0x329));return _0x2e50a7['addEventListener'](_0x42fc2b(0x221),_0x1c956d=>{const _0xcf50c8=_0x42fc2b;jumpToSameNameNode(_0x11eac6),_0x1c956d[_0xcf50c8(0x4de)]();}),_0x11eac6;}function updateGroupNodeInfo(_0x521ee8){const _0x276bb1=_0x267d97,_0x5a7321=_0x521ee8['element'][_0x276bb1(0x303)](_0x276bb1(0x4fc));_0x5a7321&&(_0x5a7321['textContent']=_0x276bb1(0x495)+_0x521ee8[_0x276bb1(0x406)][_0x276bb1(0x585)]+_0x276bb1(0x3cc));}function setupUngroupButton(_0x4f9997,_0x2a1f67){const _0x59a4ef=_0x267d97,_0x2942bb=_0x4f9997[_0x59a4ef(0x303)](_0x59a4ef(0x189));if(!_0x2942bb)return;_0x2942bb['replaceWith'](_0x2942bb[_0x59a4ef(0x433)](!![]));const _0x55bd86=_0x4f9997['querySelector'](_0x59a4ef(0x189));_0x55bd86['addEventListener']('click',_0x15b061=>{ungroupNodes(_0x2a1f67),_0x15b061['stopPropagation']();});}function ungroupNodes(_0x35ee78){const _0x5a8e3c=_0x267d97;if(!_0x35ee78||!_0x35ee78['isGroupNode'])return;try{_0x35ee78['containedNodes']['forEach'](_0x58c76b=>{const _0x316479=_0x357f,_0x234600=nodes[_0x58c76b];_0x234600&&(_0x234600[_0x316479(0x636)][_0x316479(0x66e)]['display']='');}),connections=connections[_0x5a8e3c(0x2fb)](_0x192ecc=>_0x192ecc[_0x5a8e3c(0x659)]!==_0x35ee78['id']&&_0x192ecc[_0x5a8e3c(0x311)]!==_0x35ee78['id']),_0x35ee78[_0x5a8e3c(0x456)]['forEach'](_0x15948c=>{const _0x5b4c8d=_0x5a8e3c;_0x15948c[_0x5b4c8d(0x35e)][_0x5b4c8d(0x54e)](_0x4be856=>{const _0x4b8f1b=_0x5b4c8d;connections[_0x4b8f1b(0x664)]({'fromNode':_0x4be856[_0x4b8f1b(0x659)],'fromOutput':_0x4be856[_0x4b8f1b(0x31d)],'toNode':_0x15948c[_0x4b8f1b(0x2fa)]});}),_0x15948c[_0x5b4c8d(0x621)][_0x5b4c8d(0x54e)](_0x92ff37=>{const _0x11735c=_0x5b4c8d;connections[_0x11735c(0x664)]({'fromNode':_0x15948c[_0x11735c(0x2fa)],'fromOutput':_0x92ff37['fromOutput'],'toNode':_0x92ff37[_0x11735c(0x311)]});});});const _0x4ffd62=nodes['findIndex'](_0x528e34=>_0x528e34['id']===_0x35ee78['id']);_0x4ffd62!==-0x1&&(nodes[_0x5a8e3c(0x259)](_0x4ffd62,0x1),_0x35ee78['element'][_0x5a8e3c(0x2b4)]()),nodes[_0x5a8e3c(0x54e)]((_0x12477e,_0x63b3ca)=>{_0x12477e['id']=_0x63b3ca;}),connections[_0x5a8e3c(0x54e)](_0x5dbe24=>{const _0x545494=_0x5a8e3c;if(_0x5dbe24[_0x545494(0x659)]>_0x35ee78['id'])_0x5dbe24[_0x545494(0x659)]--;if(_0x5dbe24[_0x545494(0x311)]>_0x35ee78['id'])_0x5dbe24[_0x545494(0x311)]--;}),drawConnections(),updateNodeList(),showStatusMessage(_0x5a8e3c(0x276),_0x5a8e3c(0x613));}catch(_0x31f2f1){showStatusMessage(_0x5a8e3c(0x2b8),'error');}}function createGroupNodeFromSelection(){const _0x10902d=_0x267d97;if(selectedNodes['size']<0x2)return;const _0xde449f=Array['from'](selectedNodes)[_0x10902d(0x2ff)](_0x6b3eaf=>nodes[_0x6b3eaf])[_0x10902d(0x2fb)](_0x52d040=>_0x52d040&&!_0x52d040[_0x10902d(0x4d1)]);if(_0xde449f[_0x10902d(0x585)]<0x2)return;let _0x138e6c=Infinity,_0x40c019=Infinity,_0x32c037=-Infinity,_0x56d4f0=-Infinity;_0xde449f['forEach'](_0x19eebe=>{const _0x127950=_0x10902d,_0x2c80cc=_0x19eebe[_0x127950(0x636)][_0x127950(0x262)]();_0x138e6c=Math[_0x127950(0x646)](_0x138e6c,_0x19eebe['x']),_0x40c019=Math[_0x127950(0x646)](_0x40c019,_0x19eebe['y']),_0x32c037=Math[_0x127950(0x684)](_0x32c037,_0x19eebe['x']+_0x2c80cc[_0x127950(0x3f8)]/scale),_0x56d4f0=Math[_0x127950(0x684)](_0x56d4f0,_0x19eebe['y']+_0x2c80cc[_0x127950(0x65a)]/scale);});const _0x10f1f7=(_0x138e6c+_0x32c037)/0x2,_0xe0aa02=(_0x40c019+_0x56d4f0)/0x2,_0x545de9=createGroupNodeElement(_0x10f1f7,_0xe0aa02),_0x5e92a3=initializeGroupNodeData(_0x545de9,_0x10f1f7,_0xe0aa02,_0xde449f[_0x10902d(0x2ff)](_0xbfdefb=>_0xbfdefb['id']));_0xde449f[_0x10902d(0x54e)](_0x418a4b=>{const _0xf9c2c9=_0x10902d;_0x418a4b['element']['style'][_0xf9c2c9(0x6b5)]=_0xf9c2c9(0x352);});const _0x5b11ba=_0x545de9['querySelector']('.items');_0x5b11ba['innerHTML']='';const _0x2a31ee=new Map();return _0xde449f[_0x10902d(0x54e)](_0x4ee4b8=>{connections['forEach'](_0x410539=>{const _0x50f500=_0x357f;_0x410539[_0x50f500(0x659)]===_0x4ee4b8['id']&&(!_0x2a31ee[_0x50f500(0x620)](_0x410539[_0x50f500(0x31d)])&&_0x2a31ee[_0x50f500(0x436)](_0x410539[_0x50f500(0x31d)],[]),_0x2a31ee[_0x50f500(0x4d3)](_0x410539['fromOutput'])[_0x50f500(0x664)]({'toNode':_0x410539[_0x50f500(0x311)],'nodeTitle':nodes[_0x410539[_0x50f500(0x311)]][_0x50f500(0x636)][_0x50f500(0x303)](_0x50f500(0x558))[_0x50f500(0x355)]}));});}),_0x2a31ee[_0x10902d(0x54e)]((_0x45fa3f,_0x1421bb)=>{const _0x130780=_0x10902d,_0x5b8911=document['createElement'](_0x130780(0x1c1));_0x5b8911[_0x130780(0x65b)]=_0x130780(0x389);const _0x226123=_0x45fa3f[0x0]['nodeTitle']||_0x130780(0x28a)+(_0x1421bb+0x1);_0x5b8911[_0x130780(0x1ee)]=_0x130780(0x55c)+escapeHtml(_0x226123)+'\x22>\x0a\x20\x20\x20\x20\x20\x20<button\x20class=\x22add-node-btn\x22>+</button>\x0a\x20\x20\x20\x20\x20\x20<div\x20class=\x22output-port\x22\x20data-type=\x22output\x22\x20data-output-index=\x22'+_0x1421bb+'\x22></div>\x0a\x20\x20\x20\x20',_0x5b11ba[_0x130780(0x443)](_0x5b8911),setupAddNodeButton(_0x5b8911,_0x5e92a3,_0x1421bb,container),setupOutputPort(_0x5b8911,_0x5e92a3,_0x1421bb,container);}),processGroupNodeConnections(_0x5e92a3,_0xde449f),setupGroupNodeEvents(_0x545de9,_0x5e92a3),clearSelection(),_0x5e92a3;}function processGroupNodeConnections(_0x1f0252,_0x16df1f){const _0x5bf422=_0x267d97,_0x4849f0=new Set(_0x16df1f['map'](_0x10055b=>_0x10055b['id']));_0x1f0252[_0x5bf422(0x590)]=connections[_0x5bf422(0x2fb)](_0xa528fe=>!_0x4849f0[_0x5bf422(0x620)](_0xa528fe[_0x5bf422(0x659)])&&_0x4849f0[_0x5bf422(0x620)](_0xa528fe[_0x5bf422(0x311)]))['map'](_0x193669=>({'fromNode':_0x193669[_0x5bf422(0x659)],'fromOutput':_0x193669['fromOutput'],'toNode':_0x193669['toNode']})),_0x1f0252['outgoingConnections']=connections[_0x5bf422(0x2fb)](_0x5ab70c=>_0x4849f0[_0x5bf422(0x620)](_0x5ab70c[_0x5bf422(0x659)])&&!_0x4849f0[_0x5bf422(0x620)](_0x5ab70c[_0x5bf422(0x311)]))['map'](_0x28d225=>({'fromNode':_0x28d225[_0x5bf422(0x659)],'fromOutput':_0x28d225[_0x5bf422(0x31d)],'toNode':_0x28d225['toNode']})),connections=connections[_0x5bf422(0x2fb)](_0x13a36c=>!_0x4849f0['has'](_0x13a36c['fromNode'])&&!_0x4849f0[_0x5bf422(0x620)](_0x13a36c['toNode']));const _0x16ffbb=new Set();_0x1f0252[_0x5bf422(0x590)][_0x5bf422(0x54e)](_0x45af60=>{const _0x34a649=_0x5bf422;_0x16ffbb[_0x34a649(0x62f)](_0x45af60[_0x34a649(0x659)]),connections[_0x34a649(0x664)]({'fromNode':_0x45af60[_0x34a649(0x659)],'fromOutput':_0x45af60[_0x34a649(0x31d)],'toNode':_0x1f0252['id']});});const _0x1ca55d=new Map();_0x1f0252[_0x5bf422(0x3a7)][_0x5bf422(0x54e)](_0x2524b2=>{const _0x5e40ce=_0x5bf422;!_0x1ca55d[_0x5e40ce(0x620)](_0x2524b2[_0x5e40ce(0x31d)])&&_0x1ca55d[_0x5e40ce(0x436)](_0x2524b2['fromOutput'],[]),_0x1ca55d[_0x5e40ce(0x4d3)](_0x2524b2[_0x5e40ce(0x31d)])['push'](_0x2524b2[_0x5e40ce(0x311)]),connections['push']({'fromNode':_0x1f0252['id'],'fromOutput':_0x2524b2['fromOutput'],'toNode':_0x2524b2[_0x5e40ce(0x311)]});}),_0x1ca55d[_0x5bf422(0x64d)]>0x0&&(_0x1f0252['outputs']=Array[_0x5bf422(0x447)](_0x1ca55d[_0x5bf422(0x1ec)]()),updateGroupNodeItems(_0x1f0252)),drawConnections();}function updateGroupNodeItems(_0x564dd8){const _0x38d157=_0x267d97,_0x3cc311=_0x564dd8[_0x38d157(0x636)][_0x38d157(0x303)](_0x38d157(0x38c));_0x3cc311[_0x38d157(0x1ee)]='',_0x564dd8[_0x38d157(0x661)][_0x38d157(0x54e)]((_0x39937d,_0x3c03e1)=>{const _0x588af8=_0x38d157,_0x526ebf=document[_0x588af8(0x333)](_0x588af8(0x1c1));_0x526ebf[_0x588af8(0x65b)]=_0x588af8(0x389),_0x526ebf[_0x588af8(0x1ee)]='\x0a\x20\x20\x20\x20\x20\x20<input\x20type=\x22text\x22\x20class=\x22item-text\x22\x20value=\x22輸出\x20'+(_0x3c03e1+0x1)+_0x588af8(0x186)+_0x39937d+_0x588af8(0x19f),_0x3cc311[_0x588af8(0x443)](_0x526ebf),setupAddNodeButton(_0x526ebf,_0x564dd8,_0x39937d,container),setupOutputPort(_0x526ebf,_0x564dd8,_0x39937d,container);});}function setupGroupNodeEvents(_0x35f2e7,_0x246c60){setupNodeDrag(_0x35f2e7,_0x246c60),setupCollapseButton(_0x35f2e7,_0x246c60),setupDeleteButton(_0x35f2e7,_0x246c60),setupUngroupButton(_0x35f2e7,_0x246c60),setupTitleInput(_0x35f2e7),setupPortEvents(_0x35f2e7,_0x246c60);}function createNode(_0x30c01d,_0x56f2ba,_0x47252f='節點',_0x4ba9d7=_0x267d97(0x440),_0x2b3d48=null){const _0x2e7328=_0x267d97;if(_0x4ba9d7===_0x2e7328(0x2e9)){const _0x145bdd=createGroupNodeElement(_0x30c01d,_0x56f2ba,_0x47252f),_0x5b4ea8=initializeGroupNodeData(_0x145bdd,_0x30c01d,_0x56f2ba);return setupGroupNodeEvents(_0x145bdd,_0x5b4ea8),_0x5b4ea8;}else{const _0x26d886=createNodeElement(_0x30c01d,_0x56f2ba,_0x47252f),_0x3c3c68=initializeNodeData(_0x26d886,_0x30c01d,_0x56f2ba);if(_0x2b3d48){const _0x3a11ec=_0x26d886[_0x2e7328(0x303)](_0x2e7328(0x40b));if(_0x3a11ec){_0x3a11ec[_0x2e7328(0x355)]=_0x2b3d48;const _0x2a52a0=new Event(_0x2e7328(0x28b),{'bubbles':!![]});_0x3a11ec[_0x2e7328(0x23f)](_0x2a52a0),setTimeout(()=>{analyzeVariables(_0x3c3c68);},0x32);}}return setupNodeDrag(_0x26d886,_0x3c3c68),setupCollapseButton(_0x26d886,_0x3c3c68),setupDeleteButton(_0x26d886,_0x3c3c68),setupTitleInput(_0x26d886),setupParagraphInput(_0x26d886,_0x3c3c68),setupInitialAddButton(_0x26d886,_0x3c3c68),setupAddItemButton(_0x26d886,_0x3c3c68),setupHideChildrenButton(_0x26d886,_0x3c3c68),setupGenerateButton(_0x26d886,_0x3c3c68),setupPortEvents(_0x26d886,_0x3c3c68),updateNodePosition(_0x3c3c68),setupVariableAnalysis(_0x26d886,_0x3c3c68),_0x3c3c68;}}function setupCollapseButton(_0x42da5f,_0x388100){const _0x376053=_0x267d97,_0x236ea1=_0x42da5f[_0x376053(0x303)](_0x376053(0x2df));_0x236ea1['addEventListener'](_0x376053(0x221),_0x490b94=>{const _0x3a919d=_0x376053;_0x42da5f[_0x3a919d(0x2cc)][_0x3a919d(0x2d7)]('collapsed');const _0xace3da=_0x42da5f['querySelector'](_0x3a919d(0x4f2)),_0x19bad9=_0x42da5f[_0x3a919d(0x2fd)]('.output-port:not(.header-port)'),_0x4b0d07=_0x42da5f[_0x3a919d(0x303)](_0x3a919d(0x638));if(_0x42da5f[_0x3a919d(0x2cc)][_0x3a919d(0x191)]('collapsed')){_0x19bad9['forEach'](_0x19ab51=>_0x19ab51[_0x3a919d(0x66e)][_0x3a919d(0x6b5)]=_0x3a919d(0x352));if(!_0x4b0d07){const _0xf68cde=document[_0x3a919d(0x333)](_0x3a919d(0x1c1));_0xf68cde['className']='output-port\x20header-port',_0xf68cde[_0x3a919d(0x2be)][_0x3a919d(0x464)]=_0x3a919d(0x1c6),_0xf68cde[_0x3a919d(0x66e)]['display']=_0x3a919d(0x550),_0x42da5f[_0x3a919d(0x303)]('.node-header')[_0x3a919d(0x443)](_0xf68cde);}else _0x4b0d07[_0x3a919d(0x66e)][_0x3a919d(0x6b5)]=_0x3a919d(0x550);_0x236ea1[_0x3a919d(0x367)]='+';}else{_0x19bad9['forEach'](_0x2b4283=>_0x2b4283['style']['display']=_0x3a919d(0x550));if(_0x4b0d07)_0x4b0d07[_0x3a919d(0x66e)][_0x3a919d(0x6b5)]='none';_0x236ea1[_0x3a919d(0x367)]='-';}drawConnections(),_0x490b94['stopPropagation']();});}function createNodeElement(_0x7dce8c,_0x4b35ff,_0x70df4a){const _0x23ddcc=_0x267d97,_0x456a17=document['createElement'](_0x23ddcc(0x1c1));return _0x456a17[_0x23ddcc(0x65b)]=_0x23ddcc(0x286)+COLOR_CLASSES[0x0],_0x456a17[_0x23ddcc(0x66e)][_0x23ddcc(0x52c)]=_0x7dce8c+'px',_0x456a17[_0x23ddcc(0x66e)][_0x23ddcc(0x422)]=_0x4b35ff+'px',_0x456a17[_0x23ddcc(0x1ee)]=_0x23ddcc(0x3ec)+_0x70df4a+_0x23ddcc(0x280),nodesContainer[_0x23ddcc(0x443)](_0x456a17),_0x456a17;}function setupVariableAnalysis(_0x4748b8,_0x574c57){const _0x1f2c8a=_0x267d97,_0x328d80=_0x4748b8[_0x1f2c8a(0x303)](_0x1f2c8a(0x557)),_0x4cdb98=_0x4748b8[_0x1f2c8a(0x303)](_0x1f2c8a(0x4f5)),_0x2abd04=_0x4748b8[_0x1f2c8a(0x303)](_0x1f2c8a(0x41d));_0x328d80['addEventListener'](_0x1f2c8a(0x221),_0x3323b1=>{const _0x329be7=_0x1f2c8a;!_0x3323b1['target'][_0x329be7(0x2cc)]['contains'](_0x329be7(0x26a))&&toggleAnalysis(_0x2abd04,_0x4cdb98);}),_0x4cdb98[_0x1f2c8a(0x42e)]('click',_0x54b5e7=>{const _0x458ab4=_0x1f2c8a;_0x54b5e7[_0x458ab4(0x4de)](),toggleAnalysis(_0x2abd04,_0x4cdb98);}),_0x2abd04[_0x1f2c8a(0x66e)][_0x1f2c8a(0x6b5)]=_0x1f2c8a(0x550),_0x4cdb98[_0x1f2c8a(0x367)]='−';}function toggleAnalysis(_0x43ba90,_0xe575a4){const _0x2bab03=_0x267d97;_0x43ba90[_0x2bab03(0x66e)][_0x2bab03(0x6b5)]==='none'?(_0x43ba90['style'][_0x2bab03(0x6b5)]=_0x2bab03(0x550),_0xe575a4['textContent']='−'):(_0x43ba90['style'][_0x2bab03(0x6b5)]='none',_0xe575a4[_0x2bab03(0x367)]='+');}function setupItemDragAndDrop(_0x5c2117,_0x4dd3bb){const _0x9c6b34=_0x267d97,_0x2e83cc=_0x5c2117['querySelector']('.items');_0x2e83cc[_0x9c6b34(0x2fd)](_0x9c6b34(0x432))[_0x9c6b34(0x54e)](_0x1af4fd=>{const _0x5983de=_0x9c6b34;_0x1af4fd[_0x5983de(0x42e)](_0x5983de(0x40c),_0x51eaba=>{const _0x263b0a=_0x5983de;if(_0x51eaba[_0x263b0a(0x201)]!==0x0)return;const _0x49d7a7=_0x51eaba[_0x263b0a(0x671)][_0x263b0a(0x419)]('.item');if(!_0x49d7a7)return;_0x51eaba[_0x263b0a(0x26c)](),_0x4dd3bb[_0x263b0a(0x636)][_0x263b0a(0x2fd)](_0x263b0a(0x5b8))[_0x263b0a(0x54e)](_0x2db07c=>{const _0x568709=_0x263b0a;!_0x2db07c[_0x568709(0x2be)]['originalIndex']&&(_0x2db07c[_0x568709(0x2be)][_0x568709(0x490)]=_0x2db07c['dataset'][_0x568709(0x68f)]||Array[_0x568709(0x447)](_0x2e83cc[_0x568709(0x4fa)])['indexOf'](_0x2db07c['closest'](_0x568709(0x575))));});const _0x270a95=Array['from'](_0x2e83cc[_0x263b0a(0x4fa)]),_0x400451=_0x270a95[_0x263b0a(0x24c)](_0x49d7a7),_0x40b03f={'startX':_0x51eaba[_0x263b0a(0x3e4)],'startY':_0x51eaba['clientY'],'item':_0x49d7a7,'originalIndex':_0x400451,'currentIndex':_0x400451,'placeholder':createPlaceholder(_0x49d7a7),'isDragging':![]};function _0x29763f(_0x381381){const _0x532d6a=_0x263b0a;if(!_0x40b03f[_0x532d6a(0x20a)]){const _0x4fd3b5=_0x381381[_0x532d6a(0x3e4)]-_0x40b03f[_0x532d6a(0x3b3)],_0x102ddd=_0x381381['clientY']-_0x40b03f['startY'];if(Math[_0x532d6a(0x6a8)](_0x4fd3b5*_0x4fd3b5+_0x102ddd*_0x102ddd)<0x5)return;_0x40b03f['isDragging']=!![],_0x49d7a7[_0x532d6a(0x2cc)][_0x532d6a(0x62f)]('dragging'),_0x49d7a7['style'][_0x532d6a(0x500)]=_0x532d6a(0x469),_0x49d7a7[_0x532d6a(0x66e)][_0x532d6a(0x55a)]=_0x532d6a(0x417),_0x49d7a7[_0x532d6a(0x66e)][_0x532d6a(0x5fc)]='0.8',_0x2e83cc['insertBefore'](_0x40b03f['placeholder'],_0x49d7a7);}_0x49d7a7[_0x532d6a(0x66e)][_0x532d6a(0x52c)]=_0x381381[_0x532d6a(0x3e4)]-_0x40b03f[_0x532d6a(0x3b3)]+'px',_0x49d7a7['style'][_0x532d6a(0x422)]=_0x381381[_0x532d6a(0x2b0)]-_0x40b03f[_0x532d6a(0x20c)]+'px';const _0x1c119a=Array[_0x532d6a(0x447)](_0x2e83cc[_0x532d6a(0x4fa)])[_0x532d6a(0x2fb)](_0xd02dfd=>_0xd02dfd!==_0x40b03f['placeholder']),_0x12e565=_0x49d7a7[_0x532d6a(0x262)](),_0x297054=_0x12e565[_0x532d6a(0x422)]+_0x12e565[_0x532d6a(0x65a)]/0x2;for(let _0x327f4a=0x0;_0x327f4a<_0x1c119a['length'];_0x327f4a++){const _0x29d332=_0x1c119a[_0x327f4a];if(_0x29d332===_0x49d7a7)continue;const _0x3f6419=_0x29d332[_0x532d6a(0x262)](),_0xab8452=_0x3f6419[_0x532d6a(0x422)]+_0x3f6419[_0x532d6a(0x65a)]/0x2;if(Math[_0x532d6a(0x538)](_0x297054-_0xab8452)<_0x3f6419[_0x532d6a(0x65a)]/0x2){const _0x39d5ca=_0x327f4a;_0x39d5ca!==_0x40b03f[_0x532d6a(0x43d)]&&(_0x2e83cc[_0x532d6a(0x667)](_0x40b03f['placeholder'],_0x39d5ca>_0x40b03f[_0x532d6a(0x43d)]?_0x1c119a[_0x39d5ca][_0x532d6a(0x28c)]:_0x1c119a[_0x39d5ca]),_0x40b03f[_0x532d6a(0x43d)]=_0x39d5ca);break;}}}function _0x451030(){const _0x5491ac=_0x263b0a;document[_0x5491ac(0x402)](_0x5491ac(0x2e0),_0x29763f),document['removeEventListener'](_0x5491ac(0x2ce),_0x451030),_0x40b03f[_0x5491ac(0x20a)]&&(_0x2e83cc['insertBefore'](_0x49d7a7,_0x40b03f[_0x5491ac(0x30e)]),_0x49d7a7[_0x5491ac(0x2cc)][_0x5491ac(0x2b4)](_0x5491ac(0x306)),_0x49d7a7[_0x5491ac(0x66e)][_0x5491ac(0x500)]='',_0x49d7a7[_0x5491ac(0x66e)][_0x5491ac(0x52c)]='',_0x49d7a7[_0x5491ac(0x66e)][_0x5491ac(0x422)]='',_0x49d7a7[_0x5491ac(0x66e)][_0x5491ac(0x55a)]='',_0x49d7a7['style'][_0x5491ac(0x5fc)]='',_0x40b03f[_0x5491ac(0x490)]!==_0x40b03f[_0x5491ac(0x43d)]&&(updateConnectionsAfterDrag(_0x4dd3bb,_0x40b03f[_0x5491ac(0x490)],_0x40b03f[_0x5491ac(0x43d)]),drawConnections(),updateNodePosition(_0x4dd3bb),updateNodeList())),_0x40b03f[_0x5491ac(0x30e)][_0x5491ac(0x2b4)]();}document[_0x263b0a(0x42e)](_0x263b0a(0x2e0),_0x29763f),document[_0x263b0a(0x42e)](_0x263b0a(0x2ce),_0x451030);});});}function updateConnectionsAfterDrag(_0x1778e4,_0x417e27,_0x28dd11){const _0x4a0cde=_0x267d97,_0x3757d9=Array[_0x4a0cde(0x447)](_0x1778e4[_0x4a0cde(0x636)][_0x4a0cde(0x2fd)](_0x4a0cde(0x575))),_0x581ad2={};_0x3757d9[_0x4a0cde(0x54e)]((_0x19aff8,_0x1b8d54)=>{const _0x33da46=_0x4a0cde,_0x4fdcb0=_0x19aff8[_0x33da46(0x303)](_0x33da46(0x5b8)),_0x379575=parseInt(_0x4fdcb0[_0x33da46(0x2be)][_0x33da46(0x490)]);_0x581ad2[_0x379575]=_0x1b8d54,_0x4fdcb0['dataset']['outputIndex']=_0x1b8d54,_0x4fdcb0[_0x33da46(0x2be)]['originalIndex']=_0x1b8d54;}),_0x1778e4[_0x4a0cde(0x661)]=Array(_0x3757d9['length'])[_0x4a0cde(0x573)](0x0),connections['forEach'](_0x499253=>{const _0x1f0535=_0x4a0cde;_0x499253[_0x1f0535(0x659)]===_0x1778e4['id']&&_0x581ad2[_0x499253[_0x1f0535(0x31d)]]!==undefined&&(_0x499253[_0x1f0535(0x31d)]=_0x581ad2[_0x499253[_0x1f0535(0x31d)]]);}),drawConnections();}function createPlaceholder(_0x9a0d80){const _0x2f8d0f=_0x267d97,_0x559b7d=document[_0x2f8d0f(0x333)]('div');return _0x559b7d[_0x2f8d0f(0x65b)]=_0x2f8d0f(0x3fd),_0x559b7d[_0x2f8d0f(0x66e)][_0x2f8d0f(0x65a)]=_0x9a0d80[_0x2f8d0f(0x2f3)]+'px',_0x559b7d[_0x2f8d0f(0x66e)][_0x2f8d0f(0x644)]=_0x2f8d0f(0x47c),_0x559b7d[_0x2f8d0f(0x66e)][_0x2f8d0f(0x228)]=_0x2f8d0f(0x4a7),_0x559b7d[_0x2f8d0f(0x66e)]['borderRadius']=_0x2f8d0f(0x435),_0x559b7d;}function createPlaceholder(_0x4538ee){const _0xd2b803=_0x267d97,_0x1edec4=document['createElement']('div');return _0x1edec4['className']=_0xd2b803(0x3fd),_0x1edec4[_0xd2b803(0x66e)][_0xd2b803(0x65a)]=_0x4538ee[_0xd2b803(0x2f3)]+'px',_0x1edec4[_0xd2b803(0x66e)]['margin']='5px\x200',_0x1edec4[_0xd2b803(0x66e)][_0xd2b803(0x228)]=_0xd2b803(0x4a7),_0x1edec4[_0xd2b803(0x66e)][_0xd2b803(0x26f)]=_0xd2b803(0x435),_0x1edec4;}function setupCollapseButton(_0x4d0ae1,_0x5dedcd){const _0x32c4d2=_0x267d97,_0x5c22dd=_0x4d0ae1[_0x32c4d2(0x303)](_0x32c4d2(0x2df));_0x5c22dd[_0x32c4d2(0x42e)]('click',_0x1f290b=>{const _0x23c11b=_0x32c4d2;_0x4d0ae1[_0x23c11b(0x2cc)][_0x23c11b(0x2d7)](_0x23c11b(0x24f));const _0x2b401a=_0x4d0ae1[_0x23c11b(0x303)](_0x23c11b(0x4f2)),_0x32f10e=_0x4d0ae1[_0x23c11b(0x2fd)](_0x23c11b(0x48e)),_0x4617cc=_0x4d0ae1[_0x23c11b(0x303)](_0x23c11b(0x638));if(_0x4d0ae1[_0x23c11b(0x2cc)][_0x23c11b(0x191)](_0x23c11b(0x24f))){_0x32f10e[_0x23c11b(0x54e)](_0xc51581=>_0xc51581[_0x23c11b(0x66e)]['display']='none');if(!_0x4617cc){const _0x5184f3=document[_0x23c11b(0x333)](_0x23c11b(0x1c1));_0x5184f3[_0x23c11b(0x65b)]=_0x23c11b(0x562),_0x5184f3[_0x23c11b(0x2be)][_0x23c11b(0x464)]='output',_0x5184f3[_0x23c11b(0x66e)][_0x23c11b(0x6b5)]=_0x23c11b(0x550),_0x4d0ae1[_0x23c11b(0x303)](_0x23c11b(0x635))[_0x23c11b(0x443)](_0x5184f3);}else _0x4617cc['style'][_0x23c11b(0x6b5)]=_0x23c11b(0x550);_0x5c22dd[_0x23c11b(0x367)]='+';}else{_0x32f10e[_0x23c11b(0x54e)](_0x4dd465=>_0x4dd465[_0x23c11b(0x66e)][_0x23c11b(0x6b5)]=_0x23c11b(0x550));if(_0x4617cc)_0x4617cc[_0x23c11b(0x66e)][_0x23c11b(0x6b5)]=_0x23c11b(0x352);_0x5c22dd['textContent']='-';}drawConnections(),_0x1f290b[_0x23c11b(0x4de)]();});}function setupHideChildrenButton(_0x46bfe2,_0x2bb960){const _0x2c78a4=_0x267d97,_0x4e7552=_0x46bfe2[_0x2c78a4(0x303)]('.hide-children-btn');_0x2bb960['childStates']=new Map(),_0x4e7552[_0x2c78a4(0x42e)](_0x2c78a4(0x221),_0xa29a1f=>{const _0x21ee35=_0x2c78a4,_0x3b2a7f=connections[_0x21ee35(0x2fb)](_0x304781=>_0x304781['fromNode']===_0x2bb960['id'])['map'](_0x327db7=>nodes[_0x327db7[_0x21ee35(0x311)]]);if(!_0x46bfe2[_0x21ee35(0x2cc)]['contains']('children-hidden'))_0x46bfe2[_0x21ee35(0x2cc)][_0x21ee35(0x62f)]('children-hidden'),_0x4e7552['textContent']=_0x21ee35(0x637),_0x3b2a7f['forEach']((_0x324b69,_0x58032f)=>{const _0x2b4784=_0x21ee35;_0x2bb960[_0x2b4784(0x222)][_0x2b4784(0x436)](_0x324b69['id'],{'x':_0x324b69['x'],'y':_0x324b69['y'],'collapsed':_0x324b69[_0x2b4784(0x636)][_0x2b4784(0x2cc)][_0x2b4784(0x191)](_0x2b4784(0x24f))});!_0x324b69[_0x2b4784(0x636)][_0x2b4784(0x2cc)]['contains'](_0x2b4784(0x24f))&&_0x324b69[_0x2b4784(0x636)][_0x2b4784(0x303)](_0x2b4784(0x2df))[_0x2b4784(0x221)]();let _0x29109d=0x26,_0x29413c=_0x2bb960['y']+_0x58032f*_0x29109d/scale,_0x1209f8=0x64;_0x58032f===0x0?_0x29413c+=_0x1209f8/scale:_0x29413c=_0x2bb960['y']+_0x1209f8/scale+_0x58032f*_0x29109d/scale,_0x324b69['x']=_0x2bb960['x']+0xd2/scale,_0x324b69['y']=_0x29413c,updateNodePosition(_0x324b69);});else{_0x46bfe2[_0x21ee35(0x2cc)][_0x21ee35(0x2b4)](_0x21ee35(0x264)),_0x4e7552[_0x21ee35(0x367)]=_0x21ee35(0x55f);const _0x3b944f=_0x3b2a7f[_0x21ee35(0x2ff)](_0x4f57bd=>({'node':_0x4f57bd,'originalState':_0x2bb960[_0x21ee35(0x222)][_0x21ee35(0x4d3)](_0x4f57bd['id'])}))[_0x21ee35(0x2fb)](_0x1f2c23=>_0x1f2c23[_0x21ee35(0x4e7)])[_0x21ee35(0x332)]((_0x484ee1,_0x38d9ca)=>_0x484ee1[_0x21ee35(0x4e7)]['y']-_0x38d9ca[_0x21ee35(0x4e7)]['y']);let _0x9593f2=![];for(let _0x28eac8=0x1;_0x28eac8<_0x3b944f[_0x21ee35(0x585)];_0x28eac8++){const _0x41e7d5=_0x3b944f[_0x28eac8-0x1],_0x134457=_0x3b944f[_0x28eac8],_0x5ca590=_0x41e7d5[_0x21ee35(0x540)][_0x21ee35(0x636)][_0x21ee35(0x262)]()['height']/scale,_0x42ed1b=_0x41e7d5[_0x21ee35(0x4e7)]['y']+_0x5ca590;if(_0x134457[_0x21ee35(0x4e7)]['y']<_0x42ed1b){_0x9593f2=!![];break;}}if(_0x9593f2){let _0xe41ae2=_0x3b944f[0x0]?.[_0x21ee35(0x4e7)]['y']||_0x2bb960['y'];_0x3b944f[_0x21ee35(0x54e)](({node:_0x6ea001,originalState:_0x440581})=>{const _0x4090d0=_0x21ee35;_0x6ea001['x']=_0x440581['x'],_0x6ea001['y']=_0xe41ae2,updateNodePosition(_0x6ea001);const _0x1c0434=_0x6ea001[_0x4090d0(0x636)]['classList']['contains'](_0x4090d0(0x24f));_0x1c0434!==_0x440581[_0x4090d0(0x24f)]&&_0x6ea001[_0x4090d0(0x636)][_0x4090d0(0x303)](_0x4090d0(0x2df))['click']();const _0x56143c=_0x6ea001[_0x4090d0(0x636)][_0x4090d0(0x262)]()['height']/scale;_0xe41ae2+=_0x56143c+0xa/scale;});}else _0x3b944f[_0x21ee35(0x54e)](({node:_0xf26cf4,originalState:_0x5a7ffa})=>{const _0x235674=_0x21ee35;_0xf26cf4['x']=_0x5a7ffa['x'],_0xf26cf4['y']=_0x5a7ffa['y'],updateNodePosition(_0xf26cf4);const _0x18f70a=_0xf26cf4[_0x235674(0x636)][_0x235674(0x2cc)][_0x235674(0x191)](_0x235674(0x24f));_0x18f70a!==_0x5a7ffa['collapsed']&&_0xf26cf4[_0x235674(0x636)][_0x235674(0x303)](_0x235674(0x2df))[_0x235674(0x221)]();});_0x2bb960['childStates'][_0x21ee35(0x612)]();}drawConnections(),_0xa29a1f[_0x21ee35(0x4de)]();});}function updateJumpButton(_0x28f0f7){const _0x1e6954=_0x267d97,_0x18365f=_0x28f0f7['element'][_0x1e6954(0x303)]('.node-title')[_0x1e6954(0x355)],_0x22f39f=_0x28f0f7[_0x1e6954(0x636)]['querySelector'](_0x1e6954(0x329)),_0x3e3264=nodes[_0x1e6954(0x2fb)](_0x2fa696=>_0x2fa696['id']!==_0x28f0f7['id']&&_0x2fa696[_0x1e6954(0x636)]['querySelector'](_0x1e6954(0x558))[_0x1e6954(0x355)]===_0x18365f);_0x3e3264[_0x1e6954(0x585)]>0x0?(_0x22f39f[_0x1e6954(0x2cc)][_0x1e6954(0x2b4)](_0x1e6954(0x208)),_0x22f39f[_0x1e6954(0x2d1)](_0x1e6954(0x2cd),_0x3e3264[_0x1e6954(0x585)]),_0x22f39f[_0x1e6954(0x45c)]=_0x1e6954(0x241)+_0x3e3264[_0x1e6954(0x585)]+'\x20個)'):(_0x22f39f[_0x1e6954(0x2cc)][_0x1e6954(0x62f)]('hidden'),_0x22f39f[_0x1e6954(0x223)](_0x1e6954(0x2cd)));}function jumpToSameNameNode(_0x3856f7){const _0x45cbd1=_0x267d97,_0x4de78a=_0x3856f7['element'][_0x45cbd1(0x303)]('.node-title')[_0x45cbd1(0x355)],_0x3422e7=nodes[_0x45cbd1(0x2fb)](_0x314f01=>_0x314f01['id']!==_0x3856f7['id']&&_0x314f01[_0x45cbd1(0x636)][_0x45cbd1(0x303)](_0x45cbd1(0x558))[_0x45cbd1(0x355)]===_0x4de78a);_0x3422e7['length']>0x0&&(document[_0x45cbd1(0x2fd)](_0x45cbd1(0x2ea))[_0x45cbd1(0x54e)](_0x11dc07=>{const _0x53e977=_0x45cbd1;_0x11dc07[_0x53e977(0x2cc)]['remove'](_0x53e977(0x611));}),_0x3422e7['forEach'](_0x37dd36=>{const _0x1b645e=_0x45cbd1;_0x37dd36[_0x1b645e(0x636)][_0x1b645e(0x2cc)][_0x1b645e(0x62f)]('highlight');}),showJumpHint(_0x3856f7,_0x3856f7[_0x45cbd1(0x4b6)]+0x1,_0x3422e7['length']),_0x3856f7['jumpIndex']=(_0x3856f7[_0x45cbd1(0x4b6)]+0x1)%_0x3422e7['length'],setTimeout(()=>{const _0x3726a9=_0x45cbd1;_0x3422e7[_0x3726a9(0x54e)](_0x5bb499=>{const _0x14ad74=_0x3726a9;_0x5bb499['element'][_0x14ad74(0x2cc)][_0x14ad74(0x2b4)](_0x14ad74(0x611));});},0x2710));}function showJumpHint(_0x213a94,_0x47c006,_0x46aeb6){const _0x38e3cb=_0x267d97,_0x40cc63=document['createElement'](_0x38e3cb(0x1c1));_0x40cc63[_0x38e3cb(0x65b)]=_0x38e3cb(0x35c),_0x40cc63[_0x38e3cb(0x367)]=_0x47c006+'/'+_0x46aeb6,_0x40cc63[_0x38e3cb(0x66e)][_0x38e3cb(0x500)]=_0x38e3cb(0x469),_0x40cc63[_0x38e3cb(0x66e)]['left']='20px',_0x40cc63[_0x38e3cb(0x66e)][_0x38e3cb(0x422)]=_0x38e3cb(0x4df),_0x40cc63[_0x38e3cb(0x66e)][_0x38e3cb(0x228)]=_0x38e3cb(0x485),_0x40cc63['style'][_0x38e3cb(0x1f6)]='black',_0x40cc63[_0x38e3cb(0x66e)][_0x38e3cb(0x24a)]='5px\x2010px',_0x40cc63[_0x38e3cb(0x66e)][_0x38e3cb(0x26f)]=_0x38e3cb(0x632),_0x40cc63['style'][_0x38e3cb(0x55a)]='10000',document['body'][_0x38e3cb(0x443)](_0x40cc63),setTimeout(()=>{const _0x2a20e6=_0x38e3cb;_0x40cc63['style'][_0x2a20e6(0x5fc)]='0',_0x40cc63[_0x2a20e6(0x66e)][_0x2a20e6(0x1d4)]=_0x2a20e6(0x16c),setTimeout(()=>_0x40cc63[_0x2a20e6(0x2b4)](),0x1f4);},0x3e8);}function initializeNodeData(_0x293dbe,_0x57dc11,_0x3ca123){const _0x1e0f98=_0x267d97,_0x1c3442={'element':_0x293dbe,'id':nodes[_0x1e0f98(0x585)],'outputs':[0x0],'x':_0x57dc11,'y':_0x3ca123,'jumpIndex':0x0,'colorIndex':0x0};nodes['push'](_0x1c3442);const _0xd382d2=_0x293dbe[_0x1e0f98(0x303)](_0x1e0f98(0x329));return _0xd382d2[_0x1e0f98(0x42e)](_0x1e0f98(0x221),_0x2a329c=>{const _0x12ee1e=_0x1e0f98;jumpToSameNameNode(_0x1c3442),_0x2a329c[_0x12ee1e(0x4de)]();}),setTimeout(()=>{cleanupExistingItems(_0x1c3442);},0x64),_0x1c3442;}function setupNodeDrag(_0x1f611d,_0x34d8b3){const _0x28564b=_0x267d97;_0x1f611d['addEventListener'](_0x28564b(0x40c),_0x17eeba=>{const _0x44188e=_0x28564b;if(_0x17eeba[_0x44188e(0x671)]['className'][_0x44188e(0x633)](_0x44188e(0x540))||_0x17eeba[_0x44188e(0x671)][_0x44188e(0x65b)]===_0x44188e(0x1ad)){if(spacePressed||_0x17eeba['button']===0x1)return;draggingNode=_0x34d8b3,dragStartWorldX=toWorldX(_0x17eeba[_0x44188e(0x3e4)]),dragStartWorldY=toWorldY(_0x17eeba[_0x44188e(0x2b0)]),dragOffsetX=dragStartWorldX-_0x34d8b3['x'],dragOffsetY=dragStartWorldY-_0x34d8b3['y'],_0x17eeba[_0x44188e(0x4de)]();}});}function setupDeleteButton(_0x4b0b7b,_0x2d1a4c){const _0x562b2d=_0x267d97;_0x4b0b7b[_0x562b2d(0x303)](_0x562b2d(0x4d8))['addEventListener'](_0x562b2d(0x221),_0x3039d2=>{const _0x476d66=_0x562b2d;connections=connections[_0x476d66(0x2fb)](_0x4ae30d=>_0x4ae30d[_0x476d66(0x659)]!==_0x2d1a4c['id']&&_0x4ae30d[_0x476d66(0x311)]!==_0x2d1a4c['id']),nodes=nodes[_0x476d66(0x2fb)](_0x1fda6e=>_0x1fda6e['id']!==_0x2d1a4c['id']),nodes['forEach']((_0xd9d72,_0x1da052)=>{_0xd9d72['id']=_0x1da052;}),connections[_0x476d66(0x54e)](_0x1a7a20=>{const _0x5d7072=_0x476d66;if(_0x1a7a20[_0x5d7072(0x659)]>_0x2d1a4c['id'])_0x1a7a20[_0x5d7072(0x659)]--;if(_0x1a7a20[_0x5d7072(0x311)]>_0x2d1a4c['id'])_0x1a7a20[_0x5d7072(0x311)]--;}),_0x4b0b7b[_0x476d66(0x2b4)](),drawConnections(),_0x3039d2[_0x476d66(0x4de)]();});}function setupTitleInput(_0xb1f070){const _0xdc972f=_0x267d97,_0x4da8b5=_0xb1f070[_0xdc972f(0x303)](_0xdc972f(0x558));_0x4da8b5[_0xdc972f(0x42e)](_0xdc972f(0x40d),()=>{const _0x24d8a8=_0xdc972f;_0x4da8b5[_0x24d8a8(0x355)]=_0x4da8b5[_0x24d8a8(0x355)][_0x24d8a8(0x486)](),handleTitleChange(_0xb1f070,_0x4da8b5);}),_0x4da8b5['addEventListener'](_0xdc972f(0x28b),_0x22e4fa=>{const _0x12b26a=_0xdc972f,_0x3a87e5=['A','Q','R','G'];if(_0x3a87e5[_0x12b26a(0x633)](_0x22e4fa[_0x12b26a(0x525)])&&!_0x22e4fa['ctrlKey']&&!_0x22e4fa[_0x12b26a(0x605)]&&!_0x22e4fa[_0x12b26a(0x33f)]&&!_0x22e4fa[_0x12b26a(0x347)])return;handleTitleChange(_0xb1f070,_0x4da8b5);}),_0x4da8b5[_0xdc972f(0x42e)]('keydown',_0x19c921=>{const _0x473b55=_0xdc972f;_0x19c921[_0x473b55(0x214)]===_0x473b55(0x69a)&&(_0x4da8b5[_0x473b55(0x40d)](),_0x19c921[_0x473b55(0x26c)]());const _0x547f77=['a','q','r','g','A','Q','R','G'];_0x547f77[_0x473b55(0x633)](_0x19c921[_0x473b55(0x214)])&&!_0x19c921[_0x473b55(0x2e8)]&&!_0x19c921[_0x473b55(0x605)]&&!_0x19c921['altKey']&&!_0x19c921[_0x473b55(0x347)]&&_0x19c921['stopPropagation']();}),_0x4da8b5[_0xdc972f(0x42e)](_0xdc972f(0x221),_0xce0a59=>{const _0x42ccc8=_0xdc972f;_0xce0a59[_0x42ccc8(0x4de)]();});const _0x64f99=findNodeByElement(_0xb1f070);return _0x64f99&&updateJumpButton(_0x64f99),_0x64f99;}function handleTitleChange(_0x9c88a8,_0xce7f78){const _0x54aec1=_0x267d97,_0x59d6ba=findNodeByElement(_0x9c88a8),_0x1ab0bd=_0xce7f78[_0x54aec1(0x355)][_0x54aec1(0x486)](),_0x435b74=['A','Q','R','G'];if(_0x435b74[_0x54aec1(0x633)](_0x1ab0bd))return;if(_0x59d6ba){_0x59d6ba[_0x54aec1(0x32d)]=currentLanguage;const _0x5a26f3=nodes[_0x54aec1(0x2fb)](_0x4778b7=>_0x4778b7['id']!==_0x59d6ba['id']&&_0x4778b7[_0x54aec1(0x636)][_0x54aec1(0x303)](_0x54aec1(0x558))[_0x54aec1(0x355)]===_0xce7f78[_0x54aec1(0x355)]);if(_0x5a26f3[_0x54aec1(0x585)]>0x0&&!nodeDescriptions[_0x59d6ba['id']]){const _0x56f5c2=_0x5a26f3[0x0];nodeDescriptions[_0x56f5c2['id']]&&(nodeDescriptions[_0x59d6ba['id']]=nodeDescriptions[_0x56f5c2['id']],updateNodeList());}}}function syncDescriptionsForSameNameNodes(_0x5cde8f){const _0x14cabb=_0x267d97,_0x14e0a8=nodes[_0x5cde8f];if(!_0x14e0a8)return;const _0x438656=_0x14e0a8[_0x14cabb(0x636)][_0x14cabb(0x303)]('.node-title')?.[_0x14cabb(0x355)]||_0x14cabb(0x1c9),_0x532468=nodeDescriptions[_0x5cde8f];_0x532468&&_0x532468[_0x14cabb(0x486)]()!==''&&nodes[_0x14cabb(0x54e)](_0xa6a1ea=>{const _0x1e4db0=_0x14cabb;if(_0xa6a1ea['id']!==_0x5cde8f){const _0x339baa=_0xa6a1ea['element']['querySelector'](_0x1e4db0(0x558))?.[_0x1e4db0(0x355)]||_0x1e4db0(0x1c9);_0x339baa===_0x438656&&(nodeDescriptions[_0xa6a1ea['id']]=_0x532468);}});}function updateSameNameHighlights(){const _0x25cd47=_0x267d97;document['querySelectorAll'](_0x25cd47(0x2ea))[_0x25cd47(0x54e)](_0x298328=>{const _0x2a4179=_0x25cd47;_0x298328['classList'][_0x2a4179(0x2b4)](_0x2a4179(0x5ab));});const _0x45203b={};nodes[_0x25cd47(0x54e)](_0x5af9cb=>{const _0x16da8f=_0x25cd47,_0x38ff4d=_0x5af9cb['element']['querySelector'](_0x16da8f(0x558))['value'];!_0x45203b[_0x38ff4d]&&(_0x45203b[_0x38ff4d]=[]),_0x45203b[_0x38ff4d]['push'](_0x5af9cb);}),Object[_0x25cd47(0x345)](_0x45203b)[_0x25cd47(0x54e)](([_0x18150e,_0x2b800a])=>{const _0x5193d6=_0x25cd47;_0x2b800a[_0x5193d6(0x585)]>0x1&&_0x2b800a[_0x5193d6(0x54e)](_0x4cb8b9=>{const _0x2312d5=_0x5193d6;_0x4cb8b9['element'][_0x2312d5(0x2cc)][_0x2312d5(0x62f)]('highlight-same-name');});});}function setupParagraphInput(_0x2027bd,_0x37be27){const _0x56db1d=_0x267d97,_0x2e3a68=_0x2027bd[_0x56db1d(0x303)](_0x56db1d(0x40b));_0x2e3a68[_0x56db1d(0x42e)](_0x56db1d(0x28b),function(){const _0x547bb6=_0x56db1d;handleParagraphInput(this,_0x2027bd,_0x37be27),this[_0x547bb6(0x355)][_0x547bb6(0x486)]()&&analyzeVariables(_0x37be27);});}function handleParagraphInput(_0x7ba20d,_0x8c5bc6,_0x1c3b21){const _0x334bc0=_0x267d97,_0x2bad8f=_0x7ba20d[_0x334bc0(0x355)][_0x334bc0(0x486)]();if(_0x2bad8f==='')return;const _0x157798=extractFunctionName(_0x2bad8f);_0x157798&&(_0x8c5bc6[_0x334bc0(0x303)](_0x334bc0(0x558))['value']=_0x157798);const _0x3b768f=extractCalledFunctionsEnhanced(_0x2bad8f,_0x157798);_0x3b768f['length']>0x0&&createFunctionItems(_0x1c3b21,_0x3b768f,container),setupParagraphPopup(_0x7ba20d,_0x2bad8f,_0x1c3b21),analyzeVariables(_0x1c3b21),setTimeout(()=>{cleanupExistingItems(_0x1c3b21);},0x96);}function extractCalledFunctionsEnhanced(_0x549994,_0x7a940f){const _0x3ddea2=_0x267d97,_0x16363f=new Set();if(currentLanguage==='python'){const _0x4fed3c=[/\b([a-zA-Z_][0-9a-zA-Z_]*)\s*\([^)]*\)/g,/\b([a-zA-Z_][0-9a-zA-Z_]*)\.([a-zA-Z_][0-9a-zA-Z_]*)\s*\(/g,/from\s+([a-zA-Z_][0-9a-zA-Z_]*)\s+import/g,/import\s+([a-zA-Z_][0-9a-zA-Z_]*)/g];_0x4fed3c[_0x3ddea2(0x54e)](_0x46d202=>{const _0x5737cd=_0x3ddea2;let _0x4bef43;while((_0x4bef43=_0x46d202['exec'](_0x549994))!==null){let _0x497691=_0x4bef43[0x1];_0x4bef43[0x2]&&(_0x497691=_0x4bef43[0x2]),isValidFunctionName(_0x497691,_0x7a940f)&&_0x16363f[_0x5737cd(0x62f)](_0x497691);}});}else{const _0x2f075b=[/\b([a-zA-Z_$][0-9a-zA-Z_$]*)\s*\([^)]*\)/g,/\.addEventListener\s*\(\s*['"][^'"]*['"]\s*,\s*([a-zA-Z_$][0-9a-zA-Z_$]*)/g,/\b([a-zA-Z_$][0-9a-zA-Z_$]*)\.([a-zA-Z_$][0-9a-zA-Z_$]*)\s*\(/g,/\b(?:const|let|var)\s+([a-zA-Z_$][0-9a-zA-Z_$]*)\s*=\s*\([^)]*\)\s*=>/g,/\b(?:const|let|var)\s+([a-zA-Z_$][0-9a-zA-Z_$]*)\s*=\s*function/g,/,\s*([a-zA-Z_$][0-9a-zA-Z_$]*)\s*\)/g,/\.(?:click|on)\s*\(\s*([a-zA-Z_$][0-9a-zA-Z_$]*)/g,/(?:setTimeout|setInterval)\s*\(\s*([a-zA-Z_$][0-9a-zA-Z_$]*)/g];_0x2f075b[_0x3ddea2(0x54e)](_0x31c382=>{const _0xfdbc26=_0x3ddea2;let _0x27b98c;while((_0x27b98c=_0x31c382['exec'](_0x549994))!==null){let _0x12bc06=_0x27b98c[0x1];_0x27b98c[0x2]&&(_0x12bc06=_0x27b98c[0x2]),isValidFunctionName(_0x12bc06,_0x7a940f)&&_0x16363f[_0xfdbc26(0x62f)](_0x12bc06);}});const _0x49a800=['click',_0x3ddea2(0x40c),_0x3ddea2(0x2ce),_0x3ddea2(0x2e0),_0x3ddea2(0x285),_0x3ddea2(0x53d),_0x3ddea2(0x668),_0x3ddea2(0x25a),'keydown',_0x3ddea2(0x64b),_0x3ddea2(0x240),_0x3ddea2(0x430)];_0x49a800[_0x3ddea2(0x54e)](_0x58d8e4=>{const _0x2f2e7a=_0x3ddea2,_0x40849f=new RegExp(_0x2f2e7a(0x401)+_0x58d8e4+_0x2f2e7a(0x4af),'g');let _0x513e53;while((_0x513e53=_0x40849f[_0x2f2e7a(0x3c3)](_0x549994))!==null){const _0x33f75d=_0x513e53[0x1];isValidFunctionName(_0x33f75d,_0x7a940f)&&_0x16363f['add'](_0x33f75d);}});}return Array[_0x3ddea2(0x447)](_0x16363f);}function isValidFunctionName(_0x33386d,_0x2297ce){const _0x316a21=_0x267d97,_0x1167c9=['(e','e',_0x316a21(0x520),_0x316a21(0x466),'e1','e2'];if(_0x1167c9[_0x316a21(0x633)](_0x33386d[_0x316a21(0x486)]()))return![];const _0xdae3e9=currentLanguage===_0x316a21(0x291)?PYTHON_FUNCTION_BLACKLIST[_0x316a21(0x633)](_0x33386d):FUNCTION_BLACKLIST[_0x316a21(0x633)](_0x33386d);if(_0xdae3e9)return![];if(_0x33386d===_0x2297ce)return![];if(_0x33386d['length']<0x2||_0x33386d[_0x316a21(0x1e6)](/^[0-9]/)||isCommonBuiltin(_0x33386d))return![];return!![];}function isCommonBuiltin(_0x46fba8){const _0x2ecbda=_0x267d97,_0x776841=[_0x2ecbda(0x5be),_0x2ecbda(0x51d),'error',_0x2ecbda(0x2ba),_0x2ecbda(0x3da),_0x2ecbda(0x4e3),_0x2ecbda(0x576),_0x2ecbda(0x49c),_0x2ecbda(0x5bd),_0x2ecbda(0x47d),_0x2ecbda(0x41b),'setTimeout','setInterval',_0x2ecbda(0x54b),_0x2ecbda(0x423),'addEventListener',_0x2ecbda(0x402),_0x2ecbda(0x23f),_0x2ecbda(0x303),_0x2ecbda(0x2fd),_0x2ecbda(0x2e4),_0x2ecbda(0x309),'createElement','appendChild','removeChild',_0x2ecbda(0x26c),_0x2ecbda(0x4de),_0x2ecbda(0x606),_0x2ecbda(0x62f),_0x2ecbda(0x2b4),_0x2ecbda(0x2d7),'contains',_0x2ecbda(0x54e),'map',_0x2ecbda(0x2fb),_0x2ecbda(0x634),'find',_0x2ecbda(0x202),_0x2ecbda(0x59c),_0x2ecbda(0x633),_0x2ecbda(0x24c),'toString',_0x2ecbda(0x4b9),_0x2ecbda(0x237),'JSON',_0x2ecbda(0x23c),_0x2ecbda(0x21e),_0x2ecbda(0x3e3),_0x2ecbda(0x4d0),_0x2ecbda(0x4dd),_0x2ecbda(0x44a),'Date',_0x2ecbda(0x16d),_0x2ecbda(0x284),_0x2ecbda(0x256),_0x2ecbda(0x1aa),'Set',_0x2ecbda(0x192),'window',_0x2ecbda(0x18e),_0x2ecbda(0x618),_0x2ecbda(0x53a),_0x2ecbda(0x341),_0x2ecbda(0x4bd),_0x2ecbda(0x171),'XMLHttpRequest',_0x2ecbda(0x3fe)];return _0x776841[_0x2ecbda(0x633)](_0x46fba8)||_0x46fba8[_0x2ecbda(0x694)]('on')||_0x46fba8['startsWith']('$')||_0x46fba8===_0x2ecbda(0x392)||_0x46fba8===_0x2ecbda(0x43a)||_0x46fba8===_0x2ecbda(0x2f5)||_0x46fba8===_0x2ecbda(0x6a2);}function setupInitialAddButton(_0x454dc9,_0x27ccc8){const _0x296cd0=_0x267d97;_0x454dc9[_0x296cd0(0x303)](_0x296cd0(0x556))[_0x296cd0(0x42e)]('click',_0x612717=>{const _0x322f1c=_0x296cd0,_0x191879=_0x612717[_0x322f1c(0x671)][_0x322f1c(0x419)](_0x322f1c(0x575)),_0x345aed=_0x191879?_0x191879[_0x322f1c(0x303)](_0x322f1c(0x3d7))[_0x322f1c(0x355)]:'',_0x1dfe4a=_0x345aed[_0x322f1c(0x486)](),_0x2a7143=connections[_0x322f1c(0x2fb)](_0x3d478f=>_0x3d478f[_0x322f1c(0x659)]===_0x27ccc8['id']&&_0x3d478f[_0x322f1c(0x31d)]===0x0)['length'],_0x1be7e1=_0x27ccc8['x']+0xc8/scale,_0x3871db=_0x27ccc8['y']+_0x2a7143*0x78/scale;let _0x2bf40c=null;_0x1dfe4a&&loadedHtmlFunctions[_0x1dfe4a]&&(_0x2bf40c=loadedHtmlFunctions[_0x1dfe4a]['code']);const _0xdbcc01=createNode(_0x1be7e1,_0x3871db,_0x1dfe4a||_0x322f1c(0x315),_0x322f1c(0x440),_0x2bf40c);if(_0x2bf40c)showStatusMessage(_0x322f1c(0x2ac)+_0x1dfe4a+_0x322f1c(0x468),_0x322f1c(0x613));else _0x1dfe4a&&showStatusMessage(_0x322f1c(0x24d)+_0x1dfe4a+'\x22，但未找到對應函數內容','warning');connections['push']({'fromNode':_0x27ccc8['id'],'fromOutput':0x0,'toNode':_0xdbcc01['id']}),drawConnections(),_0x612717[_0x322f1c(0x4de)]();});}function setupAddItemButton(_0x526971,_0x352afb){const _0x1282de=_0x267d97;_0x526971[_0x1282de(0x303)](_0x1282de(0x2af))[_0x1282de(0x42e)](_0x1282de(0x221),()=>{addNewItem(_0x526971,_0x352afb);});}function setupGenerateButton(_0x225e7e,_0x124605){const _0x163836=_0x267d97,_0x8e3454=_0x225e7e[_0x163836(0x303)](_0x163836(0x298));if(!_0x8e3454)return;const _0x1df644=_0x8e3454[_0x163836(0x433)](!![]);_0x8e3454[_0x163836(0x1a7)][_0x163836(0x301)](_0x1df644,_0x8e3454),_0x1df644[_0x163836(0x42e)](_0x163836(0x221),function(_0x2c17b0){const _0x368448=_0x163836,_0x5a1855=_0x225e7e[_0x368448(0x2fd)]('.item');if(_0x5a1855[_0x368448(0x585)]===0x0){showStatusMessage(_0x368448(0x1f9),_0x368448(0x616));return;}const _0x5b6719=_0x124605['x']+0xc8/scale;let _0x311f1a=_0x124605['y'],_0x48a623=0x0,_0x5c1b87=0x0;const _0x3109b3=[],_0x447620=[];_0x5a1855[_0x368448(0x54e)]((_0x4d298f,_0x1b42b1)=>{const _0x1dba9e=_0x368448,_0xe78070=_0x4d298f[_0x1dba9e(0x303)](_0x1dba9e(0x3d7))['value'],_0xfb195b=_0xe78070[_0x1dba9e(0x486)]();if(!_0xfb195b)return;const _0x5f393d=Math[_0x1dba9e(0x682)](_0x1b42b1/0x4),_0x12c426=_0x1b42b1%0x4,_0x2ce62f=_0x5b6719+_0x5f393d*0xfa/scale,_0x32ae59=_0x311f1a+_0x12c426*0x78/scale;let _0x4496c6=null,_0x3365df=_0xfb195b;if(loadedHtmlFunctions[_0xfb195b])_0x4496c6=loadedHtmlFunctions[_0xfb195b]['code'];else{const _0x2ff8db=_0xfb195b['toLowerCase']();for(const _0x28e2e4 in loadedHtmlFunctions){if(_0x28e2e4[_0x1dba9e(0x546)]()===_0x2ff8db){_0x4496c6=loadedHtmlFunctions[_0x28e2e4][_0x1dba9e(0x1fe)],_0x3365df=_0x28e2e4;break;}}}!_0x4496c6?(_0x5c1b87++,_0x3109b3[_0x1dba9e(0x664)](_0xfb195b)):_0x48a623++;const _0x2bc3ab=createNodeWithContent(_0x2ce62f,_0x32ae59,_0xfb195b,_0x4496c6);_0x447620['push'](_0x2bc3ab),connections[_0x1dba9e(0x664)]({'fromNode':_0x124605['id'],'fromOutput':_0x1b42b1,'toNode':_0x2bc3ab['id']});}),setTimeout(()=>{const _0x396a88=_0x368448;let _0x13a639=0x0;_0x447620[_0x396a88(0x54e)](_0xe4f3f0=>{const _0x498bb8=_0x396a88,_0x31e028=_0xe4f3f0[_0x498bb8(0x636)][_0x498bb8(0x303)](_0x498bb8(0x38c)),_0x8b9703=_0x31e028[_0x498bb8(0x2fd)](_0x498bb8(0x575))[_0x498bb8(0x585)];_0x8b9703>0x0&&_0x13a639++;});},0x320),drawConnections();let _0x63e764=_0x368448(0x321)+_0x5a1855[_0x368448(0x585)]+'\x20個節點';_0x48a623>0x0&&(_0x63e764+=',\x20'+_0x48a623+'\x20個已填充內容、創建項目並轉換為按鈕'),_0x5c1b87>0x0&&(_0x63e764+=',\x20'+_0x5c1b87+_0x368448(0x59f)),showStatusMessage(_0x63e764,_0x48a623>0x0?_0x368448(0x613):_0x368448(0x616)),_0x2c17b0[_0x368448(0x4de)]();});}function createNodeWithContent(_0x183521,_0x128534,_0x255cc2,_0x57dc8c){const _0x13016e=_0x267d97,_0x730fd5=createNodeElement(_0x183521,_0x128534,_0x255cc2),_0x1ebcf5=initializeNodeData(_0x730fd5,_0x183521,_0x128534);if(_0x57dc8c){const _0x56caed=_0x730fd5['querySelector'](_0x13016e(0x40b));if(_0x56caed){_0x56caed[_0x13016e(0x355)]=_0x57dc8c;const _0x2d5a66=new Event(_0x13016e(0x28b),{'bubbles':!![]});_0x56caed[_0x13016e(0x23f)](_0x2d5a66),setTimeout(()=>{analyzeAndCreateItems(_0x1ebcf5,_0x57dc8c),convertToParagraphButton(_0x1ebcf5),analyzeVariables(_0x1ebcf5);},0xc8);}}return setupNodeDrag(_0x730fd5,_0x1ebcf5),setupCollapseButton(_0x730fd5,_0x1ebcf5),setupDeleteButton(_0x730fd5,_0x1ebcf5),setupTitleInput(_0x730fd5),setupParagraphInput(_0x730fd5,_0x1ebcf5),setupInitialAddButton(_0x730fd5,_0x1ebcf5),setupAddItemButton(_0x730fd5,_0x1ebcf5),setupHideChildrenButton(_0x730fd5,_0x1ebcf5),setupGenerateButton(_0x730fd5,_0x1ebcf5),setupPortEvents(_0x730fd5,_0x1ebcf5),updateNodePosition(_0x1ebcf5),setupVariableAnalysis(_0x730fd5,_0x1ebcf5),_0x1ebcf5;}function analyzeAndCreateItems(_0x24e4b8,_0x3b17d0){const _0xbe76e0=_0x267d97,_0x300227=extractFunctionName(_0x3b17d0),_0x2f0b07=extractCalledFunctions(_0x3b17d0,_0x300227);if(_0x2f0b07[_0xbe76e0(0x585)]>0x0){const _0x24151a=_0x24e4b8[_0xbe76e0(0x636)][_0xbe76e0(0x303)](_0xbe76e0(0x38c));_0x24151a[_0xbe76e0(0x1ee)]='',_0x24e4b8[_0xbe76e0(0x661)]=[],_0x2f0b07[_0xbe76e0(0x54e)]((_0x35cb49,_0x1efa4c)=>{const _0x3b634a=_0xbe76e0,_0xa2388c=document[_0x3b634a(0x333)]('div');_0xa2388c[_0x3b634a(0x65b)]=_0x3b634a(0x389),_0xa2388c[_0x3b634a(0x1ee)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22drag-handle\x22>☰</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<input\x20type=\x22text\x22\x20class=\x22item-text\x22\x20value=\x22'+escapeHtml(_0x35cb49)+_0x3b634a(0x24e)+_0x1efa4c+_0x3b634a(0x446),_0x24151a[_0x3b634a(0x443)](_0xa2388c),_0x24e4b8['outputs']['push'](_0x1efa4c),setupAddNodeButton(_0xa2388c,_0x24e4b8,_0x1efa4c,container),setupOutputPort(_0xa2388c,_0x24e4b8,_0x1efa4c,container),setupItemDragAndDrop(_0x24e4b8[_0x3b634a(0x636)],_0x24e4b8);});}else{}}function convertToParagraphButton(_0x26b2ca){const _0x51a39a=_0x267d97,_0x29979d=_0x26b2ca[_0x51a39a(0x636)],_0x38387d=_0x29979d[_0x51a39a(0x303)]('.paragraph-input');if(!_0x38387d||_0x38387d[_0x51a39a(0x66e)][_0x51a39a(0x6b5)]===_0x51a39a(0x352))return;const _0xbdac3f=_0x38387d[_0x51a39a(0x355)][_0x51a39a(0x486)]();if(!_0xbdac3f)return;const _0x1ba08a=document[_0x51a39a(0x333)](_0x51a39a(0x201));_0x1ba08a[_0x51a39a(0x65b)]=_0x51a39a(0x1f0),_0x1ba08a['textContent']=_0xbdac3f[_0x51a39a(0x585)]>0x32?_0xbdac3f[_0x51a39a(0x5b4)](0x0,0x2f)+'...':_0xbdac3f,_0x1ba08a['dataset'][_0x51a39a(0x535)]=_0xbdac3f;const _0x3d5f33=document[_0x51a39a(0x333)](_0x51a39a(0x1c1));_0x3d5f33[_0x51a39a(0x65b)]='paragraph-popup',_0x3d5f33[_0x51a39a(0x367)]=_0xbdac3f;const _0x41af52=getCurrentColorClass(_0x26b2ca);_0x3d5f33[_0x51a39a(0x2cc)][_0x51a39a(0x62f)](_0x41af52);const _0x5441da=document['createElement'](_0x51a39a(0x1c1));_0x5441da[_0x51a39a(0x66e)][_0x51a39a(0x500)]=_0x51a39a(0x3ee),_0x5441da['style']['display']=_0x51a39a(0x5fe),_0x5441da[_0x51a39a(0x66e)][_0x51a39a(0x3f8)]='100%';const _0x175468=_0x38387d[_0x51a39a(0x433)](!![]);_0x175468[_0x51a39a(0x66e)]['display']=_0x51a39a(0x352),_0x5441da[_0x51a39a(0x443)](_0x175468),_0x5441da[_0x51a39a(0x443)](_0x1ba08a),_0x5441da['appendChild'](_0x3d5f33),_0x38387d[_0x51a39a(0x4f6)](_0x5441da),setupParagraphButtonEvents(_0x1ba08a,_0x3d5f33,_0x175468,_0x26b2ca);}function rebindAllGenerateButtons(){const _0x2c3405=_0x267d97;nodes[_0x2c3405(0x54e)](_0x5d64a2=>{const _0x4fa9cd=_0x2c3405;if(!_0x5d64a2['isFrame']&&!_0x5d64a2[_0x4fa9cd(0x4d1)]){const _0x4b6274=_0x5d64a2[_0x4fa9cd(0x636)][_0x4fa9cd(0x303)](_0x4fa9cd(0x298));_0x4b6274&&setupGenerateButton(_0x5d64a2[_0x4fa9cd(0x636)],_0x5d64a2);}});}setTimeout(rebindAllGenerateButtons,0xbb8);function addNewItem(_0x5742b2,_0xe1580d){const _0x3d93c2=_0x267d97,_0x5ad278=_0x5742b2['querySelector'](_0x3d93c2(0x38c)),_0x4ab7e6=_0x5ad278[_0x3d93c2(0x4fa)][_0x3d93c2(0x585)],_0x20a8c6=document['createElement'](_0x3d93c2(0x1c1));return _0x20a8c6[_0x3d93c2(0x65b)]=_0x3d93c2(0x389),_0x20a8c6[_0x3d93c2(0x1ee)]=_0x3d93c2(0x1c2)+_0x4ab7e6+_0x3d93c2(0x384),_0x5ad278[_0x3d93c2(0x443)](_0x20a8c6),_0x20a8c6['querySelector'](_0x3d93c2(0x556))['addEventListener']('click',_0x50eea7=>{handleAddNodeClick(_0xe1580d,_0x4ab7e6,_0x50eea7);}),setupItemDragAndDrop(_0x5742b2,_0xe1580d),_0xe1580d[_0x3d93c2(0x661)]['push'](0x0),setupOutputPort(_0x20a8c6,_0xe1580d,_0x4ab7e6),_0x20a8c6;}function handleAddNodeClick(_0x59d5f5,_0x45c316,_0x43a7cf){const _0x228ada=_0x267d97,_0x641ff0=_0x43a7cf[_0x228ada(0x671)]['closest']('.item'),_0x3d19a8=_0x641ff0?_0x641ff0[_0x228ada(0x303)](_0x228ada(0x3d7))[_0x228ada(0x355)]:'',_0xee736c=_0x3d19a8[_0x228ada(0x486)](),_0x1575c1=connections[_0x228ada(0x2fb)](_0x4e1a15=>_0x4e1a15[_0x228ada(0x659)]===_0x59d5f5['id']&&_0x4e1a15[_0x228ada(0x31d)]===_0x45c316)[_0x228ada(0x585)],_0xd17e24=_0x59d5f5['x']+0xc8/scale,_0xa46145=_0x59d5f5['y']+_0x1575c1*0x78/scale;let _0x209961=null;_0xee736c&&loadedHtmlFunctions[_0xee736c]&&(_0x209961=loadedHtmlFunctions[_0xee736c][_0x228ada(0x1fe)]);const _0x501b33=createNode(_0xd17e24,_0xa46145,_0xee736c,_0x228ada(0x440),_0x209961);if(_0x209961)showStatusMessage(_0x228ada(0x2ac)+_0xee736c+_0x228ada(0x468),_0x228ada(0x613));else _0xee736c&&showStatusMessage(_0x228ada(0x24d)+_0xee736c+'\x22，但未找到對應函數內容','warning');connections[_0x228ada(0x664)]({'fromNode':_0x59d5f5['id'],'fromOutput':_0x45c316,'toNode':_0x501b33['id']}),drawConnections(),_0x43a7cf[_0x228ada(0x4de)]();}function setupPortEvents(_0x21c262,_0x57eae1){const _0x36070c=_0x267d97;_0x21c262['querySelector']('.input-port')[_0x36070c(0x42e)]('mouseup',_0x5e944b=>{const _0x271232=_0x36070c;connecting&&(connections[_0x271232(0x664)]({'fromNode':connecting[_0x271232(0x659)],'fromOutput':connecting[_0x271232(0x31d)],'toNode':_0x57eae1['id']}),connecting=null,container[_0x271232(0x2cc)][_0x271232(0x2b4)]('connecting'),drawConnections());}),setupOutputPort(_0x21c262[_0x36070c(0x303)](_0x36070c(0x5b8)),_0x57eae1,0x0);}function setupOutputPort(_0x31ee52,_0x58517b,_0xd018e7){const _0xd12adf=_0x267d97;_0x31ee52[_0xd12adf(0x42e)](_0xd12adf(0x40c),_0x502ee4=>{const _0x48b15c=_0xd12adf;if(spacePressed||_0x502ee4['button']===0x1)return;const _0x4dc5f8=_0x31ee52[_0x48b15c(0x66e)][_0x48b15c(0x6b5)]!==_0x48b15c(0x352)?_0x31ee52:_0x58517b[_0x48b15c(0x636)][_0x48b15c(0x303)]('.header-port:nth-child('+(_0xd018e7+0x4)+')'),_0x3be218=_0x4dc5f8['getBoundingClientRect']();connecting={'startX':_0x3be218[_0x48b15c(0x52c)]+_0x3be218['width']/0x2,'startY':_0x3be218[_0x48b15c(0x422)]+_0x3be218['height']/0x2,'fromNode':_0x58517b['id'],'fromOutput':_0xd018e7,'currentX':_0x3be218[_0x48b15c(0x52c)]+_0x3be218[_0x48b15c(0x3f8)]/0x2,'currentY':_0x3be218[_0x48b15c(0x422)]+_0x3be218['height']/0x2},container[_0x48b15c(0x2cc)][_0x48b15c(0x62f)](_0x48b15c(0x383)),_0x502ee4[_0x48b15c(0x4de)]();});}function updateNodePosition(_0x1e2c38){const _0x1f854c=_0x267d97;_0x1e2c38[_0x1f854c(0x636)]['style']['left']=_0x1e2c38['x']+'px',_0x1e2c38[_0x1f854c(0x636)][_0x1f854c(0x66e)][_0x1f854c(0x422)]=_0x1e2c38['y']+'px',_0x1e2c38[_0x1f854c(0x636)][_0x1f854c(0x66e)][_0x1f854c(0x209)]=_0x1f854c(0x352);}function updatePopupScroll(){const _0x2f77e3=_0x267d97;activePopup&&(activePopup[_0x2f77e3(0x28d)]=popupScrollPosition);}function createSelectionBox(){const _0x5c7336=_0x267d97;return selectionBox=document[_0x5c7336(0x333)]('div'),selectionBox['className']='selection-box',selectionBox[_0x5c7336(0x66e)]['display']=_0x5c7336(0x352),document['body'][_0x5c7336(0x443)](selectionBox),selectionBox;}function updateSelectionBox(_0x55de5a,_0x51564b,_0x49df9a,_0x1147ec){const _0x32cc90=_0x267d97,_0x15e1a4=Math[_0x32cc90(0x646)](_0x55de5a,_0x49df9a),_0x14f1e9=Math[_0x32cc90(0x646)](_0x51564b,_0x1147ec),_0x460c30=Math[_0x32cc90(0x538)](_0x49df9a-_0x55de5a),_0x129af6=Math[_0x32cc90(0x538)](_0x1147ec-_0x51564b);selectionBox['style'][_0x32cc90(0x52c)]=_0x15e1a4+'px',selectionBox['style'][_0x32cc90(0x422)]=_0x14f1e9+'px',selectionBox['style'][_0x32cc90(0x3f8)]=_0x460c30+'px',selectionBox['style'][_0x32cc90(0x65a)]=_0x129af6+'px',selectionBox[_0x32cc90(0x66e)][_0x32cc90(0x6b5)]=_0x32cc90(0x550);}function clearSelection(){const _0x3b757f=_0x267d97,_0x5f18d7=[];selectedNodes[_0x3b757f(0x54e)](_0x36fc42=>{const _0x44f948=_0x3b757f,_0x96d9=nodes[_0x36fc42];_0x96d9&&_0x96d9[_0x44f948(0x636)]&&(_0x96d9[_0x44f948(0x636)][_0x44f948(0x2cc)][_0x44f948(0x2b4)](_0x44f948(0x22c)),connections[_0x44f948(0x54e)](_0x26fef2=>{const _0x54f57c=_0x44f948;_0x26fef2[_0x54f57c(0x659)]===_0x36fc42&&_0x26fef2[_0x54f57c(0x1ba)]&&_0x5f18d7[_0x54f57c(0x664)](_0x26fef2);}));}),_0x5f18d7[_0x3b757f(0x54e)](_0x3e41e2=>{const _0x5b8b8d=_0x3b757f;delete _0x3e41e2[_0x5b8b8d(0x1ba)];}),selectedNodes[_0x3b757f(0x612)](),drawConnections();}function isNodeInSelection(_0x4912a9,_0x477eee){const _0x127202=_0x267d97;if(_0x4912a9[_0x127202(0x464)]===_0x127202(0x27a))return![];const _0x2c955d=_0x4912a9[_0x127202(0x636)][_0x127202(0x262)](),_0x51dff6=container[_0x127202(0x262)](),_0x349974=_0x2c955d['left']-_0x51dff6['left'],_0x43f4d6=_0x2c955d[_0x127202(0x274)]-_0x51dff6['left'],_0x1d9bb0=_0x2c955d['top']-_0x51dff6[_0x127202(0x422)],_0x1d47e8=_0x2c955d[_0x127202(0x2d0)]-_0x51dff6[_0x127202(0x422)];return _0x43f4d6>_0x477eee['left']&&_0x349974<_0x477eee[_0x127202(0x274)]&&_0x1d47e8>_0x477eee[_0x127202(0x422)]&&_0x1d9bb0<_0x477eee[_0x127202(0x2d0)];}function selectNodesInBox(_0x47ca45,_0x38a451){const _0x2417c2=_0x267d97;return!_0x38a451&&clearSelection(),nodes['forEach'](_0xfdb4f=>{const _0x1c4eeb=_0x357f;isNodeInSelection(_0xfdb4f,_0x47ca45)&&(_0xfdb4f[_0x1c4eeb(0x464)]!==_0x1c4eeb(0x27a)&&(_0x38a451?selectedNodes[_0x1c4eeb(0x620)](_0xfdb4f['id'])?(_0xfdb4f[_0x1c4eeb(0x636)]['classList']['remove'](_0x1c4eeb(0x22c)),selectedNodes['delete'](_0xfdb4f['id'])):(_0xfdb4f[_0x1c4eeb(0x636)]['classList'][_0x1c4eeb(0x62f)](_0x1c4eeb(0x22c)),selectedNodes[_0x1c4eeb(0x62f)](_0xfdb4f['id'])):(_0xfdb4f[_0x1c4eeb(0x636)][_0x1c4eeb(0x2cc)][_0x1c4eeb(0x62f)](_0x1c4eeb(0x22c)),selectedNodes[_0x1c4eeb(0x62f)](_0xfdb4f['id']))));}),selectedNodes[_0x2417c2(0x64d)]>0x0;}function selectNodeAndChildren(_0x573606,_0x1330b7=![]){const _0x1d098e=_0x267d97,_0x343fc4=nodes[_0x573606];if(!_0x343fc4)return;let _0x270e34=![];if(_0x1330b7){const _0x144e0d=_0x343fc4[_0x1d098e(0x636)]['querySelector']('.jump-to-btn');_0x270e34=_0x144e0d&&getComputedStyle(_0x144e0d)[_0x1d098e(0x6b5)]!=='none';}!_0x270e34&&!selectedNodes['has'](_0x573606)&&(_0x343fc4[_0x1d098e(0x636)]['classList'][_0x1d098e(0x62f)](_0x1d098e(0x22c)),selectedNodes['add'](_0x573606));const _0x5673e0=connections[_0x1d098e(0x2fb)](_0x5e1c4f=>_0x5e1c4f[_0x1d098e(0x659)]===_0x573606)[_0x1d098e(0x2ff)](_0x101c82=>_0x101c82[_0x1d098e(0x311)]);_0x5673e0['forEach'](_0xa1e1a7=>{selectNodeAndChildren(_0xa1e1a7,_0x1330b7);}),drawConnections();}function copySelectedNodesContent(){const _0x1076ba=_0x267d97;let _0x1949b8='';selectedNodes[_0x1076ba(0x54e)](_0x5a941b=>{const _0x13f8eb=_0x1076ba,_0xc7435b=nodes[_0x5a941b];if(_0xc7435b){const _0x1473b6=_0xc7435b[_0x13f8eb(0x636)]['querySelector'](_0x13f8eb(0x278)),_0x1d1a21=_0xc7435b[_0x13f8eb(0x636)][_0x13f8eb(0x303)](_0x13f8eb(0x40b));if(_0x1473b6)_0x1949b8+=_0x1473b6[_0x13f8eb(0x367)]+'\x0a\x0a';else _0x1d1a21&&(_0x1949b8+=_0x1d1a21['value']+'\x0a\x0a');}});if(_0x1949b8){const _0x37b7b5=_0x1949b8['split']('\x0a')[_0x1076ba(0x2fb)](_0x3d1b70=>_0x3d1b70[_0x1076ba(0x486)]()!=='')[_0x1076ba(0x585)];navigator[_0x1076ba(0x336)][_0x1076ba(0x57d)](_0x1949b8[_0x1076ba(0x486)]())[_0x1076ba(0x238)](()=>{const _0x402145=_0x1076ba;showStatusMessage(_0x402145(0x2ef)+selectedNodes[_0x402145(0x64d)]+'\x20個節點的內容\x20(共\x20'+_0x37b7b5+_0x402145(0x527),'success');})[_0x1076ba(0x513)](_0x242501=>{const _0x33cc9d=_0x1076ba;showStatusMessage(_0x33cc9d(0x5bb),'error');});}else showStatusMessage(_0x1076ba(0x2db),_0x1076ba(0x616));}translateX=window[_0x267d97(0x5af)]/0x2-0x64,translateY=window[_0x267d97(0x314)]/0x2-0x32,nodesContainer['style'][_0x267d97(0x209)]=_0x267d97(0x47f)+translateX+'px,\x20'+translateY+_0x267d97(0x204)+scale+')',container[_0x267d97(0x42e)](_0x267d97(0x40c),_0x229d0b=>{const _0x40f7e3=_0x267d97;if(_0x229d0b[_0x40f7e3(0x201)]===0x0&&!spacePressed&&!draggingNode){const _0x4a8310=_0x229d0b[_0x40f7e3(0x671)],_0x4dea97=_0x4a8310[_0x40f7e3(0x419)](_0x40f7e3(0x2ea)),_0x281b68=_0x4dea97?.[_0x40f7e3(0x2cc)][_0x40f7e3(0x191)](_0x40f7e3(0x27a)),_0x1f4e18=getNodesAtPoint(_0x229d0b['clientX'],_0x229d0b['clientY']);if(!_0x4dea97)isSelecting=!![],container[_0x40f7e3(0x2cc)][_0x40f7e3(0x62f)]('selecting'),selectionStartX=_0x229d0b[_0x40f7e3(0x3e4)],selectionStartY=_0x229d0b['clientY'],!selectionBox&&createSelectionBox(),updateSelectionBox(selectionStartX,selectionStartY,_0x229d0b[_0x40f7e3(0x3e4)],_0x229d0b['clientY']),_0x229d0b[_0x40f7e3(0x26c)]();else{if(_0x281b68&&!_0x4a8310['closest'](_0x40f7e3(0x1fa))){const _0x4f5a59=_0x1f4e18['find'](_0x5ce074=>!_0x5ce074['classList']['contains']('frame-node'));_0x4f5a59?handleNodeSelection(_0x229d0b,_0x4f5a59):(isSelecting=!![],container[_0x40f7e3(0x2cc)][_0x40f7e3(0x62f)]('selecting'),selectionStartX=_0x229d0b[_0x40f7e3(0x3e4)],selectionStartY=_0x229d0b[_0x40f7e3(0x2b0)],!selectionBox&&createSelectionBox(),updateSelectionBox(selectionStartX,selectionStartY,_0x229d0b['clientX'],_0x229d0b['clientY']),_0x229d0b[_0x40f7e3(0x26c)]());}else{if(selectedNodes['size']>0x0){const _0x25dd25=findNodeByElement(_0x4dea97);_0x25dd25&&selectedNodes['has'](_0x25dd25['id'])?(draggingNode=_0x25dd25,dragStartWorldX=toWorldX(_0x229d0b[_0x40f7e3(0x3e4)]),dragStartWorldY=toWorldY(_0x229d0b[_0x40f7e3(0x2b0)]),dragOffsetX=dragStartWorldX-_0x25dd25['x'],dragOffsetY=dragStartWorldY-_0x25dd25['y']):clearSelection();}else handleNodeSelection(_0x229d0b,_0x4dea97);}}}else(spacePressed||_0x229d0b[_0x40f7e3(0x201)]===0x1)&&(isPanning=!![],panStartX=_0x229d0b[_0x40f7e3(0x3e4)]-translateX,panStartY=_0x229d0b['clientY']-translateY,container['classList'][_0x40f7e3(0x62f)](_0x40f7e3(0x44e)),_0x229d0b[_0x40f7e3(0x26c)]());});function getNodesAtPoint(_0x117719,_0x28f06c){const _0x5a5174=_0x267d97;return Array[_0x5a5174(0x447)](document[_0x5a5174(0x2fd)](_0x5a5174(0x2ea)))['filter'](_0x28885f=>{const _0xbea586=_0x5a5174,_0x16a356=_0x28885f['getBoundingClientRect']();return _0x117719>=_0x16a356['left']&&_0x117719<=_0x16a356[_0xbea586(0x274)]&&_0x28f06c>=_0x16a356[_0xbea586(0x422)]&&_0x28f06c<=_0x16a356[_0xbea586(0x2d0)];})[_0x5a5174(0x332)]((_0x52308f,_0x39be6a)=>{const _0x4df583=_0x5a5174,_0x2396b5=parseInt(window[_0x4df583(0x56b)](_0x52308f)[_0x4df583(0x55a)])||0x0,_0x36abce=parseInt(window[_0x4df583(0x56b)](_0x39be6a)['zIndex'])||0x0;return _0x36abce-_0x2396b5;});}function handleNodeSelection(_0x5b64a2,_0x550b79){const _0x3466bc=_0x267d97,_0x2a7850=findNodeByElement(_0x550b79);if(!_0x2a7850)return;if(_0x550b79[_0x3466bc(0x2cc)]['contains'](_0x3466bc(0x27a))&&_0x5b64a2[_0x3466bc(0x671)][_0x3466bc(0x419)](_0x3466bc(0x3b2))){draggingNode=_0x2a7850,dragStartWorldX=toWorldX(_0x5b64a2[_0x3466bc(0x3e4)]),dragStartWorldY=toWorldY(_0x5b64a2[_0x3466bc(0x2b0)]),dragOffsetX=dragStartWorldX-_0x2a7850['x'],dragOffsetY=dragStartWorldY-_0x2a7850['y'],_0x5b64a2['stopPropagation']();return;}!_0x550b79[_0x3466bc(0x2cc)]['contains']('frame-node')&&(!_0x5b64a2['ctrlKey']&&clearSelection(),_0x550b79[_0x3466bc(0x2cc)][_0x3466bc(0x62f)](_0x3466bc(0x22c)),selectedNodes[_0x3466bc(0x62f)](_0x2a7850['id']),draggingNode=_0x2a7850,dragStartWorldX=toWorldX(_0x5b64a2[_0x3466bc(0x3e4)]),dragStartWorldY=toWorldY(_0x5b64a2[_0x3466bc(0x2b0)]),dragOffsetX=dragStartWorldX-_0x2a7850['x'],dragOffsetY=dragStartWorldY-_0x2a7850['y'],_0x5b64a2[_0x3466bc(0x4de)]());}document[_0x267d97(0x42e)](_0x267d97(0x2ce),_0x38f1e1=>{const _0x329c25=_0x267d97;draggingNode&&draggingNode[_0x329c25(0x1f1)]&&delete draggingNode[_0x329c25(0x406)];if(isSelecting){const _0x4a0025={'left':Math[_0x329c25(0x646)](selectionStartX,_0x38f1e1[_0x329c25(0x3e4)]),'right':Math[_0x329c25(0x684)](selectionStartX,_0x38f1e1[_0x329c25(0x3e4)]),'top':Math[_0x329c25(0x646)](selectionStartY,_0x38f1e1[_0x329c25(0x2b0)]),'bottom':Math[_0x329c25(0x684)](selectionStartY,_0x38f1e1['clientY'])};(_0x4a0025[_0x329c25(0x274)]-_0x4a0025['left']>0x5||_0x4a0025[_0x329c25(0x2d0)]-_0x4a0025[_0x329c25(0x422)]>0x5)&&(!shiftPressed&&clearSelection(),selectNodesInBox(_0x4a0025,shiftPressed)),isSelecting=![],container[_0x329c25(0x2cc)][_0x329c25(0x2b4)](_0x329c25(0x600)),selectionBox&&(selectionBox[_0x329c25(0x66e)][_0x329c25(0x6b5)]=_0x329c25(0x352));}draggingNode=null,connecting=null,isPanning=![],container[_0x329c25(0x2cc)]['remove'](_0x329c25(0x44e)),container[_0x329c25(0x2cc)]['remove'](_0x329c25(0x383)),drawConnections();}),document[_0x267d97(0x42e)](_0x267d97(0x2e0),_0x5df474=>{const _0x264e76=_0x267d97;if(isSelecting)updateSelectionBox(selectionStartX,selectionStartY,_0x5df474[_0x264e76(0x3e4)],_0x5df474[_0x264e76(0x2b0)]);else{if(isPanning)translateX=_0x5df474['clientX']-panStartX,translateY=_0x5df474['clientY']-panStartY,applyTransform(),drawConnections();else{if(draggingNode){const _0x1bbd3d=toWorldX(_0x5df474[_0x264e76(0x3e4)]),_0x37a197=toWorldY(_0x5df474[_0x264e76(0x2b0)]),_0x3d66eb=_0x1bbd3d-dragStartWorldX,_0x426ae0=_0x37a197-dragStartWorldY;selectedNodes['size']>0x0?selectedNodes[_0x264e76(0x54e)](_0x22b2b9=>{const _0xc328e1=nodes[_0x22b2b9];_0xc328e1&&(_0xc328e1['x']+=_0x3d66eb,_0xc328e1['y']+=_0x426ae0,updateNodePosition(_0xc328e1));}):(draggingNode['x']=_0x1bbd3d-dragOffsetX,draggingNode['y']=_0x37a197-dragOffsetY,updateNodePosition(draggingNode)),dragStartWorldX=_0x1bbd3d,dragStartWorldY=_0x37a197,drawConnections();}else{if(draggingNode){const _0x4ae643=toWorldX(_0x5df474[_0x264e76(0x3e4)]),_0x43bdf0=toWorldY(_0x5df474['clientY']),_0x590003=_0x4ae643-dragStartWorldX,_0x251a10=_0x43bdf0-dragStartWorldY;if(selectedNodes[_0x264e76(0x64d)]>0x0){}else draggingNode['x']=_0x4ae643-dragOffsetX,draggingNode['y']=_0x43bdf0-dragOffsetY,updateNodePosition(draggingNode),draggingNode[_0x264e76(0x1f1)]&&draggingNode[_0x264e76(0x406)]&&draggingNode[_0x264e76(0x406)][_0x264e76(0x54e)](({node:_0x57f080,offsetX:_0x49b295,offsetY:_0xfc2f5})=>{_0x57f080['x']=draggingNode['x']+_0x49b295,_0x57f080['y']=draggingNode['y']+_0xfc2f5,updateNodePosition(_0x57f080);});dragStartWorldX=_0x4ae643,dragStartWorldY=_0x43bdf0,drawConnections();}else connecting&&(connecting[_0x264e76(0x4b1)]=_0x5df474[_0x264e76(0x3e4)],connecting[_0x264e76(0x484)]=_0x5df474[_0x264e76(0x2b0)],drawConnections());}}}});function disconnectNodeFromParent(_0x3050cc){const _0x316b04=_0x267d97,_0x571a89=connections['filter'](_0x466bea=>_0x466bea['toNode']===_0x3050cc);if(_0x571a89['length']===0x0){showStatusMessage(_0x316b04(0x1ef),'warning');return;}connections=connections[_0x316b04(0x2fb)](_0x353cbc=>_0x353cbc[_0x316b04(0x311)]!==_0x3050cc),drawConnections(),showStatusMessage(_0x316b04(0x226)+_0x571a89[_0x316b04(0x585)]+_0x316b04(0x2ed),'success');}const VERTICAL_SPACING=0xa;function multiColumnAlignNodes(){const _0x5733c8=_0x267d97;if(!selectedNodes||selectedNodes[_0x5733c8(0x64d)]<0x2)return;const _0x3b1683=0xa,_0x4867fa=0x1e;let _0x39a4d9=findTopLeftNode(selectedNodes,nodes);if(!_0x39a4d9)return;const _0x145c60=groupNodesIntoColumns(_0x39a4d9,selectedNodes,nodes);arrangeColumns(_0x145c60,_0x39a4d9,_0x4867fa,_0x3b1683,nodes),drawConnections(),showStatusMessage(_0x5733c8(0x1fb)+selectedNodes['size']+_0x5733c8(0x244),_0x5733c8(0x613));}function findTopLeftNode(_0x38788a,_0x157f6a){const _0x5e8848=_0x267d97;let _0x3e61aa=null,_0xa78f86=Infinity,_0x467794=Infinity;return _0x38788a[_0x5e8848(0x54e)](_0x58dfc5=>{const _0x4513bd=_0x157f6a[_0x58dfc5];(_0x4513bd['x']<_0xa78f86||_0x4513bd['x']===_0xa78f86&&_0x4513bd['y']<_0x467794)&&(_0xa78f86=_0x4513bd['x'],_0x467794=_0x4513bd['y'],_0x3e61aa=_0x4513bd);}),_0x3e61aa;}function groupNodesIntoColumns(_0x182879,_0x5c216b,_0x4e50f6){const _0x4a4b59=_0x267d97,_0x37c114=[[]],_0x383b9d=Array[_0x4a4b59(0x447)](_0x5c216b)[_0x4a4b59(0x2ff)](_0x510645=>_0x4e50f6[_0x510645])[_0x4a4b59(0x2fb)](_0x46f44c=>_0x46f44c!==_0x182879);_0x383b9d['sort']((_0x5b1d77,_0x196ba4)=>_0x5b1d77['x']-_0x196ba4['x']),_0x37c114[0x0][_0x4a4b59(0x664)](_0x182879);let _0x5536ad=0x0;return _0x383b9d['forEach']((_0x13e307,_0x4d6895)=>{const _0x4742b3=_0x4a4b59,_0x42574f=_0x37c114[_0x5536ad],_0x4abda2=_0x42574f[0x0]['x']+_0x42574f[0x0][_0x4742b3(0x636)][_0x4742b3(0x5b7)]+0x1e;_0x4d6895>0x0&&_0x13e307['x']>_0x4abda2&&(_0x5536ad++,_0x37c114[_0x5536ad]=[]),_0x37c114[_0x5536ad][_0x4742b3(0x664)](_0x13e307);}),_0x37c114;}function arrangeColumns(_0x1ccf31,_0x126299,_0x198034,_0x2e3946,_0x4211ea){const _0xee25b3=_0x267d97,_0x20737f=_0x126299['y'];let _0x50c74f=_0x126299['x']+_0x126299['element'][_0xee25b3(0x5b7)];arrangeSingleColumn(_0x1ccf31[0x0],_0x20737f,_0x2e3946,_0x126299['x'],_0x4211ea);for(let _0x4b300f=0x1;_0x4b300f<_0x1ccf31['length'];_0x4b300f++){const _0x488a2a=_0x1ccf31[_0x4b300f],_0x548e29=_0x488a2a[0x0]['x']-_0x50c74f>_0x198034*0x2,_0x5acf6a=_0x548e29?_0x50c74f+_0x198034*0x2:_0x50c74f+_0x198034;arrangeSingleColumn(_0x488a2a,_0x20737f,_0x2e3946,_0x5acf6a,_0x4211ea),_0x50c74f=_0x5acf6a+getColumnWidth(_0x488a2a);}}function getColumnWidth(_0x3f5df0){const _0x511a3b=_0x267d97;return Math[_0x511a3b(0x684)](..._0x3f5df0[_0x511a3b(0x2ff)](_0x5f2fb8=>_0x5f2fb8[_0x511a3b(0x636)][_0x511a3b(0x5b7)]));}function arrangeSingleColumn(_0x3d868e,_0xc6b06a,_0x148666,_0x12f9dc,_0x3c8c14){const _0xe3c9ee=_0x267d97;let _0x2dd179=_0xc6b06a;_0x3d868e[_0xe3c9ee(0x332)]((_0x12f556,_0xccb967)=>_0x12f556['y']-_0xccb967['y']),_0x3d868e[_0xe3c9ee(0x54e)](_0x6751c3=>{const _0x30eaa4=_0xe3c9ee;_0x6751c3['x']=_0x12f9dc,_0x6751c3['y']=_0x2dd179,updateNodePosition(_0x6751c3),_0x2dd179+=_0x6751c3[_0x30eaa4(0x636)][_0x30eaa4(0x2f3)]+_0x148666;});}document[_0x267d97(0x42e)]('keydown',_0x4309c8=>{const _0x4a7c18=_0x267d97,_0x38dc52=_0x4309c8[_0x4a7c18(0x671)][_0x4a7c18(0x61f)]===_0x4a7c18(0x1b9)||_0x4309c8['target']['tagName']===_0x4a7c18(0x5de)||_0x4309c8[_0x4a7c18(0x671)][_0x4a7c18(0x225)];_0x4309c8[_0x4a7c18(0x214)]===_0x4a7c18(0x4ae)&&selectedNodes[_0x4a7c18(0x64d)]>0x0&&(_0x4309c8[_0x4a7c18(0x26c)](),deleteSelectedNodes());_0x4309c8[_0x4a7c18(0x214)]['toLowerCase']()==='g'&&selectedNodes[_0x4a7c18(0x64d)]>0x1&&(createGroupNodeFromSelection(),_0x4309c8[_0x4a7c18(0x26c)]());_0x4309c8[_0x4a7c18(0x214)]['toLowerCase']()==='z'&&selectedNodes['size']>0x0&&!_0x38dc52&&(toggleNodeColors(),_0x4309c8[_0x4a7c18(0x26c)]());_0x4309c8[_0x4a7c18(0x214)][_0x4a7c18(0x546)]()==='c'&&selectedNodes[_0x4a7c18(0x64d)]>0x1&&!_0x38dc52&&(multiColumnAlignNodes(),_0x4309c8[_0x4a7c18(0x26c)]());_0x4309c8[_0x4a7c18(0x214)][_0x4a7c18(0x546)]()==='v'&&selectedNodes[_0x4a7c18(0x64d)]>0x1&&!_0x38dc52&&(collapseAndAlignSelectedNodes(),arrangeSelectedNodesVertically(),_0x4309c8['preventDefault']());(_0x4309c8[_0x4a7c18(0x214)]==='b'||_0x4309c8[_0x4a7c18(0x214)]==='B')&&(selectedNodes[_0x4a7c18(0x64d)]>0x0&&arrangeSelectedNodesBalanced());if(_0x4309c8[_0x4a7c18(0x214)][_0x4a7c18(0x546)]()==='d'&&selectedNodes['size']===0x1&&!_0x38dc52){const _0x476b69=selectedNodes[_0x4a7c18(0x5c1)]()[_0x4a7c18(0x5e9)]()[_0x4a7c18(0x355)];disconnectNodeFromParent(_0x476b69),_0x4309c8[_0x4a7c18(0x26c)]();}_0x4309c8['key'][_0x4a7c18(0x546)]()==='q'&&selectedNodes[_0x4a7c18(0x64d)]>0x0&&(copySelectedNodesContent(),_0x4309c8[_0x4a7c18(0x26c)]());_0x4309c8['code']==='Space'&&(spacePressed=!![],container['style'][_0x4a7c18(0x57a)]=_0x4a7c18(0x1fc));_0x4309c8[_0x4a7c18(0x214)]==='Shift'&&(shiftPressed=!![]);if(_0x4309c8[_0x4a7c18(0x214)][_0x4a7c18(0x546)]()==='r'&&selectedNodes['size']===0x1){const _0x994d79=Array[_0x4a7c18(0x447)](selectedNodes)[0x0];colorizeChildConnections(_0x994d79),drawConnections();}if(_0x4309c8[_0x4a7c18(0x214)][_0x4a7c18(0x546)]()==='a'&&selectedNodes['size']===0x1){const _0x14a68a=selectedNodes[_0x4a7c18(0x5c1)]()[_0x4a7c18(0x5e9)]()[_0x4a7c18(0x355)],_0xc2988b=new Set(selectedNodes),_0x5d2758=document['getElementById'](_0x4a7c18(0x394))[_0x4a7c18(0x1ae)];selectNodeAndChildren(_0x14a68a,_0x5d2758);let _0x32564a=0x0;selectedNodes[_0x4a7c18(0x54e)](_0x618d15=>{if(!_0xc2988b['has'](_0x618d15))_0x32564a++;}),showStatusMessage(_0x4a7c18(0x51a)+_0x32564a+_0x4a7c18(0x5f7),'success'),_0x4309c8[_0x4a7c18(0x26c)]();}if(_0x4309c8[_0x4a7c18(0x214)][_0x4a7c18(0x546)]()==='e'&&!_0x38dc52){const _0x11828c=window[_0x4a7c18(0x5af)]/0x2,_0x524a53=window[_0x4a7c18(0x314)]/0x2,_0x5f307e=toWorldX(_0x11828c),_0x39de93=toWorldY(_0x524a53);createNode(_0x5f307e,_0x39de93),_0x4309c8[_0x4a7c18(0x26c)]();}if(!activePopup)return;const _0x4d9b1c=0x14;switch(_0x4309c8[_0x4a7c18(0x214)][_0x4a7c18(0x546)]()){case'w':popupScrollPosition=Math['max'](0x0,popupScrollPosition-_0x4d9b1c),updatePopupScroll(),_0x4309c8['preventDefault']();break;case's':const _0x1d5f34=activePopup[_0x4a7c18(0x5d7)]-activePopup['clientHeight'];popupScrollPosition=Math[_0x4a7c18(0x646)](_0x1d5f34,popupScrollPosition+_0x4d9b1c),updatePopupScroll(),_0x4309c8['preventDefault']();break;}});function arrangeSelectedNodesBalanced(){const _0x169df1=_0x267d97;if(selectedNodes[_0x169df1(0x64d)]===0x0){showStatusMessage('請先選擇要排列的節點',_0x169df1(0x616));return;}const _0x17207e=Array[_0x169df1(0x447)](selectedNodes),_0x3c245d=_0x17207e[_0x169df1(0x2ff)](_0x1d9ce3=>nodes[_0x1d9ce3]),_0x35ad1d=sortNodesByChildCountBalanced(_0x3c245d),_0x417d35=findMostCommonXPosition(_0x3c245d),_0xc565aa=findTopmostYPosition(_0x3c245d);arrangeNodesInBalancedPattern(_0x35ad1d,_0x417d35,_0xc565aa),drawConnections(),showStatusMessage(_0x169df1(0x179)+selectedNodes[_0x169df1(0x64d)]+'\x20個節點（最多子節點在中間）','success');}function sortNodesByChildCountBalanced(_0x24ea70){const _0x38cc7f=_0x267d97,_0x4c55b0=_0x24ea70['sort']((_0x516bd6,_0x99e158)=>{const _0x5b1285=getChildNodeCount(_0x516bd6['id']),_0x254dcf=getChildNodeCount(_0x99e158['id']);return _0x5b1285-_0x254dcf;}),_0x492248=[],_0x3479bf=_0x4c55b0[_0x38cc7f(0x585)];for(let _0x42094c=0x0;_0x42094c<_0x3479bf;_0x42094c++){_0x42094c%0x2===0x0?_0x492248[_0x38cc7f(0x664)](_0x4c55b0['shift']()):_0x492248[_0x38cc7f(0x664)](_0x4c55b0['pop']());}return _0x492248;}function arrangeNodesInBalancedPattern(_0x1db8d9,_0x479b26,_0x6c8b1c){const _0x66c080=_0x267d97,_0xea6971=0x32;if(_0x1db8d9[_0x66c080(0x585)]===0x0)return;_0x1db8d9['forEach']((_0x3311f0,_0x845c7a)=>{const _0x122a40=_0x6c8b1c+_0x845c7a*_0xea6971;_0x3311f0['y']=_0x122a40,updateNodePosition(_0x3311f0);}),showBalancedArrangementInfo(_0x1db8d9);}function findMostCommonXPosition(_0x3d5a1b){const _0x1c3e92=_0x267d97;if(_0x3d5a1b[_0x1c3e92(0x585)]===0x0)return 0x0;return _0x3d5a1b[0x0]['x'];}function showBalancedArrangementInfo(_0x3a4ebd){const _0xd80c5f=_0x267d97,_0x30a88e=_0x3a4ebd[_0xd80c5f(0x2ff)]((_0x49482f,_0x5a8d08)=>{const _0xddb332=_0xd80c5f,_0x18e047=_0x49482f[_0xddb332(0x636)][_0xddb332(0x303)](_0xddb332(0x558))[_0xddb332(0x355)],_0x4bc42f=getChildNodeCount(_0x49482f['id']),_0x37d681=_0x5a8d08===0x0?'頂部':_0x5a8d08===_0x3a4ebd[_0xddb332(0x585)]-0x1?'底部':_0x5a8d08===Math['floor'](_0x3a4ebd[_0xddb332(0x585)]/0x2)?'中間':'其他';return{'title':_0x18e047,'childCount':_0x4bc42f,'position':_0x37d681};}),_0x44859e=_0x30a88e[0x0],_0x35f2b3=_0x30a88e[_0x30a88e[_0xd80c5f(0x585)]-0x1],_0x46e819=Math['floor'](_0x30a88e[_0xd80c5f(0x585)]/0x2),_0x20c4f3=_0x30a88e[_0x46e819];let _0x119529='排列完成：';_0x119529+=_0xd80c5f(0x33a)+_0x44859e[_0xd80c5f(0x45c)]+'」('+_0x44859e[_0xd80c5f(0x533)]+_0xd80c5f(0x507),_0x119529+=_0xd80c5f(0x534)+_0x20c4f3[_0xd80c5f(0x45c)]+'」('+_0x20c4f3[_0xd80c5f(0x533)]+_0xd80c5f(0x507),_0x119529+='底部「'+_0x35f2b3[_0xd80c5f(0x45c)]+'」('+_0x35f2b3[_0xd80c5f(0x533)]+_0xd80c5f(0x524),showStatusMessage(_0x119529,'info');}function deleteSelectedNodes(){const _0x209779=_0x267d97,_0x621c86=Array[_0x209779(0x447)](selectedNodes)[_0x209779(0x2ff)](_0x390b88=>nodes[_0x209779(0x6a3)](_0x92310=>_0x92310&&_0x92310['id']===_0x390b88))[_0x209779(0x2fb)](Boolean);_0x621c86[_0x209779(0x54e)](_0x5d9965=>{const _0x3649a3=_0x209779;if(!_0x5d9965)return;connections=connections[_0x3649a3(0x2fb)](_0x2b71c9=>_0x2b71c9[_0x3649a3(0x659)]!==_0x5d9965['id']&&_0x2b71c9[_0x3649a3(0x311)]!==_0x5d9965['id']);_0x5d9965[_0x3649a3(0x636)]&&_0x5d9965[_0x3649a3(0x636)][_0x3649a3(0x1a7)]&&_0x5d9965['element'][_0x3649a3(0x2b4)]();_0x5d9965[_0x3649a3(0x1a9)]&&_0x5d9965['popupContainer'][_0x3649a3(0x2b4)]();const _0x5374b2=_0x5d9965[_0x3649a3(0x636)]?.[_0x3649a3(0x303)](_0x3649a3(0x278));_0x5374b2&&ALL_ACTIVE_POPUPS[_0x3649a3(0x66a)](_0x5374b2);const _0x2445db=nodes[_0x3649a3(0x4fe)](_0x26448a=>_0x26448a&&_0x26448a['id']===_0x5d9965['id']);_0x2445db!==-0x1&&nodes[_0x3649a3(0x259)](_0x2445db,0x1);}),reassignNodeIds(),selectedNodes[_0x209779(0x612)](),drawConnections(),updateNodeList(),showStatusMessage(_0x209779(0x2f6)+_0x621c86[_0x209779(0x585)]+_0x209779(0x3cc),_0x209779(0x613));}function reassignNodeIds(){const _0x102abd=_0x267d97;nodes[_0x102abd(0x54e)]((_0x513815,_0x43a843)=>{const _0x172935=_0x102abd;if(_0x513815){const _0x3e6fbe=_0x513815['id'];_0x513815['id']=_0x43a843,connections[_0x172935(0x54e)](_0x49ebbd=>{const _0x54e8af=_0x172935;if(_0x49ebbd[_0x54e8af(0x659)]===_0x3e6fbe)_0x49ebbd[_0x54e8af(0x659)]=_0x43a843;if(_0x49ebbd[_0x54e8af(0x311)]===_0x3e6fbe)_0x49ebbd[_0x54e8af(0x311)]=_0x43a843;}),selectedNodes[_0x172935(0x620)](_0x3e6fbe)&&(selectedNodes[_0x172935(0x66a)](_0x3e6fbe),selectedNodes[_0x172935(0x62f)](_0x43a843));}});}function collapseAndAlignSelectedNodes(){const _0x4b7877=_0x267d97;if(selectedNodes[_0x4b7877(0x64d)]<0x2)return;const _0x3d3c0a=Array['from'](selectedNodes)['map'](_0xefd47=>nodes[_0xefd47])[_0x4b7877(0x2fb)](_0x2b9a37=>{const _0x1eaa5f=_0x4b7877;if(!_0x2b9a37||_0x2b9a37[_0x1eaa5f(0x1f1)])return![];const _0x23bd5f=_0x2b9a37[_0x1eaa5f(0x636)][_0x1eaa5f(0x303)](_0x1eaa5f(0x329)),_0x592ecd=_0x23bd5f&&!_0x23bd5f['classList'][_0x1eaa5f(0x191)]('hidden');return!_0x592ecd;});if(_0x3d3c0a[_0x4b7877(0x585)]<0x2)return;_0x3d3c0a['forEach'](_0x20aa86=>{collapseNode(_0x20aa86);}),multiColumnAlignNodes(),showStatusMessage(_0x4b7877(0x2e5)+_0x3d3c0a[_0x4b7877(0x585)]+'\x20個節點',_0x4b7877(0x613));}function collapseNode(_0x20dc27){const _0x1db6c7=_0x267d97,_0x2f794c=_0x20dc27[_0x1db6c7(0x636)],_0x255f17=_0x2f794c[_0x1db6c7(0x303)](_0x1db6c7(0x2df));if(_0x255f17&&!_0x2f794c[_0x1db6c7(0x2cc)][_0x1db6c7(0x191)](_0x1db6c7(0x24f))){_0x2f794c[_0x1db6c7(0x2cc)]['add']('collapsed');const _0x4b40e3=_0x2f794c[_0x1db6c7(0x303)](_0x1db6c7(0x4f2)),_0x514a54=_0x2f794c[_0x1db6c7(0x2fd)](_0x1db6c7(0x48e)),_0x2c03d8=_0x2f794c[_0x1db6c7(0x303)]('.header-port');_0x514a54[_0x1db6c7(0x54e)](_0x560ff1=>_0x560ff1[_0x1db6c7(0x66e)][_0x1db6c7(0x6b5)]=_0x1db6c7(0x352));if(!_0x2c03d8){const _0x497bc0=document['createElement'](_0x1db6c7(0x1c1));_0x497bc0[_0x1db6c7(0x65b)]=_0x1db6c7(0x562),_0x497bc0[_0x1db6c7(0x2be)][_0x1db6c7(0x464)]=_0x1db6c7(0x1c6),_0x497bc0[_0x1db6c7(0x66e)][_0x1db6c7(0x6b5)]=_0x1db6c7(0x550),_0x2f794c[_0x1db6c7(0x303)]('.node-header')[_0x1db6c7(0x443)](_0x497bc0);}else _0x2c03d8[_0x1db6c7(0x66e)][_0x1db6c7(0x6b5)]='block';_0x255f17['textContent']='+',drawConnections();}}document['addEventListener']('keyup',_0x28cc4a=>{const _0x2c05aa=_0x267d97;if(_0x28cc4a[_0x2c05aa(0x1fe)]===_0x2c05aa(0x608))spacePressed=![],!isPanning&&(container[_0x2c05aa(0x66e)][_0x2c05aa(0x57a)]='');else _0x28cc4a[_0x2c05aa(0x214)]===_0x2c05aa(0x5e5)&&(shiftPressed=![]);}),container[_0x267d97(0x42e)](_0x267d97(0x221),_0xdc4253=>{const _0x29172e=_0x267d97;_0xdc4253[_0x29172e(0x671)]===container&&selectedNodes[_0x29172e(0x64d)]>0x0&&clearSelection();});function findNodeByElement(_0x3db4c0){const _0x4ef2fd=_0x267d97;return nodes[_0x4ef2fd(0x6a3)](_0x3fa645=>_0x3fa645[_0x4ef2fd(0x636)]===_0x3db4c0);}container[_0x267d97(0x42e)](_0x267d97(0x25a),_0x4668b3=>{const _0x32058f=_0x267d97;_0x4668b3[_0x32058f(0x26c)]();const _0x5aed77=_0x4668b3['clientX'],_0x44bb74=_0x4668b3[_0x32058f(0x2b0)],_0x3dcc18=(_0x5aed77-translateX)/scale,_0x2c891a=(_0x44bb74-translateY)/scale,_0x144e9c=-_0x4668b3[_0x32058f(0x3db)],_0x19ee43=_0x144e9c>0x0?scale*1.1:scale/1.1;scale=Math['min'](Math[_0x32058f(0x684)](0.1,_0x19ee43),0x3),translateX=_0x5aed77-_0x3dcc18*scale,translateY=_0x44bb74-_0x2c891a*scale,applyTransform();});function applyTransform(){const _0x4c3fe3=_0x267d97;transformContainer[_0x4c3fe3(0x66e)]['transform']=_0x4c3fe3(0x514)+translateX+_0x4c3fe3(0x62d)+translateY+_0x4c3fe3(0x57e)+scale+_0x4c3fe3(0x1f2),nodesContainer['style'][_0x4c3fe3(0x209)]=_0x4c3fe3(0x514)+translateX+_0x4c3fe3(0x62d)+translateY+_0x4c3fe3(0x57e)+scale+_0x4c3fe3(0x1f2),drawConnections(),updateNodeList(),updateMinimap();}function drawConnections(){return new Promise(_0x38af30=>{const _0x143356=_0x357f;ctx[_0x143356(0x686)](0x0,0x0,canvas[_0x143356(0x3f8)],canvas['height']),ctx[_0x143356(0x577)](0x1,0x0,0x0,0x1,0x0,0x0),connections[_0x143356(0x54e)](_0xe3c0bf=>{const _0x8b8b4a=_0x143356,_0x101b8b=nodes[_0xe3c0bf[_0x8b8b4a(0x659)]],_0x1b814b=nodes[_0xe3c0bf[_0x8b8b4a(0x311)]];let _0xb0d78e;_0x101b8b[_0x8b8b4a(0x636)][_0x8b8b4a(0x2cc)][_0x8b8b4a(0x191)](_0x8b8b4a(0x24f))?_0xb0d78e=_0x101b8b[_0x8b8b4a(0x636)][_0x8b8b4a(0x303)]('.header-port'):_0xb0d78e=_0x101b8b[_0x8b8b4a(0x636)][_0x8b8b4a(0x2fd)]('.output-port:not(.header-port)')[_0xe3c0bf['fromOutput']];const _0x1fcc57=_0x1b814b[_0x8b8b4a(0x636)][_0x8b8b4a(0x303)](_0x8b8b4a(0x6c0));if(!_0xb0d78e||!_0x1fcc57)return;const _0x5910c9=_0xb0d78e[_0x8b8b4a(0x262)](),_0x53a9a4=_0x1fcc57['getBoundingClientRect'](),_0x41f3f7=container[_0x8b8b4a(0x262)](),_0x20f0cb=_0x5910c9['left']+_0x5910c9[_0x8b8b4a(0x3f8)]/0x2-_0x41f3f7['left'],_0x3ccaca=_0x5910c9[_0x8b8b4a(0x422)]+_0x5910c9['height']/0x2-_0x41f3f7[_0x8b8b4a(0x422)],_0x481d54=_0x53a9a4[_0x8b8b4a(0x52c)]+_0x53a9a4[_0x8b8b4a(0x3f8)]/0x2-_0x41f3f7[_0x8b8b4a(0x52c)],_0x510cb0=_0x53a9a4[_0x8b8b4a(0x422)]+_0x53a9a4[_0x8b8b4a(0x65a)]/0x2-_0x41f3f7[_0x8b8b4a(0x422)];ctx[_0x8b8b4a(0x3bf)](),ctx[_0x8b8b4a(0x67f)](_0x20f0cb,_0x3ccaca);if(_0x101b8b[_0x8b8b4a(0x636)][_0x8b8b4a(0x2cc)]['contains'](_0x8b8b4a(0x24f))){const _0xf6e88d=0x64+_0xe3c0bf[_0x8b8b4a(0x31d)]*0xf;ctx[_0x8b8b4a(0x5e8)](_0x20f0cb+_0xf6e88d,_0x3ccaca,_0x481d54-0x64,_0x510cb0,_0x481d54,_0x510cb0);}else ctx[_0x8b8b4a(0x5e8)](_0x20f0cb+0x64,_0x3ccaca,_0x481d54-0x64,_0x510cb0,_0x481d54,_0x510cb0);if(_0xe3c0bf[_0x8b8b4a(0x23d)])ctx[_0x8b8b4a(0x2e7)]='#4a90e2',ctx[_0x8b8b4a(0x2ab)]=0x3;else{if(_0xe3c0bf[_0x8b8b4a(0x1ba)]){const _0x333235=parseInt(_0xe3c0bf['colorClass'][_0x8b8b4a(0x268)]('-')[0x1]);ctx[_0x8b8b4a(0x2e7)]=CONNECTION_COLORS[_0x333235%CONNECTION_COLORS[_0x8b8b4a(0x585)]],ctx[_0x8b8b4a(0x2ab)]=0x2;}else ctx['strokeStyle']='#888',ctx['lineWidth']=0x2;}ctx[_0x8b8b4a(0x2ee)]();});if(connecting){const _0x3ec9cd=nodes[connecting[_0x143356(0x659)]];let _0x342d98;_0x3ec9cd[_0x143356(0x636)][_0x143356(0x2cc)][_0x143356(0x191)](_0x143356(0x24f))?_0x342d98=_0x3ec9cd['element']['querySelector'](_0x143356(0x450)+connecting['fromOutput']+'\x22]'):_0x342d98=_0x3ec9cd[_0x143356(0x636)][_0x143356(0x2fd)](_0x143356(0x48e))[connecting['fromOutput']];if(!_0x342d98)return;const _0x3a5ad8=_0x342d98[_0x143356(0x262)](),_0x37bfca=_0x3a5ad8[_0x143356(0x52c)]+_0x3a5ad8[_0x143356(0x3f8)]/0x2-container[_0x143356(0x262)]()['left'],_0x5ef66e=_0x3a5ad8[_0x143356(0x422)]+_0x3a5ad8[_0x143356(0x65a)]/0x2-container[_0x143356(0x262)]()[_0x143356(0x422)],_0x20a370=connecting['currentX']-container[_0x143356(0x262)]()[_0x143356(0x52c)],_0x4294fa=connecting[_0x143356(0x484)]-container[_0x143356(0x262)]()[_0x143356(0x422)];ctx[_0x143356(0x3bf)](),ctx['moveTo'](_0x37bfca,_0x5ef66e),ctx['lineTo'](_0x20a370,_0x4294fa),ctx[_0x143356(0x2e7)]='#888',ctx['lineWidth']=0x2*(0x1/scale),ctx['stroke']();}requestAnimationFrame(()=>{_0x38af30();});});}function startAutoProcessing(){const _0x4d8f36=_0x267d97,_0x17cca7=0x32;stopAutoProcessing();if(generatedNodeCount>=_0x17cca7){showStatusMessage(_0x4d8f36(0x183)+generatedNodeCount+'/'+_0x17cca7+'個)，停止自動處理',_0x4d8f36(0x616));return;}autoProcessingStartTime=Date['now'](),processedNodes[_0x4d8f36(0x612)](),processingQueue=[],currentPhase='initial',showStatusMessage(_0x4d8f36(0x2c1)+generatedNodeCount+'/'+_0x17cca7+')','info'),autoProcessingInterval=setInterval(()=>{const _0x3c4352=_0x4d8f36;if(generatedNodeCount>=_0x17cca7){showStatusMessage(_0x3c4352(0x183)+generatedNodeCount+'/'+_0x17cca7+_0x3c4352(0x62b),'success'),stopAutoProcessing();return;}processAutoWorkflow();},0x320),setTimeout(()=>{const _0x3ebbdf=_0x4d8f36;autoProcessingInterval&&(stopAutoProcessing(),showStatusMessage(_0x3ebbdf(0x253),_0x3ebbdf(0x616)));},0x3a980);}function isNodeCompleted(_0x525230){const _0x40fd4d=_0x267d97,_0x2c2c8b=_0x525230[_0x40fd4d(0x636)][_0x40fd4d(0x303)](_0x40fd4d(0x40b)),_0x3a9642=_0x2c2c8b&&_0x2c2c8b[_0x40fd4d(0x355)]['trim']()!=='',_0x42677c=_0x525230['element'][_0x40fd4d(0x2fd)](_0x40fd4d(0x3d7));let _0x1d3294=![];return _0x42677c[_0x40fd4d(0x585)]>0x0?_0x42677c[_0x40fd4d(0x54e)](_0x14232b=>{const _0x481924=_0x40fd4d;_0x14232b[_0x481924(0x355)][_0x481924(0x486)]()!==''&&(_0x1d3294=!![]);}):_0x1d3294=!![],_0x3a9642&&_0x1d3294;}function stopAutoProcessing(){const _0x52b76c=_0x267d97;autoProcessingInterval&&(clearInterval(autoProcessingInterval),autoProcessingInterval=null),processedNodes[_0x52b76c(0x612)](),processingQueue=[],currentPhase=_0x52b76c(0x254);}function processAutoWorkflow(){const _0x2025d7=_0x267d97;if(Date[_0x2025d7(0x324)]()-autoProcessingStartTime>0x7530){stopAutoProcessing(),showStatusMessage(_0x2025d7(0x253),'warning');return;}if(generatedNodeCount>=0x32){showStatusMessage(_0x2025d7(0x183)+generatedNodeCount+_0x2025d7(0x50f),_0x2025d7(0x616)),stopAutoProcessing();return;}switch(currentPhase){case'initial':processInitialPhase();break;case _0x2025d7(0x33b):processCollapseNonHighlighted();break;case _0x2025d7(0x65e):processArrangeNonHighlighted();break;case'expand_highlighted':processExpandHighlighted();break;case _0x2025d7(0x2ae):processArrangeHighlighted();break;case _0x2025d7(0x3fc):processMissingItems();break;case'check_completion':checkCompletion();break;case'completed':stopAutoProcessing(),showStatusMessage(_0x2025d7(0x69e),_0x2025d7(0x613));break;}}function processInitialPhase(){const _0x6febac=_0x267d97;showStatusMessage(_0x6febac(0x65d),_0x6febac(0x3da));const _0x5945bd=missingNodeNames[_0x6febac(0x64d)]>0x0;checkMissingNodes();if(missingNodeNames[_0x6febac(0x64d)]===0x0){currentPhase=_0x6febac(0x254);return;}currentPhase=_0x6febac(0x33b);}function processCollapseNonHighlighted(){const _0x31ea03=_0x267d97;showStatusMessage(_0x31ea03(0x30c),_0x31ea03(0x3da));let _0x4fd6d7=![];nodes['forEach'](_0x49de49=>{const _0x334887=_0x31ea03;if(!_0x49de49[_0x334887(0x636)][_0x334887(0x2cc)][_0x334887(0x191)](_0x334887(0x381))&&!_0x49de49[_0x334887(0x636)][_0x334887(0x2cc)][_0x334887(0x191)]('collapsed')&&!processedNodes[_0x334887(0x620)](_0x334887(0x232)+_0x49de49['id'])){const _0x200128=_0x49de49[_0x334887(0x636)]['querySelector'](_0x334887(0x2df));_0x200128&&(_0x200128[_0x334887(0x367)]==='-'&&(_0x200128[_0x334887(0x221)](),processedNodes['add'](_0x334887(0x232)+_0x49de49['id']),_0x4fd6d7=!![]));}}),!_0x4fd6d7&&(currentPhase=_0x31ea03(0x65e));}function processArrangeNonHighlighted(){const _0x399e5a=_0x267d97;showStatusMessage('階段3:\x20排列沒有紅框的節點...',_0x399e5a(0x3da));const _0x17ad23=nodes[_0x399e5a(0x2fb)](_0x11d0db=>!_0x11d0db[_0x399e5a(0x636)][_0x399e5a(0x2cc)][_0x399e5a(0x191)](_0x399e5a(0x381)));if(_0x17ad23['length']>0x0){const _0x33f6ef=new Set(selectedNodes);clearSelection(),_0x17ad23[_0x399e5a(0x54e)](_0x5045e1=>{const _0x4872ee=_0x399e5a;selectedNodes[_0x4872ee(0x62f)](_0x5045e1['id']),_0x5045e1[_0x4872ee(0x636)][_0x4872ee(0x2cc)]['add']('selected');}),multiColumnAlignNodes(),clearSelection(),_0x33f6ef['forEach'](_0x56c972=>{const _0x5094ce=_0x399e5a;selectedNodes['add'](_0x56c972),nodes[_0x56c972]&&nodes[_0x56c972][_0x5094ce(0x636)]['classList'][_0x5094ce(0x62f)](_0x5094ce(0x22c));});}currentPhase=_0x399e5a(0x375);}function processExpandHighlighted(){const _0x390c18=_0x267d97;showStatusMessage('階段4:\x20展開有紅框的節點...',_0x390c18(0x3da));let _0x4aff3c=![];nodes[_0x390c18(0x54e)](_0x64b7e6=>{const _0x2a2899=_0x390c18;if(_0x64b7e6[_0x2a2899(0x636)]['classList']['contains'](_0x2a2899(0x381))&&_0x64b7e6[_0x2a2899(0x636)][_0x2a2899(0x2cc)]['contains'](_0x2a2899(0x24f))&&!processedNodes['has'](_0x2a2899(0x6be)+_0x64b7e6['id'])){const _0x27cd41=_0x64b7e6[_0x2a2899(0x636)][_0x2a2899(0x303)](_0x2a2899(0x2df));_0x27cd41&&_0x27cd41[_0x2a2899(0x367)]==='+'&&(_0x27cd41[_0x2a2899(0x221)](),processedNodes[_0x2a2899(0x62f)](_0x2a2899(0x6be)+_0x64b7e6['id']),_0x4aff3c=!![]);}}),!_0x4aff3c&&(currentPhase=_0x390c18(0x2ae));}function processArrangeHighlighted(){const _0x427bb8=_0x267d97;showStatusMessage('階段5:\x20排列有紅框的節點...',_0x427bb8(0x3da));const _0x27f43b=nodes[_0x427bb8(0x2fb)](_0x38d2e6=>_0x38d2e6['element'][_0x427bb8(0x2cc)][_0x427bb8(0x191)]('highlight-missing'));if(_0x27f43b[_0x427bb8(0x585)]>0x0){let _0x1e6231=-Infinity;nodes[_0x427bb8(0x54e)](_0x14f35f=>{const _0x36b03d=_0x427bb8;if(!_0x14f35f['element'][_0x36b03d(0x2cc)][_0x36b03d(0x191)](_0x36b03d(0x381))){const _0x17d206=_0x14f35f['x']+_0x14f35f[_0x36b03d(0x636)][_0x36b03d(0x5b7)];_0x1e6231=Math[_0x36b03d(0x684)](_0x1e6231,_0x17d206);}});_0x1e6231===-Infinity&&(_0x1e6231=0x32);const _0x42a25d=_0x1e6231+0x64;let _0x26b358=0x32;_0x27f43b[_0x427bb8(0x54e)](_0x42521a=>{const _0x499933=_0x427bb8;_0x42521a['x']=_0x42a25d,_0x42521a['y']=_0x26b358,updateNodePosition(_0x42521a),_0x26b358+=_0x42521a[_0x499933(0x636)][_0x499933(0x2f3)]+0x14;}),drawConnections();}currentPhase=_0x427bb8(0x3fc);}function processMissingItems(){const _0x232bd2=_0x267d97;showStatusMessage(_0x232bd2(0x188),'info');let _0x287342=![];nodes[_0x232bd2(0x54e)](_0x2d04b8=>{const _0x3005d5=_0x232bd2,_0x4bfcef=_0x2d04b8[_0x3005d5(0x636)]['querySelectorAll']('.item.highlight-missing');_0x4bfcef[_0x3005d5(0x54e)](_0x50c78f=>{const _0x5f14b5=_0x3005d5,_0x491f63='item_'+_0x2d04b8['id']+'_'+Array[_0x5f14b5(0x447)](_0x50c78f['parentNode'][_0x5f14b5(0x4fa)])[_0x5f14b5(0x24c)](_0x50c78f);if(!processedNodes[_0x5f14b5(0x620)](_0x491f63)){const _0xfa0947=_0x50c78f[_0x5f14b5(0x303)]('.add-node-btn'),_0x32a0c7=_0x50c78f[_0x5f14b5(0x303)](_0x5f14b5(0x3d7)),_0x52086b=_0x32a0c7?_0x32a0c7[_0x5f14b5(0x355)][_0x5f14b5(0x486)]():'';if(_0xfa0947&&_0x52086b&&!isInBlacklist(_0x52086b)){if(generatedNodeCount>=0x32){showStatusMessage(_0x5f14b5(0x183)+generatedNodeCount+'/50)，停止創建新節點',_0x5f14b5(0x616)),stopAutoProcessing();return;}showStatusMessage('自動創建節點:\x20'+_0x52086b+'\x20('+generatedNodeCount+_0x5f14b5(0x2c7),_0x5f14b5(0x3da)),_0xfa0947[_0x5f14b5(0x221)](),processedNodes[_0x5f14b5(0x62f)](_0x491f63),_0x287342=!![],setTimeout(()=>{autoLoadFunctionContentToLatestNode(_0x52086b);},0x12c);}}});}),!_0x287342&&(currentPhase=_0x232bd2(0x2d4));}function checkCompletion(){const _0xfedcc1=_0x267d97;showStatusMessage(_0xfedcc1(0x17a),_0xfedcc1(0x3da));if(generatedNodeCount>=0x32){showStatusMessage(_0xfedcc1(0x183)+generatedNodeCount+_0xfedcc1(0x497),'warning'),currentPhase=_0xfedcc1(0x254),stopAutoProcessing();return;}const _0x2254b4=missingNodeNames[_0xfedcc1(0x64d)];checkMissingNodes();if(missingNodeNames[_0xfedcc1(0x64d)]===0x0)currentPhase=_0xfedcc1(0x254),showStatusMessage(_0xfedcc1(0x361),_0xfedcc1(0x613)),executeDoubleRearrangement();else missingNodeNames[_0xfedcc1(0x64d)]===_0x2254b4?(showStatusMessage(_0xfedcc1(0x487),_0xfedcc1(0x616)),currentPhase=_0xfedcc1(0x254),executeDoubleRearrangement()):(processedNodes[_0xfedcc1(0x612)](),currentPhase=_0xfedcc1(0x33b),showStatusMessage(_0xfedcc1(0x457)+missingNodeNames[_0xfedcc1(0x64d)]+_0xfedcc1(0x477)+generatedNodeCount+_0xfedcc1(0x2c7),_0xfedcc1(0x3da)));}async function executeDoubleRearrangement(){const _0x208e6a=_0x267d97;showStatusMessage('開始執行最終排列優化...',_0x208e6a(0x3da));try{await safeExecuteRearrangement(0x1),await new Promise(_0xc9a314=>setTimeout(_0xc9a314,0x1f4)),await safeExecuteRearrangement(0x2),showStatusMessage(_0x208e6a(0x2bc),_0x208e6a(0x613));}catch(_0xddb314){showStatusMessage(_0x208e6a(0x683),_0x208e6a(0x616));}}async function safeExecuteRearrangement(_0x568896){return new Promise(async _0x181754=>{const _0x578d4e=_0x357f;try{showStatusMessage(_0x578d4e(0x553)+_0x568896+_0x578d4e(0x619),'info'),await rearrangeAllNodesEnhanced(),_0x181754();}catch(_0x538ee6){_0x181754();}});}function autoLoadFunctionContentToLatestNode(_0x321303){const _0x50e351=_0x267d97;if(nodes[_0x50e351(0x585)]>0x0){const _0x4cdf28=nodes[nodes[_0x50e351(0x585)]-0x1],_0x3a7982=_0x4cdf28[_0x50e351(0x636)][_0x50e351(0x303)](_0x50e351(0x558));if(_0x3a7982&&(_0x3a7982['value']['includes'](_0x321303)||_0x3a7982[_0x50e351(0x355)]===_0x321303+'\x20節點')){const _0x206559=autoLoadFunctionContent(_0x4cdf28,_0x321303);_0x206559&&(isNodeCompleted(_0x4cdf28)&&(generatedNodeCount++,showStatusMessage(_0x50e351(0x410)+generatedNodeCount+'/50','success'),generatedNodeCount>=0x32&&(showStatusMessage('已達到節點數量限制\x20('+generatedNodeCount+_0x50e351(0x50f),_0x50e351(0x616)),stopAutoProcessing())));}}}function autoLoadFunctionContent(_0x11fc1a,_0x5fec84){const _0x541398=_0x267d97,_0xa0b4fc=JSON[_0x541398(0x1f5)](localStorage['getItem']('loadedHtmlFunctions')||'{}');if(_0xa0b4fc[_0x5fec84]){const _0xe998cc=_0x11fc1a[_0x541398(0x636)][_0x541398(0x303)]('.paragraph-input');if(_0xe998cc){_0xe998cc[_0x541398(0x355)]=_0xa0b4fc[_0x5fec84][_0x541398(0x1fe)]||_0xa0b4fc[_0x5fec84];const _0x224faa=new Event(_0x541398(0x28b),{'bubbles':!![]});return _0xe998cc[_0x541398(0x23f)](_0x224faa),showStatusMessage(_0x541398(0x2ac)+_0x5fec84+_0x541398(0x468),'success'),!![];}}else return showStatusMessage(_0x541398(0x4ab)+_0x5fec84+_0x541398(0x27f),_0x541398(0x3da)),!![];return![];}function autoLoadFunctionContent(_0x3cafbd,_0x7bfa77){const _0x13c818=_0x267d97,_0x52e7f8=JSON[_0x13c818(0x1f5)](localStorage[_0x13c818(0x405)]('loadedHtmlFunctions')||'{}');if(_0x52e7f8[_0x7bfa77]){const _0x196c8d=_0x3cafbd[_0x13c818(0x636)][_0x13c818(0x303)]('.paragraph-input');if(_0x196c8d){_0x196c8d[_0x13c818(0x355)]=_0x52e7f8[_0x7bfa77][_0x13c818(0x1fe)]||_0x52e7f8[_0x7bfa77];const _0x436a9d=new Event('input',{'bubbles':!![]});return _0x196c8d['dispatchEvent'](_0x436a9d),showStatusMessage(_0x13c818(0x2ac)+_0x7bfa77+_0x13c818(0x468),_0x13c818(0x613)),!![];}}return![];}function initAutoProcessing(){const _0x4f8d25=_0x267d97,_0x598641=document[_0x4f8d25(0x333)](_0x4f8d25(0x201));_0x598641['className']=_0x4f8d25(0x36c),_0x598641['id']=_0x4f8d25(0x678),_0x598641[_0x4f8d25(0x367)]=_0x4f8d25(0x5da),_0x598641[_0x4f8d25(0x66e)][_0x4f8d25(0x6b5)]='none',_0x598641[_0x4f8d25(0x42e)](_0x4f8d25(0x221),()=>{const _0x578ba8=_0x4f8d25;stopAutoProcessing(),showStatusMessage('手動停止自動處理',_0x578ba8(0x3da));});const _0x25775a=document[_0x4f8d25(0x2e4)](_0x4f8d25(0x4ed));_0x25775a&&_0x25775a[_0x4f8d25(0x443)](_0x598641);const _0xb0189d=startAutoProcessing;startAutoProcessing=function(){const _0x4cbcca=_0x4f8d25;return _0x598641[_0x4cbcca(0x66e)][_0x4cbcca(0x6b5)]=_0x4cbcca(0x5fe),_0xb0189d[_0x4cbcca(0x3c1)](this,arguments);};const _0x440798=stopAutoProcessing;stopAutoProcessing=function(){const _0x3a5861=_0x4f8d25;return _0x598641['style'][_0x3a5861(0x6b5)]=_0x3a5861(0x352),_0x440798[_0x3a5861(0x3c1)](this,arguments);};}function init(){const _0xa90c30=_0x267d97;canvas[_0xa90c30(0x3f8)]=container[_0xa90c30(0x5b7)],canvas['height']=container[_0xa90c30(0x2f3)],scale=0x1,translateX=container[_0xa90c30(0x5b7)]/0x2-0x64,translateY=container[_0xa90c30(0x2f3)]/0x2-0x32,applyTransform(),createNode(-0x64,-0x32),updateSameNameHighlights(),updateNodeList(),setInterval(checkVisibleNodes,0x1f4),initMinimap(),initAutoProcessing();}function checkVisibleNodes(){const _0x12f1c6=_0x267d97,_0xd2f832=getVisibleNodes();JSON[_0x12f1c6(0x2b1)](_0xd2f832)!==JSON[_0x12f1c6(0x2b1)](lastVisibleNodes)&&(updateNodeList(),lastVisibleNodes=_0xd2f832);}function getVisibleNodes(){const _0x4ec1b2=_0x267d97,_0x29cf75={'left':0x0,'right':window[_0x4ec1b2(0x5af)],'top':0x0,'bottom':window['innerHeight']};return nodes['filter'](_0x4de94c=>{const _0x2856d9=_0x4ec1b2,_0x13a38a=_0x4de94c['element'][_0x2856d9(0x262)](),_0x2a75cb=_0x13a38a[_0x2856d9(0x274)]>_0x29cf75[_0x2856d9(0x52c)]&&_0x13a38a[_0x2856d9(0x52c)]<_0x29cf75[_0x2856d9(0x274)]&&_0x13a38a[_0x2856d9(0x2d0)]>_0x29cf75['top']&&_0x13a38a[_0x2856d9(0x422)]<_0x29cf75[_0x2856d9(0x2d0)],_0x1cfc03=_0x4de94c[_0x2856d9(0x636)][_0x2856d9(0x303)](_0x2856d9(0x593));_0x1cfc03&&(_0x1cfc03[_0x2856d9(0x66e)][_0x2856d9(0x6b5)]=_0x2a75cb?_0x2856d9(0x550):_0x2856d9(0x352));const _0x16acf2=-0xc8,_0x56dbfd=_0x13a38a[_0x2856d9(0x274)]>_0x29cf75[_0x2856d9(0x52c)]-_0x16acf2&&_0x13a38a[_0x2856d9(0x52c)]<_0x29cf75[_0x2856d9(0x274)]+_0x16acf2&&_0x13a38a[_0x2856d9(0x2d0)]>_0x29cf75[_0x2856d9(0x422)]-_0x16acf2&&_0x13a38a[_0x2856d9(0x422)]<_0x29cf75['bottom']+_0x16acf2;return _0x56dbfd;});}function getNodeHeight(_0x53e0d1){const _0x3ae1de=_0x267d97,_0xdad5e9=0x1e,_0x3992aa=_0x53e0d1[_0x3ae1de(0x303)](_0x3ae1de(0x40b))?0x46:0x0,_0x3ff873=_0x53e0d1[_0x3ae1de(0x2fd)](_0x3ae1de(0x575))[_0x3ae1de(0x585)]*0x1e,_0x925240=0x1e;return _0xdad5e9+_0x3992aa+_0x3ff873+_0x925240+0x14;}function updateNodeList(){const _0xe7f1c8=_0x267d97,_0x439583=document[_0xe7f1c8(0x2e4)](_0xe7f1c8(0x4ee));if(!_0x439583)return;requestAnimationFrame(()=>{const _0x3057f2=_0xe7f1c8;saveCurrentDescriptions();const _0x3230fc=getVisibleNodes(),_0xf4cc68=_0x3230fc[_0x3057f2(0x2ff)](_0x3062dd=>_0x3062dd['id'])[_0x3057f2(0x37a)](','),_0xaeaad7=(lastVisibleNodes||[])[_0x3057f2(0x2ff)](_0x95ccc3=>_0x95ccc3['id'])[_0x3057f2(0x37a)](',');if(_0xf4cc68===_0xaeaad7)return;const _0x19cc1f={};nodes[_0x3057f2(0x54e)](_0x5255c5=>{const _0x5958b4=_0x3057f2,_0x2fa6fa=_0x5255c5[_0x5958b4(0x636)][_0x5958b4(0x303)]('.node-title')?.['value']||_0x5958b4(0x1c9);nodeDescriptions[_0x5255c5['id']]&&nodeDescriptions[_0x5255c5['id']][_0x5958b4(0x486)]()!==''&&(_0x19cc1f[_0x2fa6fa]=nodeDescriptions[_0x5255c5['id']]);});const _0x23289a=document[_0x3057f2(0x3cd)]();_0x3230fc[_0x3057f2(0x54e)](_0x471713=>{const _0xdbc0a7=_0x3057f2,_0x1df3f5=document[_0xdbc0a7(0x333)]('div');_0x1df3f5[_0xdbc0a7(0x65b)]='node-list-item';const _0x4b156c=_0x471713['element'][_0xdbc0a7(0x303)](_0xdbc0a7(0x558))?.['value']||_0xdbc0a7(0x1c9);let _0xf9911d=nodeDescriptions[_0x471713['id']]||'';!_0xf9911d[_0xdbc0a7(0x486)]()&&_0x19cc1f[_0x4b156c]&&(_0xf9911d=_0x19cc1f[_0x4b156c],nodeDescriptions[_0x471713['id']]=_0xf9911d);_0x1df3f5[_0xdbc0a7(0x1ee)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22node-list-name\x22>'+escapeHtml(_0x4b156c)+_0xdbc0a7(0x505)+_0x471713['id']+_0xdbc0a7(0x543)+escapeHtml(_0xf9911d)+_0xdbc0a7(0x5fd);const _0x29b0a7=_0x1df3f5['querySelector']('.node-list-description');_0x29b0a7[_0xdbc0a7(0x42e)](_0xdbc0a7(0x28b),()=>{const _0x268dc8=_0xdbc0a7,_0xf9e341=_0x29b0a7[_0x268dc8(0x355)];nodeDescriptions[_0x29b0a7[_0x268dc8(0x2be)]['nodeId']]=_0xf9e341,saveCurrentDescriptions();if(_0xf9e341[_0x268dc8(0x486)]()!==''){const _0x3c2454=_0x471713['element'][_0x268dc8(0x303)](_0x268dc8(0x558))?.['value']||_0x268dc8(0x1c9);nodes[_0x268dc8(0x54e)](_0x8995c0=>{const _0x12ef69=_0x268dc8,_0x3a4cc1=_0x8995c0[_0x12ef69(0x636)]['querySelector'](_0x12ef69(0x558))?.[_0x12ef69(0x355)]||'未命名節點';_0x3a4cc1===_0x3c2454&&_0x8995c0['id']!==_0x471713['id']&&(nodeDescriptions[_0x8995c0['id']]=_0xf9e341);}),syncDescriptionsForSameNameNodes(_0x29b0a7[_0x268dc8(0x2be)][_0x268dc8(0x2fa)]),updateNodeList();}}),_0x23289a['appendChild'](_0x1df3f5);}),_0x439583['innerHTML']='',_0x439583[_0x3057f2(0x443)](_0x23289a),lastVisibleNodes=_0x3230fc;});}function checkVisibleNodes(){const _0xd53527=_0x267d97;!this[_0xd53527(0x64c)]&&(this[_0xd53527(0x64c)]=debounce(()=>{updateNodeList();},0x64)),this['checkVisibleNodesDebounce']();}function debounce(_0x1535e0,_0x59f4da){let _0x66b7cf;return function(){const _0x3c8255=this,_0x3c4b39=arguments;clearTimeout(_0x66b7cf),_0x66b7cf=setTimeout(()=>{const _0x31ebc1=_0x357f;_0x1535e0[_0x31ebc1(0x3c1)](_0x3c8255,_0x3c4b39);},_0x59f4da);};}function saveCurrentDescriptions(){const _0x8f6ff3=_0x267d97;document[_0x8f6ff3(0x2fd)](_0x8f6ff3(0x412))[_0x8f6ff3(0x54e)](_0x3399ec=>{const _0x5e4fc2=_0x8f6ff3;nodeDescriptions[_0x3399ec['dataset']['nodeId']]=_0x3399ec[_0x5e4fc2(0x355)];}),localStorage['setItem'](_0x8f6ff3(0x5f9),JSON[_0x8f6ff3(0x2b1)](nodeDescriptions));}init(),translateX=window[_0x267d97(0x5af)]/0x2-0x64,translateY=window[_0x267d97(0x314)]/0x2-0x32,nodesContainer[_0x267d97(0x66e)][_0x267d97(0x209)]='translate('+translateX+_0x267d97(0x62d)+translateY+_0x267d97(0x204)+scale+')';
  </script>
</body>

</html>